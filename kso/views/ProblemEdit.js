//>>built
define("kso/views/ProblemEdit","dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(w,x,l,h,f,m,y,z,n,A,B,o,p,q,r,C,D,g,i,e,E,F,G,s,H,I,J,K,L,M,t,N,u,v){return l([q],{id:"kso_problemedit_view",_form:null,_item:null,postCreate:function(){var d=this,b=new v;b.confirm("Hj\u00e6lp til probleml\u00f8sning",'Siden viser redigering af probleml\u00f8sning.<br /><br />Tryk p\u00e5 "aktiv/sluk" knappen for at aktivere handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette eller redigere handleplan.');this.addChild(b);sview=new r;var a=new i({label:"Rediger probleml\u00f8sning",
"class":"headingProblem"}),j=new e({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});a.addChild(j);a.addChild(new e({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));a.addChild(new e({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){n.toggle("headingActionProblemEdit","headingAction-closed");d.resize()}}));this.addChild(a);
var a=new i({id:"headingActionProblemEdit",baseClass:"headingActionProblem"}),k=new e({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});a.addChild(k);a.addChild(new e({label:"Afslut",transition:"slide",onClick:function(){h.publish("problem/eval",d,d._item)}}));a.addChild(new e({label:"Gem",onClick:f.hitch(this,this.onSubmit)}));this.addChild(a);var a=new p({orientation:"vert"}),c=new g({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",
trim:!0});a.addChild(c);c=new g({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});a.addChild(c);c=new g({name:"do_solution",label:"Har du selv ideer til at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. G\u00e5 en tur om aften",trim:!0});a.addChild(c);c=new g({name:"do_help",label:"Hvem kan hj\u00e6lpe dig med at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. Evt nabo, der ogs\u00e5 g\u00e5r tur om aften",
trim:!0});a.addChild(c);c=new s({label:"Slet probleml\u00f8sning?",name:"hidden",leftLabel:"Ja",rightLabel:"Nej"});a.addChild(c);this._form=new o;this._form.domNode.appendChild(a.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new u);h.subscribe("problem/edit",f.hitch(this,function(a,b){j.set("moveTo",a.id);k.set("moveTo",a.id);this._item=f.clone(b);if(this._item.active)this._item.active="on";this._form.set("value",this._item);a.performTransition("kso_problemedit_view",1,"slide")}))},
onSubmit:function(d){m.stop(d);var d=t.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value");b.hidden="on"==b.hidden;b=f.mixin(this._item,b);b.id=this._item.id;b.rev=this._item.rev;d.put(b);h.publish("problem/list",this)},onStartView:function(){}})});