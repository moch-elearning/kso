//>>built
define("kso/views/PlanEdit","dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog,dojox/mobile/SpinWheelDatePicker".split(","),
function(v,w,j,g,e,k,x,y,l,z,A,m,n,o,p,B,C,f,h,d,D,E,F,q,G,H,I,J,K,L,r,M,s,t){return j([o],{id:"kso_planedit_view",_form:null,_item:null,postCreate:function(){var u=this,b=new t;b.confirm("Hj\u00e6lp til handleplan",'Siden viser redigering af handleplan.<br /><br />Angiv hvor sikker du er p\u00e5 handleplanen med skala fra en til ti.<br /><br />Tryk p\u00e5 "aktiv/sluk" knappen for at aktivere handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette eller redigere handleplan.');this.addChild(b);
sview=new p;var a=new h({label:"Rediger handleplan","class":"headingPlan"}),c=new d({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});a.addChild(c);a.addChild(new d({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));a.addChild(new d({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){l.toggle("headingActionPlanEdit","headingAction-closed");
u.resize()}}));this.addChild(a);var a=new h({id:"headingActionPlanEdit",baseClass:"headingActionPlan"}),i=new d({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});a.addChild(i);a.addChild(new d({label:"Gem",onClick:e.hitch(this,this.onSubmit)}));this.addChild(a);a=new n({orientation:"vert"});c=new f({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"fx. G\u00e5 en tur rundt om boligblokken",trim:!0});a.addChild(c);c=new f({name:"do_how_much",label:"Hvor meget?",
"class":"mochInput",placeHolder:"fx. 3 gange",trim:!0});a.addChild(c);c=new f({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"fx. F\u00f8r frokost",trim:!0});a.addChild(c);c=new f({name:"do_how_often",label:"Hvor ofte?","class":"mochInput",placeHolder:"fx. 3 gange om ugen",trim:!0});a.addChild(c);c=new q({label:"Slet handleplanen?",name:"hidden",leftLabel:"Ja",rightLabel:"Nej"});a.addChild(c);this._form=new m;this._form.domNode.appendChild(a.domNode);sview.addChild(this._form);
this.addChild(sview);this.addChild(new s);g.subscribe("plan/edit",e.hitch(this,function(a,b){i.set("moveTo",a.id);this._item=e.clone(b);if(this._item.active)this._item.active="on";this._form.set("value",this._item);a.performTransition("kso_planedit_view",1,"slide")}))},onSubmit:function(d){k.stop(d);var d=r.getInstance().getStore("kso_plan","kso_plan"),b=this._form.get("value");b.hidden="on"==b.hidden;b=e.mixin(this._item,b);b.id=this._item.id;b.rev=this._item.rev;b.active=!0;b.diary_include=!0;d.put(b);
g.publish("plan/list",this)},onStartView:function(){}})});