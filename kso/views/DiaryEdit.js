//>>built
define("kso/views/DiaryEdit","dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/ScrollableView,dojox/mobile/View,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/ExpandingTextArea,dojox/mobile/Heading,dojox/mobile/Button,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog,dojo/domReady!".split(","),
function(v,w,i,f,e,x,j,y,z,k,l,m,n,o,A,B,p,g,C,c,D,E,F,q,r,G,H,s,t){return i([o],{id:"kso_diaryedit_view",_form:null,_item:null,postCreate:function(){var u=this,b=new t;b.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for den valgte dag.<br /><br />Tryk p\u00e5 "Gem" knappen for at gemme "Udf\u00f8rt" og "Kommentarer" for denne dag');this.addChild(b);sview=new n;var a=new g({label:"Rediger dagbog","class":"headingPlan"}),h=new c({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",
style:{"float":"left"},moveTo:"kso_home_view"});a.addChild(h);a.addChild(new c({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));a.addChild(new c({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){k.toggle("headingActionDiaryEdit","headingAction-closed");u.resize()}}));this.addChild(a);var a=new g({id:"headingActionDiaryEdit",baseClass:"headingActionPlan"}),d=new c({label:"Annuller",
moveTo:"kso_diarylist_view",transition:"slide",transitionDir:-1});a.addChild(d);a.addChild(new c({label:"Gem",onClick:e.hitch(this,this.onSubmit)}));this.addChild(a);a=new m({orientation:"vert"});d=new p({label:"Dagbogs tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});a.addChild(d);d=new q({label:"Handleplanen udf\u00f8rt?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});a.addChild(d);this._form=new l;this._form.domNode.appendChild(a.domNode);
sview.addChild(this._form);this.addChild(sview);this.addChild(new s);f.subscribe("diary/edit",e.hitch(this,function(a,b){h.set("moveTo",a.id);a.performTransition("kso_diaryedit_view",1,"slide");this._item=e.clone(b);if(this._item.success)this._item.success="on";this._form.set("value",this._item)}))},onSubmit:function(c){j.stop(c);var c=r.getInstance().getStore("diary","kso_diary"),b=this._form.get("value");b.success="on"==b.success;b.id=this._item.id;b.plan_id=this._item.plan_id;b.rev=this._item.rev;
c.put(b);f.publish("diary/list",this)},onStartView:function(){}})});