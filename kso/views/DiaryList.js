//>>built
define("kso/views/DiaryList","dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),function(C,D,g,e,r,s,t,E,u,
v,c,i,w,d,F,G,j,H,x,y,z,A,B){return g([u],{id:"kso_diarylist_view",_item:null,postCreate:function(){var b=this,h=new B;h.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for valgte handleplan.<br /><br />Tryk p\u00e5 "Rediger plan" for \u00e6ndre handleplanen.<br /><br />Listen indeholder antal dage, f.eks. 14 dage.<br /><br />Man kan til h\u00f8jre i listen se hvilke dage handleplanen er udf\u00f8rt.<br /><br />Tryk p\u00e5 en dag for at redigere i dagbogen.');this.addChild(h);sview=new v;var f=
new j({label:"Handleplan","class":"headingPlan"}),k=new d({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});f.addChild(k);f.addChild(new d({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){h.show()}}));f.addChild(new d({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){t.toggle("headingActionDiaryList","headingAction-closed");b.resize()}}));
this.addChild(f);var a=new j({id:"headingActionDiaryList",baseClass:"headingActionPlan headingAction-closed"});a.addChild(new d({label:"Rediger",transition:"slide",onClick:function(){e.publish("plan/edit",b,b._item)}}));a.addChild(new d({label:"Kopier",transition:"slide",onClick:function(){e.publish("plan/create",b,b._item)}}));a.addChild(new d({label:"Afslut",transition:"slide",onClick:function(){e.publish("plan/eval",b,b._item)}}));this.addChild(a);a=new i({label:"Planlagt handling:","class":"categoryPlan"});
sview.addChild(a);a=new w;sview.addChild(a);var l=new c({label:""});a.addChild(l);var m=new c({label:""});a.addChild(m);var n=new c({label:""});a.addChild(n);var o=new c({label:""});a.addChild(o);var p=new c({label:""});a.addChild(p);var a=x.getInstance().getStore("diary","kso_diary"),g=new i({label:"Dagbog:","class":"categoryPlan"});sview.addChild(g);var q=new z({store:a,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new c({clickable:!0,item:a,onClick:function(){e.publish("diary/edit",
b,this.item)},_setItemAttr:function(a){var b=y.iso_to_date(a.use_at);this.set("label",s.format(new Date(b),{datePattern:"EEE dd/MM",selector:"date"})+" "+(a.info?a.info:""));this.set("rightText",a.success?"Udf\u00f8rt":"");this.item=a}})}});sview.addChild(q);this.addChild(sview);this.addChild(new A);e.subscribe("diary/list",r.hitch(this,function(a,b){this._item=b;f.set("label",b.do_what);k.set("moveTo",a.id);l.set("label","Hvad: "+b.do_what);m.set("label","Hvor meget: "+b.do_how_much);n.set("label",
"Hvorn\u00e5r: "+b.do_when);o.set("label","Hvor ofte: "+b.do_how_often);p.set("label","Vurdering for succes (0-10): "+b.do_success);q.setQuery({plan_id:b.id});a.performTransition("kso_diarylist_view",1,"slide")}))},onStartView:function(){}})});