//>>built
(function(k,m){var g,f,c=function(){},l=function(a){for(var h in a)return 0;return 1},o={}.toString,n=function(a){return"[object Function]"==o.call(a)},e=function(a){return"[object String]"==o.call(a)},b=function(a){return"[object Array]"==o.call(a)},d=function(a,h){if(a)for(var b=0;b<a.length;)h(a[b++])},a=function(a,h){for(var b in h)a[b]=h[b];return a},h=function(h,b){return a(Error(h),{src:"dojoLoader",info:b})},p=1,q=function(){return"_"+p++},r=function(a,h,b){return Oa(a,h,b,0,r)},w=this,t=
w.document,v=t&&t.createElement("DiV"),s=r.has=function(a){return n(u[a])?u[a]=u[a](w,t,v):u[a]},u=s.cache=m.hasCache;s.add=function(a,h,b,d){(void 0===u[a]||d)&&(u[a]=h);return b&&s(a)};for(var x in k.has)s.add(x,k.has[x],0,1);var y=1,A=2,F=3,G=4,H=5,y="requested",A="arrived",F="not-a-module",G="executing",H="executed",D=0,I=[],Q=0,z=c,E=c,B;r.isXdUrl=c;r.initSyncLoader=function(a,h,b){Q||(Q=a,z=h,E=b);return{sync:"sync",requested:y,arrived:A,nonmodule:F,executing:G,executed:H,syncExecStack:I,modules:R,
execQ:T,getModule:W,injectModule:pa,setArrived:ca,signal:K,finishExec:ea,execModule:fa,dojoRequirePlugin:Q,getLegacyMode:function(){return D},guardCheckComplete:ga}};var C=location.protocol,J=location.host;r.isXdUrl=function(a){if(/^\./.test(a))return!1;return/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=C||J&&a[2]!=J)};s.add("dojo-force-activex-xhr",!t.addEventListener&&"file:"==window.location.protocol);s.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(s("native-xhr")&&
!s("dojo-force-activex-xhr"))B=function(){return new XMLHttpRequest};else{var M=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],P;for(g=0;3>g;)try{if(P=M[g++],new ActiveXObject(P))break}catch(N){}B=function(){return new ActiveXObject(P)}}r.getXhr=B;s.add("dojo-gettext-api",1);r.getText=function(a,b,d){var p=B();p.open("GET",qa(a),!1);p.send(null);if(200==p.status||!location.host&&!p.status)d&&d(p.responseText,b);else throw h("xhrFailed",p.status);return p.responseText};var U=new Function("return eval(arguments[0]);");
r.eval=function(a,h){return U(a+"\r\n////@ sourceURL="+h)};var L={},K=r.signal=function(a,h){var p=L[a];d(p&&p.slice(0),function(a){a.apply(null,b(h)?h:[h])})},$=r.on=function(a,h){var b=L[a]||(L[a]=[]);b.push(h);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===h){b.splice(a,1);break}}}},O=[],S={},Pa=[],X={},Qa=r.map={},ra=[],R={},Da="",Y={},sa={},ha={},ta=function(a){var h,b,d,p;for(h in sa)b=sa[h],(d=h.match(/^url\:(.+)/))?Y["url:"+Ra(d[1],a)]=b:"*now"==h?p=b:"*noref"!=h&&(d=ia(h,a),
Y[d.mid]=Y["url:"+d.url]=b);p&&p(Ea(a));sa={}},Sa=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Fa=function(a,h){h.splice(0,h.length);for(var b in a)h.push([b,a[b],RegExp("^"+Sa(b)+"(/|$)"),b.length]);h.sort(function(a,h){return h[3]-a[3]});return h},Ta=function(h){var b=h.name;b||(b=h,h={name:b});h=a({main:"main"},h);h.location=h.location?h.location:b;if(h.packageMap)Qa[b]=h.packageMap;if(!h.main.indexOf("./"))h.main=h.main.substring(2);X[b]=h},Ua=[],ja=
function(h,b,p){for(var c in h){if("waitSeconds"==c)r.waitms=1E3*(h[c]||0);"cacheBust"==c&&(Da=h[c]?e(h[c])?h[c]:(new Date).getTime()+"":"");if("baseUrl"==c||"combo"==c)r[c]=h[c];if("async"==c){var l=h[c];r.legacyMode=D=e(l)&&/sync|legacyAsync/.test(l)?l:!l?"sync":!1;r.async=!D}h[c]!==u&&(r.rawConfig[c]=h[c],"has"!=c&&s.add("config-"+c,h[c],0,b))}if(!r.baseUrl)r.baseUrl="./";/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(c in h.has)s.add(c,h.has[c],0,b);d(h.packages,Ta);for(f in h.packagePaths)d(h.packagePaths[f],
function(a){var h=f+"/"+a;e(a)&&(a={name:a});a.location=h;Ta(a)});Fa(a(Qa,h.map),ra);d(ra,function(a){a[1]=Fa(a[1],[]);if("*"==a[0])ra.star=a});Fa(a(S,h.paths),Pa);d(h.aliases,function(a){e(a[0])&&(a[0]=RegExp("^"+Sa(a[0])+"$"));O.push(a)});if(b)Ua.push({config:h.config});else for(c in h.config)b=W(c,p),b.config=a(b.config||{},h.config[c]);if(h.cache)ta(),sa=h.cache,h.cache["*noref"]&&ta();K("config",[h,r.rawConfig])};s("dojo-cdn");var Va=t.getElementsByTagName("script");g=0;for(var ua,aa,va,ka;g<
Va.length;)if(ua=Va[g++],(va=ua.getAttribute("src"))&&(ka=va.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){aa=ka[3]||"";m.baseUrl=m.baseUrl||aa;(va=ua.getAttribute("data-dojo-config")||ua.getAttribute("djConfig"))&&(ha=r.eval("({ "+va+" })","data-dojo-config"));break}r.rawConfig={};ja(m,1);if(s("dojo-cdn"))(X.dojo.location=aa)&&(aa+="/"),X.dijit.location=aa+"../dijit/",X.dojox.location=aa+"../dojox/";ja(k,1);ja(ha,1);var la=function(a){ga(function(){d(a.deps,pa)})},Oa=function(d,p,f,l,n){var o;if(e(d)){if((o=
W(d,l,!0))&&o.executed)return o.result;throw h("undefinedModule",d);}b(d)||(ja(d,0,l),d=p,p=f);if(b(d))if(d.length){for(var f="require*"+q(),g,k=[],m=0;m<d.length;)g=d[m++],k.push(W(g,l));o=a(wa("",f,0,""),{injected:A,deps:k,def:p||c,require:l?l.require:r,gc:1});R[o.mid]=o;la(o);var w=ma&&"sync"!=D;ga(function(){fa(o,w)});o.executed||T.push(o);da()}else p&&p();return n},Ea=function(h){if(!h)return r;var b=h.require;if(!b)b=function(a,d,p){return Oa(a,d,p,h,b)},h.require=a(b,r),b.module=h,b.toUrl=
function(a){return Ra(a,h)},b.toAbsMid=function(a){return Ga(a,h)},b.syncLoadNls=function(a){var a=ia(a,h),b=R[a.mid];if(!b||!b.executed)if(Z=Y[a.mid]||Y["url:"+a.url])xa(Z),b=R[a.mid];return b&&b.executed&&b.result};return b},T=[],ya=[],V={},gb=function(a){a.injected=y;V[a.mid]=1;a.url&&(V[a.url]=a.pack||1);Wa()},ca=function(a){a.injected=A;delete V[a.mid];a.url&&delete V[a.url];l(V)&&(za(),"xd"==D&&(D="sync"))},hb=r.idle=function(){return!ya.length&&l(V)&&!T.length&&!ma},Ha=function(a,h){if(h)for(var b=
0;b<h.length;b++)if(h[b][2].test(a))return h[b];return 0},Xa=function(a){for(var h=[],b,d,a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&h.length&&".."!=d?(h.pop(),d=h[h.length-1]):"."!=b&&h.push(d=b);return h.join("/")},wa=function(a,h,b,d){var p=r.isXdUrl(d);return{pid:a,mid:h,pack:b,url:d,executed:0,def:0,isXd:p,isAmd:!!(p||X[a]&&X[a].isAmd)}},Ya=function(a,b,p,e,c,f,l,q){var o,r,g,k;k=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||k&&!b)return wa(0,a,0,a);a=Xa(k?b.mid+"/../"+
a:a);if(/^\./.test(a))throw h("irrationalPath",a);b&&(g=Ha(b.mid,f));(g=(g=g||f.star)&&Ha(a,g[1]))&&(a=g[1]+a.substring(g[3]));b=(ka=a.match(/^([^\/]+)(\/(.+))?$/))?ka[1]:"";(o=p[b])?a=b+"/"+(r=ka[3]||o.main):b="";var m=0;d(O,function(h){var b=a.match(h[0]);b&&0<b.length&&(m=n(h[1])?a.replace(h[0],h[1]):h[1])});if(m)return Ya(m,0,p,e,c,f,l,q);if(p=e[a])return q?wa(p.pid,p.mid,p.pack,p.url):e[a];e=(g=Ha(a,l))?g[1]+a.substring(g[3]):b?o.location+"/"+r:s("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(e)||
(e=c+e);return wa(b,a,o,Xa(e+".js"))},ia=function(a,h){return Ya(a,h,X,R,r.baseUrl,ra,Pa)},Za=function(a,h,b){return a.normalize?a.normalize(h,function(a){return Ga(a,b)}):Ga(h,b)},$a=0,W=function(a,h,b){var d,p;(d=a.match(/^(.+?)\!(.*)$/))?(p=W(d[1],h,b),"sync"==D&&!p.executed&&(pa(p),p.injected===A&&!p.executed&&ga(function(){fa(p)}),p.executed?Aa(p):T.unshift(p)),p.executed===H&&!p.load&&Aa(p),p.load?(d=Za(p,d[2],h),a=p.mid+"!"+(p.dynamic?++$a+"!":"")+d):(d=d[2],a=p.mid+"!"+ ++$a+"!waitingForPlugin"),
a={plugin:p,mid:a,req:Ea(h),prid:d}):a=ia(a,h);return R[a.mid]||!b&&(R[a.mid]=a)},Ga=r.toAbsMid=function(a,h){return ia(a,h).mid},Ra=r.toUrl=function(a,h){var b=ia(a+"/x",h),d=b.url;return qa(0===b.pid?a:d.substring(0,d.length-5))},ab={injected:A,executed:H,def:F,result:F},Ia=function(h){return R[h]=a({mid:h},ab)},ib=Ia("require"),jb=Ia("exports"),kb=Ia("module"),Ba={},Ja=0,Aa=function(a){var h=a.result;a.dynamic=h.dynamic;a.normalize=h.normalize;a.load=h.load;return a},lb=function(h){var b={};d(h.loadQ,
function(d){var p=Za(h,d.prid,d.req.module),e=h.dynamic?d.mid.replace(/waitingForPlugin$/,p):h.mid+"!"+p,p=a(a({},d),{mid:e,prid:p,injected:0});R[e]||bb(R[e]=p);b[d.mid]=R[e];ca(d);delete R[d.mid]});h.loadQ=0;var p=function(a){for(var h=a.deps||[],d=0;d<h.length;d++)(a=b[h[d].mid])&&(h[d]=a)},e;for(e in R)p(R[e]);d(T,p)},ea=function(a){r.trace("loader-finish-exec",[a.mid]);a.executed=H;a.defOrder=Ja++;d(a.provides,function(a){a()});a.loadQ&&(Aa(a),lb(a));for(g=0;g<T.length;)T[g]===a?T.splice(g,1):
g++;/^require\*/.test(a.mid)&&delete R[a.mid]},na=[],fa=function(a,b){if(a.executed===G)return r.trace("loader-circular-dependency",[na.concat(a.mid).join("->")]),!a.def||b?Ba:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Ba;var d=a.mid,p=a.deps||[],e,c=[],f=0;na.push(d);r.trace("loader-exec-module",["exec",na.length,d]);for(a.executed=G;f<p.length;){e=p[f++];e=e===ib?Ea(a):e===jb?a.cjs.exports:e===kb?a.cjs:fa(e,b);if(e===Ba)return a.executed=0,r.trace("loader-exec-module",["abort",d]),na.pop(),
Ba;c.push(e)}r.trace("loader-run-factory",[a.mid]);var d=a.def,l;I.unshift(a);if(s("config-dojo-loader-catches"))try{l=n(d)?d.apply(null,c):d}catch(q){K("error",a.result=h("factoryThrew",[a,q]))}else l=n(d)?d.apply(null,c):d;a.result=void 0===l&&a.cjs?a.cjs.exports:l;I.shift(a);ea(a);na.pop()}return a.result},ma=0,ga=function(a){try{ma++,a()}finally{ma--}hb()&&K("idle",[])},da=function(){ma||ga(function(){z();for(var a,h,b=0;b<T.length;)a=Ja,h=T[b],fa(h),a!=Ja?(z(),b=0):b++})};void 0===s("dojo-loader-eval-hint-url")&&
s.add("dojo-loader-eval-hint-url",1);var qa=function(a){a+="";return a+(Da?(/\?/.test(a)?"&":"?")+Da:"")},bb=function(a){var h=a.plugin;h.executed===H&&!h.load&&Aa(h);var b=function(h){a.result=h;ca(a);ea(a);da()};h.load?h.load(a.prid,a.req,b):h.loadQ?h.loadQ.push(a):(h.loadQ=[a],T.unshift(h),pa(h))},Z=0,oa=0,Ka=0,xa=function(a,b){s("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Ka=1;if(s("config-dojo-loader-catches"))try{a===Z?Z.call(null):r.eval(a,s("dojo-loader-eval-hint-url")?b.url:
b.mid)}catch(d){K("error",h("evalModuleThrew",b))}else a===Z?Z.call(null):r.eval(a,s("dojo-loader-eval-hint-url")?b.url:b.mid);Ka=0},pa=function(b){var p=b.mid,e=b.url;if(!b.executed&&!b.injected&&!(V[p]||b.url&&(b.pack&&V[b.url]===b.pack||1==V[b.url])))if(gb(b),b.plugin)bb(b);else{var c=function(){cb(b);b.injected!==A&&(ca(b),a(b,ab),r.trace("loader-define-nonmodule",[b.url]));D?!I.length&&da():da()};if(Z=Y[p]||Y["url:"+b.url])r.trace("loader-inject",["cache",b.mid,e]),xa(Z,b),c();else{if(D)if(b.isXd)"sync"==
D&&(D="xd");else if(!(b.isAmd&&"sync"!=D)){var f=function(a){if("sync"==D){I.unshift(b);xa(a,b);I.shift();cb(b);b.cjs||(ca(b),ea(b));if(b.finish){var a=p+"*finish",h=b.finish;delete b.finish;La(a,["dojo",("dojo/require!"+h.join(",")).replace(/\./g,"/")],function(a){d(h,function(h){a.require(h)})});T.unshift(W(a))}c()}else(a=E(b,a))?(xa(a,b),c()):(oa=b,r.injectUrl(qa(e),c,b),oa=0)};r.trace("loader-inject",["xhr",b.mid,e,"sync"!=D]);if(s("config-dojo-loader-catches"))try{r.getText(e,"sync"!=D,f)}catch(l){K("error",
h("xhrInjectFailed",[b,l]))}else r.getText(e,"sync"!=D,f);return}r.trace("loader-inject",["script",b.mid,e]);oa=b;r.injectUrl(qa(e),c,b);oa=0}}},Ma=function(b,d,p){r.trace("loader-define-module",[b.mid,d]);var e=b.mid;if(b.injected===A)return K("error",h("multipleDefine",b)),b;a(b,{deps:d,def:p,cjs:{id:b.mid,uri:b.url,exports:b.result={},setExports:function(a){b.cjs.exports=a},config:function(){return b.config}}});for(var c=0;c<d.length;c++)d[c]=W(d[c],b);D&&!V[e]&&(la(b),T.push(b),da());ca(b);if(!n(p)&&
!d.length)b.result=p,ea(b);return b},cb=function(a,h){for(var b=[],p,e;ya.length;)e=ya.shift(),h&&(e[0]=h.shift()),p=e[0]&&W(e[0])||a,b.push([p,e[1],e[2]]);ta(a);d(b,function(a){la(Ma.apply(null,a))})},Ca=0,za=c,Wa=c;za=function(){Ca&&clearTimeout(Ca);Ca=0};Wa=function(){za();r.waitms&&(Ca=window.setTimeout(function(){za();K("error",h("timeout",V))},r.waitms))};s.add("ie-event-behavior",!!t.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Na=function(a,h,b,d){if(s("ie-event-behavior"))return a.attachEvent(b,
d),function(){a.detachEvent(b,d)};a.addEventListener(h,d,!1);return function(){a.removeEventListener(h,d,!1)}},mb=Na(window,"load","onload",function(){r.pageLoaded=1;"complete"!=t.readyState&&(t.readyState="complete");mb()}),db=t.getElementsByTagName("script")[0],nb=db.parentNode;r.injectUrl=function(a,b,d){var d=d.node=t.createElement("script"),p=Na(d,"load","onreadystatechange",function(a){var a=a||window.event,h=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(h.readyState))p(),
e(),b&&b()}),e=Na(d,"error","onerror",function(b){p();e();K("error",h("scriptError",[a,b]))});d.type="text/javascript";d.charset="utf-8";d.src=a;nb.insertBefore(d,db);return d};r.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(h){}};var ba=r.trace=function(a,h){if(ba.on&&ba.group[a]){K("trace",[a,h]);for(var b,d=[],p="trace:"+a+(h.length?":"+h[0]:""),c=1;c<h.length;)b=h[c++],e(b)?p+=", "+b:d.push(b);r.log(p);d.length&&d.push(".");r.log.apply(r,d)}};a(ba,{on:1,group:{},set:function(h,
b){e(h)?ba.group[h]=b:a(ba.group,h)}});ba.set(a(a(a({},m.trace),k.trace),ha.trace));$("config",function(a){a.trace&&ba.set(a.trace)});var La=function(a,b,d){var p=arguments.length,c=["require","exports","module"],f=[0,a,b];1==p?f=[0,n(a)?c:[],a]:2==p&&e(a)?f=[a,n(b)?c:[],b]:3==p&&(f=[a,b,d]);r.trace("loader-define",f.slice(0,2));if((p=f[0]&&W(f[0]))&&!V[p.mid])la(Ma(p,f[1],f[2]));else if(!s("ie-event-behavior")||Ka)ya.push(f);else{p=p||oa;if(!p)for(a in V)if((c=R[a])&&c.node&&"interactive"===c.node.readyState){p=
c;break}p?(ta(p),la(Ma(p,f[1],f[2]))):K("error",h("ieDefineFailed",f[0]));da()}};La.amd={vendor:"dojotoolkit.org"};a(a(r,m.loaderPatch),k.loaderPatch);$("error",function(a){try{if(console.error(a),a instanceof Error)for(var h in a);}catch(b){}});a(r,{uid:q,cache:Y,packs:X});if(w.define)K("error",h("defineAlreadyDefined",0));else{w.define=La;w.require=r;d(Ua,function(a){ja(a)});var eb=ha.deps||k.deps||m.deps,fb=ha.callback||k.callback||m.callback;r.boot=eb||fb?[eb||[],fb]:0}})(this.dojoConfig||this.djConfig||
this.require||{},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":!0,"dojo-loader":!0,dom:!0,"host-browser":!0},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../moch",name:"moch"},{location:"../site",name:"site"},{location:"../mobile",main:"index",name:"mobile"},{location:"../cms",name:"cms"},{location:"../front",name:"front"},{location:"../kso",name:"kso"}]});
require({cache:{"dojo/domReady":function(){define(["./has"],function(k){function m(a){o?a(f):n.push(a)}var g=this,f=document,c={loaded:1,complete:1},l="string"!=typeof f.readyState,o=!!c[f.readyState];if(l)f.readyState="loading";if(!o){var n=[],e=[],b=function(a){a=a||g.event;if(!(o||"readystatechange"==a.type&&!c[f.readyState])){o=1;if(l)f.readyState="complete";for(;n.length;)n.shift()(f)}},d=function(a,h){a.addEventListener(h,b,!1);n.push(function(){a.removeEventListener(h,b,!1)})};if(!k("dom-addeventlistener")){var d=
function(a,h){h="on"+h;a.attachEvent(h,b);n.push(function(){a.detachEvent(h,b)})},a=f.createElement("div");try{a.doScroll&&null===g.frameElement&&e.push(function(){try{return a.doScroll("left"),1}catch(h){}})}catch(h){}}d(f,"DOMContentLoaded");d(g,"load");"onreadystatechange"in f?d(f,"readystatechange"):l||e.push(function(){return c[f.readyState]});if(e.length){var p=function(){if(!o){for(var a=e.length;a--;)if(e[a]()){b("poller");return}setTimeout(p,30)}};p()}}m.load=function(a,h,b){m(b)};return m})},
"dojo/has":function(){define(["require","module"],function(k){var m=k.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);m.add("device-width",screen.availWidth||innerWidth);k=document.createElement("form");m.add("dom-attributes-explicit",0==k.attributes.length);m.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length);m.clearElement=function(g){g.innerHTML="";return g};
m.normalize=function(g,f){var c=g.match(/[\?:]|[^:\?]*/g),l=0,o=function(f){var e=c[l++];if(":"==e)return 0;if("?"==c[l++]){if(!f&&m(e))return o();o(!0);return o(f)}return e||0};return(g=o())&&f(g)};m.load=function(g,f,c){g?f([g],c):c()};return m})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(k,m,g){function f(a,h){throw Error("declare"+(h?" "+h:"")+": "+a);}function c(a,h,b){var d,p,e,c,l,n,q,o=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=h,h=
b);b=0;c=a.callee;(d=d||c.nom)||f("can't deduce a name to call inherited()",this.declaredClass);l=this.constructor._meta;e=l.bases;q=o.p;if(d!=A){if(o.c!==c&&(q=0,n=e[0],l=n._meta,l.hidden[d]!==c)){(p=l.chains)&&"string"==typeof p[d]&&f("calling chained method with inherited: "+d,this.declaredClass);do if(l=n._meta,p=n.prototype,l&&(p[d]===c&&p.hasOwnProperty(d)||l.hidden[d]===c))break;while(n=e[++q]);q=n?q:-1}if(n=e[++q])if(p=n.prototype,n._meta&&p.hasOwnProperty(d))b=p[d];else{c=s[d];do if(p=n.prototype,
(b=p[d])&&(n._meta?p.hasOwnProperty(d):b!==c))break;while(n=e[++q])}b=n&&b||s[d]}else{if(o.c!==c&&(q=0,(l=e[0]._meta)&&l.ctor!==c)){p=l.chains;for((!p||"manual"!==p.constructor)&&f("calling chained constructor with inherited",this.declaredClass);(n=e[++q])&&!((l=n._meta)&&l.ctor===c););q=n?q:-1}for(;(n=e[++q])&&!(b=(l=n._meta)?l.ctor:n););b=n&&b}o.c=b;o.p=q;if(b)return!0===h?b:b.apply(this,h||a)}function l(a,h){return"string"==typeof a?this.__inherited(a,h,!0):this.__inherited(a,!0)}function o(a,
h,b){var d=this.getInherited(a,h);if(d)return d.apply(this,b||h||a)}function n(a){for(var h=this.constructor._meta.bases,b=0,d=h.length;b<d;++b)if(h[b]===a)return!0;return this instanceof a}function e(a,h){for(var b in h)b!=A&&h.hasOwnProperty(b)&&(a[b]=h[b]);if(m("bug-for-in-skips-shadowed"))for(var d=g._extraNames,p=d.length;p;)b=d[--p],b!=A&&h.hasOwnProperty(b)&&(a[b]=h[b])}function b(a){t.safeMixin(this.prototype,a);return this}function d(a){return t([this].concat(a))}function a(a,h){return function(){var z;
var b=arguments,d=b,p=b[0],e,c;c=a.length;var f;if(!(this instanceof b.callee))return w(b);if(h&&(p&&p.preamble||this.preamble)){f=Array(a.length);f[0]=b;for(e=0;;){if(p=b[0])(p=p.preamble)&&(b=p.apply(this,b)||b);p=a[e].prototype;(p=p.hasOwnProperty("preamble")&&p.preamble)&&(b=p.apply(this,b)||b);if(++e==c)break;f[e]=b}}for(e=c-1;0<=e;--e)p=a[e],(z=(c=p._meta)?c.ctor:p,p=z)&&p.apply(this,f?f[e]:b);(p=this.postscript)&&p.apply(this,d)}}function h(a,b){return function(){var h=arguments,d=h,p=h[0];
if(!(this instanceof h.callee))return w(h);if(b){if(p)(p=p.preamble)&&(d=p.apply(this,d)||d);(p=this.preamble)&&p.apply(this,d)}a&&a.apply(this,h);(p=this.postscript)&&p.apply(this,h)}}function p(a){return function(){var z;var h=arguments,b=0,d,p;if(!(this instanceof h.callee))return w(h);for(;d=a[b];++b)if(z=(p=d._meta)?p.ctor:d,d=z){d.apply(this,h);break}(d=this.postscript)&&d.apply(this,h)}}function q(a,h,b){return function(){var d,p,e=0,c=1;b&&(e=h.length-1,c=-1);for(;d=h[e];e+=c)p=d._meta,(d=
(p?p.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function r(a){x.prototype=a.prototype;a=new x;x.prototype=null;return a}function w(a){var h=a.callee,b=r(h);h.apply(b,a);return b}function t(o,k,m){"string"!=typeof o&&(m=k,k=o,o="");var m=m||{},w,x,z,E,B,C,J,M=1,P=k;if("[object Array]"==u.call(k)){M=o;z=[];E=[{cls:0,refs:[]}];C={};for(var N=1,U=k.length,L=0,K,$,O,S;L<U;++L){(K=k[L])?"[object Function]"!=u.call(K)&&f("mixin #"+L+" is not a callable constructor.",M):f("mixin #"+L+" is unknown. Did you use dojo.require to pull it in?",
M);$=K._meta?K._meta.bases:[K];O=0;for(K=$.length-1;0<=K;--K){S=$[K].prototype;if(!S.hasOwnProperty("declaredClass"))S.declaredClass="uniqName_"+y++;S=S.declaredClass;C.hasOwnProperty(S)||(C[S]={count:0,refs:[],cls:$[K]},++N);S=C[S];O&&O!==S&&(S.refs.push(O),++O.count);O=S}++O.count;E[0].refs.push(O)}for(;E.length;){O=E.pop();z.push(O.cls);for(--N;x=O.refs,1==x.length;){O=x[0];if(!O||--O.count){O=0;break}z.push(O.cls);--N}if(O)for(L=0,U=x.length;L<U;++L)O=x[L],--O.count||E.push(O)}N&&f("can't build consistent linearization",
M);K=k[0];z[0]=K?K._meta&&K===z[z.length-K._meta.bases.length]?K._meta.bases.length:1:0;C=z;z=C[0];M=C.length-z;k=C[M]}else C=[0],k?"[object Function]"==u.call(k)?(z=k._meta,C=C.concat(z?z.bases:k)):f("base class is not a callable constructor.",o):null!==k&&f("unknown base class. Did you use dojo.require to pull it in?",o);if(k)for(x=M-1;;--x){w=r(k);if(!x)break;z=C[x];(z._meta?e:v)(w,z.prototype);E=new Function;E.superclass=k;E.prototype=w;k=w.constructor=E}else w={};t.safeMixin(w,m);z=m.constructor;
if(z!==s.constructor)z.nom=A,w.constructor=z;for(x=M-1;x;--x)(z=C[x]._meta)&&z.chains&&(J=v(J||{},z.chains));w["-chains-"]&&(J=v(J||{},w["-chains-"]));z=!J||!J.hasOwnProperty(A);C[0]=E=J&&"manual"===J.constructor?p(C):1==C.length?h(m.constructor,z):a(C,z);E._meta={bases:C,hidden:m,chains:J,parents:P,ctor:m.constructor};E.superclass=k&&k.prototype;E.extend=b;E.createSubclass=d;E.prototype=w;w.constructor=E;w.getInherited=l;w.isInstanceOf=n;w.inherited=F;w.__inherited=c;if(o)w.declaredClass=o,g.setObject(o,
E);if(J)for(B in J)if(w[B]&&"string"==typeof J[B]&&B!=A)z=w[B]=q(B,C,"after"===J[B]),z.nom=B;return E}var v=g.mixin,s=Object.prototype,u=s.toString,x=new Function,y=0,A="constructor",F=k.config.isDebug?o:c;k.safeMixin=t.safeMixin=function(a,h){var b,d;for(b in h)if(d=h[b],(d!==s[b]||!(b in s))&&b!=A){if("[object Function]"==u.call(d))d.nom=b;a[b]=d}if(m("bug-for-in-skips-shadowed"))for(var p=g._extraNames,e=p.length;e;)if(b=p[--e],d=h[b],(d!==s[b]||!(b in s))&&b!=A){if("[object Function]"==u.call(d))d.nom=
b;a[b]=d}return a};return k.declare=t})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(k,m,g,f){var c,k={},l={},o={config:m,global:this,dijit:k,dojox:l},k={dojo:["dojo",o],dijit:["dijit",k],dojox:["dojox",l]},f=g.map&&g.map[f.id.match(/[^\/]+/)[0]];for(c in f)k[c]?k[c][0]=f[c]:k[c]=[f[c],{}];for(c in k)f=k[c],f[1]._scopeName=f[0],m.noGlobals||(this[f[0]]=f[1]);o.scopeMap=k;o.baseUrl=o.config.baseUrl=g.baseUrl;o.isAsync=g.async;o.locale=m.locale;f="$Rev: 31395 $".match(/\d+/);
o.version={major:1,minor:8,patch:4,flag:"",revision:f?+f[0]:NaN,toString:function(){var e=o.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(o);o.exit=function(){};"undefined"!=typeof console||(console={});for(var k="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),n,f=0;n=k[f++];)console[n]||function(){var e=
n+"";console[e]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(e+":");console.log(b.join(" "))}:function(){};console[e]._fake=!0}();o.deprecated=o.experimental=function(){};if(m.modulePaths){o.deprecated("dojo.modulePaths","use paths configuration");f={};for(c in m.modulePaths)f[c.replace(/\./g,"/")]=m.modulePaths[c];g({paths:f})}o.moduleUrl=function(e,b){o.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;e&&(d=g.toUrl(e.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,
"")+(b?"":"/"));return d};o._hasResource={};return o})},"dojo/_base/config":function(){define(["../has","require"],function(k,m){var g={},f=m.rawConfig,c;for(c in f)g[c]=f[c];return g})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(k,m){m.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var g=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):
[],f=g.length,c=function(b,d,a){var h,p=0,e=k.global;if(!a)if(b.length){h=b[p++];try{a=k.scopeMap[h]&&k.scopeMap[h][1]}catch(c){}a=a||(h in e?e[h]:d?e[h]={}:void 0)}else return e;for(;a&&(h=b[p++]);)a=h in a?a[h]:d?a[h]={}:void 0;return a},l=Object.prototype.toString,o=function(b,d,a){return(a||[]).concat(Array.prototype.slice.call(b,d||0))},n=/\{([^\}]+)\}/g,e={_extraNames:g,_mixin:function(b,d,a){var h,p,e,c={};for(h in d)if(p=d[h],!(h in b)||b[h]!==p&&(!(h in c)||c[h]!==p))b[h]=a?a(p):p;if(m("bug-for-in-skips-shadowed")&&
d)for(e=0;e<f;++e)if(h=g[e],p=d[h],!(h in b)||b[h]!==p&&(!(h in c)||c[h]!==p))b[h]=a?a(p):p;return b},mixin:function(b,d){b||(b={});for(var a=1,h=arguments.length;a<h;a++)e._mixin(b,arguments[a]);return b},setObject:function(b,d,a){var h=b.split("."),b=h.pop();return(a=c(h,!0,a))&&b?a[b]=d:void 0},getObject:function(b,d,a){return c(b.split("."),d,a)},exists:function(b,d){return void 0!==e.getObject(b,!1,d)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(b){return b&&
(b instanceof Array||"array"==typeof b)},isFunction:function(b){return"[object Function]"===l.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||e.isArray(b)||e.isFunction(b))},isArrayLike:function(b){return b&&void 0!==b&&!e.isString(b)&&!e.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(e.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!e.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(""+b)},extend:function(b,d){for(var a=1,h=arguments.length;a<
h;a++)e._mixin(b.prototype,arguments[a]);return b},_hitchArgs:function(b,d){var a=e._toArray(arguments,2),h=e.isString(d);return function(){var p=e._toArray(arguments),c=h?(b||k.global)[d]:d;return c&&c.apply(b||this,a.concat(p))}},hitch:function(b,d){if(2<arguments.length)return e._hitchArgs.apply(k,arguments);d||(d=b,b=null);if(e.isString(d)){b=b||k.global;if(!b[d])throw['lang.hitch: scope["',d,'"] is null (scope="',b,'")'].join("");return function(){return b[d].apply(b,arguments||[])}}return!b?
d:function(){return d.apply(b,arguments||[])}},delegate:function(){function b(){}return function(d,a){b.prototype=d;var h=new b;b.prototype=null;a&&e._mixin(h,a);return h}}(),_toArray:m("ie")?function(){function b(b,a,h){h=h||[];for(a=a||0;a<b.length;a++)h.push(b[a]);return h}return function(d){return(d.item?b:o).apply(this,arguments)}}():o,partial:function(b){return e.hitch.apply(k,[null].concat(e._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||e.isFunction(b))return b;if(b.nodeType&&
"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return RegExp(b);var d,a,h;if(e.isArray(b)){d=[];for(a=0,h=b.length;a<h;++a)a in b&&d.push(e.clone(b[a]))}else d=b.constructor?new b.constructor:{};return e._mixin(d,b,e.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,d,a){return b.replace(a||n,e.isFunction(d)?d:function(a,b){return e.getObject(b,
!1,d)})}};e.mixin(k,e);return e})},"dojo/sniff":function(){define(["./has"],function(k){var m=navigator,g=m.userAgent,m=m.appVersion,f=parseFloat(m);k.add("air",0<=g.indexOf("AdobeAIR"));k.add("khtml",0<=m.indexOf("Konqueror")?f:void 0);k.add("webkit",parseFloat(g.split("WebKit/")[1])||void 0);k.add("chrome",parseFloat(g.split("Chrome/")[1])||void 0);k.add("safari",0<=m.indexOf("Safari")&&!k("chrome")?parseFloat(m.split("Version/")[1]):void 0);k.add("mac",0<=m.indexOf("Macintosh"));k.add("quirks",
"BackCompat"==document.compatMode);k.add("ios",/iPhone|iPod|iPad/.test(g));k.add("android",parseFloat(g.split("Android ")[1])||void 0);if(!k("webkit")){0<=g.indexOf("Opera")&&k.add("opera",9.8<=f?parseFloat(g.split("Version/")[1])||f:f);0<=g.indexOf("Gecko")&&!k("khtml")&&!k("webkit")&&k.add("mozilla",f);k("mozilla")&&k.add("ff",parseFloat(g.split("Firefox/")[1]||g.split("Minefield/")[1])||void 0);if(document.all&&!k("opera"))g=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=
m&&Math.floor(g)!=m&&(g=m),k.add("ie",g);k.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return k})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(k,m,g,f,c,l,o,n,e){var b=k.i18n={},d=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,a=function(a,b,h,d){for(var p=[h+d],b=b.split("-"),e="",c=0;c<b.length;c++)e+=(e?"-":"")+b[c],(!a||a[e])&&p.push(h+e+"/"+d);return p},h={},p=function(a,b,h){h=h?h.toLowerCase():
k.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(h)?a+"/nls/"+b:a+"/nls/"+h+"/"+b};k.getL10nName=function(a,b,h){return e.id+"!"+p(a,b,h)};var q=function(b,d,p,e,c,f){b([d],function(n){var q=l.clone(n.root),o=a(!n._v1x&&n,c,p,e);b(o,function(){for(var a=1;a<o.length;a++)q=l.mixin(l.clone(q),arguments[a]);h[d+"/"+c]=q;f()})})},r=function(a){var b=c.extraLocale||[],b=l.isArray(b)?b:[b];b.push(a);return b},w=function(a,b,p){var e=a.split("*"),c="preload"==e[1];c&&(h[a]||(h[a]=
1,x(e[2],n.parse(e[3]),1,b)),p(1));if(!(e=c))s&&u.push([a,b,p]),e=s;if(!e){var a=d.exec(a),o=a[1]+"/",g=a[5]||a[4],m=o+g,e=(a=a[5]&&a[4])||k.locale,w=m+"/"+e,a=a?[e]:r(e),v=a.length,t=function(){--v||p(l.delegate(h[w]))};f.forEach(a,function(a){var d=m+"/"+a;y(d);h[d]?t():q(b,m,o,g,a,t)})}};if(g("dojo-unit-tests"))var t=b.unitTests=[];var v=b.normalizeLocale=function(a){a=a?a.toLowerCase():k.locale;return"root"==a?"ROOT":a},s=0,u=[],x=b._preloadLocalizations=function(a,b,d,p){function e(a,b){p.isXdUrl(m.toUrl(a+
".js"))||d?p([a],b):G([a],b,p)}function c(a,b){for(var h=a.split("-");h.length;){if(b(h.join("-")))return;h.pop()}b("ROOT")}function l(d){d=v(d);c(d,function(d){if(0<=f.indexOf(b,d)){var p=a.replace(/\./g,"/")+"_"+d;s++;e(p,function(a){for(var b in a)h[m.toAbsMid(b)+"/"+d]=a[b];for(--s;!s&&u.length;)w.apply(null,u.shift())});return!0}return!1})}p=p||m;l();f.forEach(k.config.extraLocale,l)},y=function(){},A={},F=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(a,b,d){var p=[];f.forEach(a,function(a){function b(d){d=F(d,y,a,A);d===A?p.push(h[e]=A.result):(d instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+e,d),d={}),p.push(h[e]=/nls\/[^\/]+\/[^\/]+$/.test(e)?d:{root:d,_v1x:1}))}var e=d.toUrl(a+".js");if(h[e])p.push(h[e]);else{var c=d.syncLoadNls(a);if(c)p.push(c);else if(o)o.get({url:e,sync:!0,load:b,error:function(){p.push(h[e]={})}});else try{d.getText(e,!0,b)}catch(f){p.push(h[e]={})}}});b&&b.apply(null,p)},y=function(a){for(var b,
d=a.split("/"),p=k.global[d[0]],e=1;p&&e<d.length-1;p=p[d[e++]]);p&&((b=p[d[e]])||(b=p[d[e].replace(/-/g,"_")]),b&&(h[a]=b));return b};b.getLocalization=function(a,b,h){var d,a=p(a,b,h);w(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){G(a,b,m)}:m,function(a){d=a});return d};g("dojo-unit-tests")&&t.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=F("{prop:1}",y,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=F("({prop:1})",y,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=F("{'prop-x':1}",
y,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=F("({'prop-x':1})",y,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=F("define({'prop-x':1})",y,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=F("define('some/module', {'prop-x':1})",y,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=F("this is total nonsense and should throw an error",y,"nonsense",A);a.is(b instanceof Error,!0)})});return l.mixin(b,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:w,cache:h})})},
"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(k,m,g){function f(b){return o[b]=new Function("item","index","array",b)}function c(b){var d=!b;return function(a,h,p){var e=0,c=a&&a.length||0,l;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof h&&(h=o[h]||f(h));if(p)for(;e<c;++e){if(l=!h.call(p,a[e],e,a),b^l)return!l}else for(;e<c;++e)if(l=!h(a[e],e,a),b^l)return!l;return d}}function l(b){var d=1,a=0,h=0;b||(d=a=h=-1);return function(p,c,f,l){if(l&&0<d)return e.lastIndexOf(p,
c,f);var l=p&&p.length||0,o=b?l+h:a;f===n?f=b?a:l+h:0>f?(f=l+f,0>f&&(f=a)):f=f>=l?l+h:f;for(l&&"string"==typeof p&&(p=p.split(""));f!=o;f+=d)if(p[f]==c)return f;return-1}}var o={},n,e={every:c(!1),some:c(!0),indexOf:l(!0),lastIndexOf:l(!1),forEach:function(b,d,a){var h=0,p=b&&b.length||0;p&&"string"==typeof b&&(b=b.split(""));"string"==typeof d&&(d=o[d]||f(d));if(a)for(;h<p;++h)d.call(a,b[h],h,b);else for(;h<p;++h)d(b[h],h,b)},map:function(b,d,a,h){var p=0,e=b&&b.length||0,h=new (h||Array)(e);e&&
"string"==typeof b&&(b=b.split(""));"string"==typeof d&&(d=o[d]||f(d));if(a)for(;p<e;++p)h[p]=d.call(a,b[p],p,b);else for(;p<e;++p)h[p]=d(b[p],p,b);return h},filter:function(b,d,a){var h=0,p=b&&b.length||0,e=[],c;p&&"string"==typeof b&&(b=b.split(""));"string"==typeof d&&(d=o[d]||f(d));if(a)for(;h<p;++h)c=b[h],d.call(a,c,h,b)&&e.push(c);else for(;h<p;++h)c=b[h],d(c,h,b)&&e.push(c);return e},clearCache:function(){o={}}};g.mixin(k,e);return e})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r){k._xhrObj=q._create;var w=k.config;k.objectToQuery=f.objectToQuery;k.queryToObject=f.queryToObject;k.fieldToObject=l.fieldToObject;k.formToObject=l.toObject;k.formToQuery=l.toQuery;k.formToJson=l.toJson;k._blockAsync=!1;var t=k._contentHandlers=k.contentHandlers={text:function(a){return a.responseText},json:function(a){return e.fromJson(a.responseText||null)},"json-comment-filtered":function(a){var a=a.responseText,b=a.indexOf("/*"),h=a.lastIndexOf("*/");
if(-1==b||-1==h)throw Error("JSON was not comment filtered");return e.fromJson(a.substring(b+2,h))},javascript:function(a){return k.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var h=function(a){return"MSXML"+a+".DOMDocument"},h=["Microsoft.XMLDOM",h(6),h(4),h(3),h(2)];d.some(h,function(h){try{var d=new ActiveXObject(h);
d.async=!1;d.loadXML(a.responseText);b=d}catch(p){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?t["json-comment-filtered"](a):t.json(a)}};k._ioSetArgs=function(a,h,d,p){var e={args:a,url:a.url},n=null;if(a.form){var n=c.byId(a.form),q=n.getAttributeNode("action");e.url=e.url||(q?q.value:null);n=l.toObject(n)}q=[{}];n&&q.push(n);a.content&&q.push(a.content);a.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});
e.query=f.objectToQuery(b.mixin.apply(null,q));e.handleAs=a.handleAs||"text";var r=new o(function(a){a.canceled=!0;h&&h(a);var b=a.ioArgs.error;if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});r.addCallback(d);var g=a.load;g&&b.isFunction(g)&&r.addCallback(function(b){return g.call(a,b,e)});var m=a.error;m&&b.isFunction(m)&&r.addErrback(function(b){return m.call(a,b,e)});var s=a.handle;s&&b.isFunction(s)&&r.addBoth(function(b){return s.call(a,b,e)});r.addErrback(function(a){return p(a,
r)});w.ioPublish&&k.publish&&!1!==e.args.ioPublish&&(r.addCallbacks(function(a){k.publish("/dojo/io/load",[r,a]);return a},function(a){k.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){k.publish("/dojo/io/done",[r,a]);return a}));r.ioArgs=e;return r};var v=function(a){a=t[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},s=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},u=function(a){0>=x&&(x=0,w.ioPublish&&k.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&
k.publish("/dojo/io/stop"))},x=0;h.after(p,"_onAction",function(){x-=1});h.after(p,"_onInFlight",u);k._ioCancelAll=p.cancelAll;k._ioNotifyStart=function(a){w.ioPublish&&k.publish&&!1!==a.ioArgs.args.ioPublish&&(x||k.publish("/dojo/io/start"),x+=1,k.publish("/dojo/io/send",[a]))};k._ioWatch=function(a,h,d,e){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(){return h(a)},isReady:function(){return d(a)},handleResponse:function(){return e(a)}});p(a);u(a)};k._ioAddQueryToUrl=
function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};k.xhr=function(a,b,h){var d,p=k._ioSetArgs(b,function(){d&&d.cancel()},v,s),e=p.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!h||-1==="POST|PUT".indexOf(a.toUpperCase()))&&k._ioAddQueryToUrl(e);var c={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:e};if("undefined"!==typeof b.headers)c.headers=
b.headers;if("undefined"!==typeof b.contentType){if(!c.headers)c.headers={};c.headers["Content-Type"]=b.contentType}if("undefined"!==typeof e.query)c.data=e.query;if("undefined"!==typeof b.sync)c.sync=b.sync;k._ioNotifyStart(p);try{d=q(e.url,c,!0)}catch(f){return p.cancel(),p}p.ioArgs.xhr=d.response.xhr;d.then(function(){p.resolve(p)}).otherwise(function(a){e.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;p.reject(a)});return p};k.xhrGet=function(a){return k.xhr("GET",
a)};k.rawXhrPost=k.xhrPost=function(a){return k.xhr("POST",a,!0)};k.rawXhrPut=k.xhrPut=function(a){return k.xhr("PUT",a,!0)};k.xhrDelete=function(a){return k.xhr("DELETE",a)};k._isDocumentOk=function(a){return r.checkStatus(a.status)};k._getText=function(a){var b;k.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};b.mixin(k.xhr,{_xhrObj:k._xhrObj,fieldToObject:l.fieldToObject,formToObject:l.toObject,objectToQuery:f.objectToQuery,formToQuery:l.toQuery,formToJson:l.toJson,queryToObject:f.queryToObject,
contentHandlers:t,_ioSetArgs:k._ioSetArgs,_ioCancelAll:k._ioCancelAll,_ioNotifyStart:k._ioNotifyStart,_ioWatch:k._ioWatch,_ioAddQueryToUrl:k._ioAddQueryToUrl,_isDocumentOk:k._isDocumentOk,_getText:k._getText,get:k.xhrGet,post:k.xhrPost,put:k.xhrPut,del:k.xhrDelete});return k.xhr})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(k,m,g){k._name="browser";m.mixin(k,{isBrowser:!0,isFF:g("ff"),isIE:g("ie"),isKhtml:g("khtml"),isWebKit:g("webkit"),isMozilla:g("mozilla"),isMoz:g("mozilla"),
isOpera:g("opera"),isSafari:g("safari"),isChrome:g("chrome"),isMac:g("mac"),isIos:g("ios"),isAndroid:g("android"),isWii:g("wii"),isQuirks:g("quirks"),isAir:g("air")});k.locale=k.locale||(g("ie")?navigator.userLanguage:navigator.language).toLowerCase();return g})},"dojo/io-query":function(){define(["./_base/lang"],function(k){var m={};return{objectToQuery:function(g){var f=encodeURIComponent,c=[],l;for(l in g){var o=g[l];if(o!=m[l]){var n=f(l)+"=";if(k.isArray(o))for(var e=0,b=o.length;e<b;++e)c.push(n+
f(o[e]));else c.push(n+f(o))}}return c.join("&")},queryToObject:function(g){for(var f=decodeURIComponent,g=g.split("&"),c={},l,o,n=0,e=g.length;n<e;++n)if(o=g[n],o.length){var b=o.indexOf("=");0>b?(l=f(o),o=""):(l=f(o.slice(0,b)),o=f(o.slice(b+1)));"string"==typeof c[l]&&(c[l]=[c[l]]);k.isArray(c[l])?c[l].push(o):c[l]=o}return c}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(k,m){if(7>=k("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}var f={};f.byId=
k("ie")?function(c,f){if("string"!=typeof c)return c;var n=f||m.doc,e=c&&n.getElementById(c);if(e&&(e.attributes.id.value==c||e.id==c))return e;n=n.all[c];if(!n||n.nodeName)n=[n];for(var b=0;e=n[b++];)if(e.attributes&&e.attributes.id&&e.attributes.id.value==c||e.id==c)return e}:function(c,f){return("string"==typeof c?(f||m.doc).getElementById(c):c)||null};f.isDescendant=function(c,o){try{c=f.byId(c);for(o=f.byId(o);c;){if(c==o)return!0;c=c.parentNode}}catch(n){}return!1};k.add("css-user-select",function(c,
f,n){if(!n)return!1;var c=n.style,f=["Khtml","O","ms","Moz","Webkit"],n=f.length,e="userSelect";do if("undefined"!==typeof c[e])return e;while(n--&&(e=f[n]+"UserSelect"));return!1});var c=k("css-user-select");f.setSelectable=c?function(l,o){f.byId(l).style[c]=o?"":"none"}:function(c,o){var c=f.byId(c),n=c.getElementsByTagName("*"),e=n.length;if(o)for(c.removeAttribute("unselectable");e--;)n[e].removeAttribute("unselectable");else for(c.setAttribute("unselectable","on");e--;)n[e].setAttribute("unselectable",
"on")};return f})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(k,m,g){var f={global:k.global,doc:this.document||null,body:function(c){c=c||k.doc;return c.body||c.getElementsByTagName("body")[0]},setContext:function(c,l){k.global=f.global=c;k.doc=f.doc=l},withGlobal:function(c,l,o,n){var e=k.global;try{return k.global=f.global=c,f.withDoc.call(null,c.document,l,o,n)}finally{k.global=f.global=e}},withDoc:function(c,l,o,n){var e=f.doc,b=g("quirks"),d=g("ie"),a,h,p;
try{k.doc=f.doc=c;k.isQuirks=g.add("quirks","BackCompat"==k.doc.compatMode,!0,!0);if(g("ie")&&(p=c.parentWindow)&&p.navigator)a=parseFloat(p.navigator.appVersion.split("MSIE ")[1])||void 0,(h=c.documentMode)&&5!=h&&Math.floor(a)!=h&&(a=h),k.isIE=g.add("ie",a,!0,!0);o&&"string"==typeof l&&(l=o[l]);return l.apply(o,n||[])}finally{k.doc=f.doc=e,k.isQuirks=g.add("quirks",b,!0,!0),k.isIE=g.add("ie",d,!0,!0)}}};m.mixin(k,f);return f})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query",
"./json"],function(k,m,g,f){var c={fieldToObject:function(c){var f=null;if(c=m.byId(c)){var n=c.name,e=(c.type||"").toLowerCase();if(n&&e&&!c.disabled)if("radio"==e||"checkbox"==e){if(c.checked)f=c.value}else if(c.multiple){f=[];for(c=[c.firstChild];c.length;)for(n=c.pop();n;n=n.nextSibling)if(1==n.nodeType&&"option"==n.tagName.toLowerCase())n.selected&&f.push(n.value);else{n.nextSibling&&c.push(n.nextSibling);n.firstChild&&c.push(n.firstChild);break}}else f=c.value}return f},toObject:function(f){for(var o=
{},f=m.byId(f).elements,n=0,e=f.length;n<e;++n){var b=f[n],d=b.name,a=(b.type||"").toLowerCase();if(d&&a&&0>"file|submit|image|reset|button".indexOf(a)&&!b.disabled){var h=o,p=d,b=c.fieldToObject(b);if(null!==b){var q=h[p];"string"==typeof q?h[p]=[q,b]:k.isArray(q)?q.push(b):h[p]=b}if("image"==a)o[d+".x"]=o[d+".y"]=o[d].x=o[d].y=0}}return o},toQuery:function(f){return g.objectToQuery(c.toObject(f))},toJson:function(l,o){return f.stringify(c.toObject(l),null,o?4:0)}};return c})},"dojo/json":function(){define("dojo/json",
["./has"],function(k){var m="undefined"!=typeof JSON;k.add("json-parse",m);k.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(f,c){return c||1}));if(k("json-stringify"))return JSON;var g=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:k("json-parse")?JSON.parse:function(f,c){if(c&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");
return eval("("+f+")")},stringify:function(f,c,l){function o(e,b,d){c&&(e=c(d,e));var a;a=typeof e;if("number"==a)return isFinite(e)?e+"":"null";if("boolean"==a)return e+"";if(null===e)return"null";if("string"==typeof e)return g(e);if("function"==a||"undefined"==a)return n;if("function"==typeof e.toJSON)return o(e.toJSON(d),b,d);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,h){a=e["getUTC"+b]()+(h?1:0);return 10>a?"0"+
a:a});if(e.valueOf()!==e)return o(e.valueOf(),b,d);var h=l?b+l:"",p=l?" ":"",f=l?"\n":"";if(e instanceof Array){for(var p=e.length,r=[],d=0;d<p;d++)a=o(e[d],h,d),"string"!=typeof a&&(a="null"),r.push(f+h+a);return"["+r.join(",")+f+b+"]"}r=[];for(d in e){var k;if(e.hasOwnProperty(d)){if("number"==typeof d)k='"'+d+'"';else if("string"==typeof d)k=g(d);else continue;a=o(e[d],h,d);"string"==typeof a&&r.push(f+h+k+":"+p+a)}}return"{"+r.join(",")+f+b+"}"}var n;"string"==typeof c&&(l=c,c=null);return o(f,
"","")}}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(k,m,g,f,c,l,o){var n=function(){},e=Object.freeze||function(){},b=k.Deferred=function(d){function a(a){if(o)throw Error("This deferred has already been resolved");p=a;o=!0;h()}function h(){for(var a;!a&&t;){var b=t;t=t.next;if(a=b.progress==n)o=!1;var h=r?b.error:b.resolved;c("config-useDeferredInstrumentation")&&r&&m.instrumentRejected&&m.instrumentRejected(p,
!!h);if(h)try{var d=h(p);d&&"function"===typeof d.then?d.then(l.hitch(b.deferred,"resolve"),l.hitch(b.deferred,"reject"),l.hitch(b.deferred,"progress")):(h=a&&void 0===d,a&&!h&&(r=d instanceof Error),b.deferred[h&&r?"reject":"resolve"](h?p:d))}catch(e){b.deferred.reject(e)}else r?b.deferred.reject(p):b.deferred.resolve(p)}}var p,o,r,k,t,v=this.promise=new g;this.resolve=this.callback=function(b){this.fired=0;this.results=[b,null];a(b)};this.reject=this.errback=function(b){r=!0;this.fired=1;c("config-useDeferredInstrumentation")&&
m.instrumentRejected&&m.instrumentRejected(b,!!t);a(b);this.results=[null,b]};this.progress=function(a){for(var b=t;b;){var h=b.progress;h&&h(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,n);return this};v.then=this.then=function(a,d,p){var e=p==n?this:new b(v.cancel),a={resolved:a,error:d,progress:p,deferred:e};t?k=k.next=a:t=k=a;o&&h();return e.promise};var s=this;v.cancel=this.cancel=function(){if(!o){var a=d&&d(s);if(!o)a instanceof Error||(a=new f(a)),a.log=!1,s.reject(a)}};e(v)};
l.extend(b,{addCallback:function(b){return this.addCallbacks(l.hitch.apply(k,arguments))},addErrback:function(b){return this.addCallbacks(null,l.hitch.apply(k,arguments))},addBoth:function(b){var a=l.hitch.apply(k,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=k.when=o;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(k,m,g,f,c){var l=Object.freeze||function(){},o=function(a,b,p,e,c){2===
b&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(p,!1,e,c);for(c=0;c<a.length;c++)n(a[c],b,p,e)},n=function(a,h,p,c){var f=a[h],l=a.deferred;if(f)try{var n=f(p);if(0===h)"undefined"!==typeof n&&b(l,h,n);else{if(n&&"function"===typeof n.then){a.cancel=n.cancel;n.then(e(l,1),e(l,2),e(l,0));return}b(l,1,n)}}catch(o){b(l,2,o)}else b(l,h,p);2===h&&d.instrumentRejected&&d.instrumentRejected(p,!!f,c,l.promise)},e=function(a,h){return function(d){b(a,h,d)}},b=function(a,b,d){if(!a.isCanceled())switch(b){case 0:a.progress(d);
break;case 1:a.resolve(d);break;case 2:a.reject(d)}},d=function(a){var b=this.promise=new f,p=this,e,c,k,m=!1,v=[];Error.captureStackTrace&&(Error.captureStackTrace(p,d),Error.captureStackTrace(b,d));this.isResolved=b.isResolved=function(){return 1===e};this.isRejected=b.isRejected=function(){return 2===e};this.isFulfilled=b.isFulfilled=function(){return!!e};this.isCanceled=b.isCanceled=function(){return m};this.progress=function(a,d){if(e){if(!0===d)throw Error("This deferred has already been fulfilled.");
return b}o(v,0,a,null,p);return b};this.resolve=function(a,d){if(e){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}o(v,e=1,c=a,null,p);v=null;return b};var s=this.reject=function(a,d){if(e){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(k={},s);o(v,e=2,c=a,k,p);v=null;return b};this.then=b.then=function(a,p,f){var l=[f,a,p];l.cancel=b.cancel;l.deferred=new d(function(a){return l.cancel&&l.cancel(a)});
e&&!v?n(l,e,c,k):v.push(l);return l.deferred.promise};this.cancel=b.cancel=function(b,h){if(e){if(!0===h)throw Error("This deferred has already been fulfilled.");}else{if(a)var d=a(b),b="undefined"===typeof d?b:d;m=!0;if(e){if(2===e&&c===b)return b}else return"undefined"===typeof b&&(b=new g),s(b),b}};l(b)};d.prototype.toString=function(){return"[object Deferred]"};c&&c(d);return d})},"dojo/errors/CancelError":function(){define(["./create"],function(k){return k("CancelError",null,null,{dojoType:"cancel"})})},
"dojo/errors/create":function(){define(["../_base/lang"],function(k){return function(m,g,f,c){var f=f||Error,l=function(c){if(f===Error){Error.captureStackTrace&&Error.captureStackTrace(this,l);var n=Error.call(this,c),e;for(e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);this.message=c;this.stack=n.stack}else f.apply(this,arguments);g&&g.apply(this,arguments)};l.prototype=k.delegate(f.prototype,c);l.prototype.name=m;return l.prototype.constructor=l}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(k){function m(){throw new TypeError("abstract");}return k.extend(function(){},{then:function(){m()},cancel:function(){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(g){return this.then(g,g)},otherwise:function(g){return this.then(null,g)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer",
"../has","../_base/lang","../_base/array"],function(k,m,g,f){function c(a,b,d){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));d&&d.stack&&(e+="\n    ----------------------------------------\n"+d.stack);console.error(a,e)}function l(a,b,d,e){b||c(a,d,e)}function o(a,h,p,c){h?f.some(e,function(b,h){if(b.error===a)return e.splice(h,1),!0}):f.some(e,function(b){return b.error===
a})||e.push({error:a,rejection:p,deferred:c,timestamp:(new Date).getTime()});b||(b=setTimeout(n,d))}function n(){var a=(new Date).getTime(),h=a-d;e=f.filter(e,function(a){return a.timestamp<h?(c(a.error,a.rejection,a.deferred),!1):!0});b=e.length?setTimeout(n,e[0].timestamp+d-a):!1}var e=[],b=!1,d=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){k.on("resolved",g.hitch(console,"log","resolved"));k.on("rejected",g.hitch(console,"log","rejected"));k.on("progress",g.hitch(console,
"log","progress"));var p=[];"string"===typeof b&&(p=b.split(","),b=p.shift());if("report-rejections"===b)a.instrumentRejected=l;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=o,d=parseInt(p[0],10)||d;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(k,m,g){function f(f){setTimeout(function(){l.apply(c,f)},0)}var c=new g,l=c.emit;c.emit=null;m.prototype.trace=
function(){var c=k._toArray(arguments);this.then(function(l){f(["resolved",l].concat(c))},function(l){f(["rejected",l].concat(c))},function(l){f(["progress",l].concat(c))});return this};m.prototype.traceRejected=function(){var c=k._toArray(arguments);this.otherwise(function(l){f(["rejected",l].concat(c))});return this};return c})},"dojo/Evented":function(){define(["./aspect","./on"],function(k,m){function g(){}var f=k.after;g.prototype={on:function(c,l){return m.parse(this,c,l,function(c,n){return f(c,
"on"+n,l,!0)})},emit:function(c,f){var o=[this];o.push.apply(o,arguments);return m.emit.apply(m,o)}};return g})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function k(c,e,b,d){var a=c[e],h="around"==e,p;if(h){var l=b(function(){return a.advice(this,arguments)});p={remove:function(){l&&(l=c=b=null)},advice:function(b,h){return l?l.apply(b,h):a.advice(b,h)}}}else p={remove:function(){if(p.advice){var a=p.previous,h=p.next;if(!h&&!a)delete c[e];else if(a?a.next=h:c[e]=h,h)h.previous=
a;c=b=p.advice=null}},id:f++,advice:b,receiveArguments:d};if(a&&!h)if("after"==e){for(;a.next&&(a=a.next););a.next=p;p.previous=a}else{if("before"==e)c[e]=p,p.next=a,a.previous=p}else c[e]=p;return p}function m(c){return function(e,b,d,a){var h=e[b],p;if(!h||h.target!=e){e[b]=p=function(){for(var a=f,b=arguments,h=p.before;h;)b=h.advice.apply(this,b)||b,h=h.next;if(p.around)var d=p.around.advice(this,b);for(h=p.after;h&&h.id<a;){if(h.receiveArguments)var e=h.advice.apply(this,b),d=e===g?d:e;else d=
h.advice.call(this,d,b);h=h.next}return d};if(h)p.around={advice:function(a,b){return h.apply(a,b)}};p.target=e}e=k(p||h,c,d,a);d=null;return e}}var g,f=0,c=m("after"),l=m("before"),o=m("around");return{before:l,around:o,after:c}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(k,m,g){function f(b,h,d,c,f){if(c=h.match(/(.*):(.*)/))return h=c[2],c=c[1],n.selector(c,h).call(f,b,d);g("touch")&&(e.test(h)&&(d=y(d)),!g("event-orientationchange")&&
"orientationchange"==h&&(h="resize",b=window,d=y(d)));p&&(d=p(d));if(b.addEventListener){var l=h in a,o=l?a[h]:h;b.addEventListener(o,d,l);return{remove:function(){b.removeEventListener(o,d,l)}}}if(t&&b.attachEvent)return t(b,"on"+h,d);throw Error("Target must be an event emitter");}function c(){this.cancelable=!1}function l(){this.bubbles=!1}var o=window.ScriptEngineMajorVersion;g.add("jscript",o&&o()+ScriptEngineMinorVersion()/10);g.add("event-orientationchange",g("touch")&&!g("android"));g.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var n=function(a,b,h,d){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,h):n.parse(a,b,h,f,d,this)};n.pausable=function(a,b,h,d){var p,a=n(a,b,function(){if(!p)return h.apply(this,arguments)},d);a.pause=function(){p=!0};a.resume=function(){p=!1};return a};n.once=function(a,b,h){var d=n(a,b,function(){d.remove();return h.apply(this,arguments)});return d};n.parse=function(a,b,h,d,p,e){if(b.call)return b.call(e,
a,h);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),c=[],f=0,l;l=b[f++];)c.push(d(a,l,h,p,e));c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c}return d(a,b,h,p,e)};var e=/^touch/;n.selector=function(a,b,h){return function(d,p){function e(b){for(c=c&&c.matches?c:m.query;!c.matches(b,a,d);)if(b==d||!1===h||!(b=b.parentNode)||1!=b.nodeType)return;return b}var c="function"==typeof a?{matches:a}:this,f=b.bubble;return f?n(d,f(e),p):n(d,b,function(a){var b=e(a.target);return b&&
p.call(b,a)})}};var b=[].slice,d=n.emit=function(a,h,d){var p=b.call(arguments,2),e="on"+h;if("parentNode"in a){var f=p[0]={},n;for(n in d)f[n]=d[n];f.preventDefault=c;f.stopPropagation=l;f.target=a;f.type=h;d=f}do a[e]&&a[e].apply(a,p);while(d&&d.bubbles&&(a=a.parentNode));return d&&d.cancelable&&d},a={};if(!g("event-stopimmediatepropagation"))var h=function(){this.modified=this.immediatelyStopped=!0},p=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=h,a.apply(this,
arguments)}};if(g("dom-addeventlistener"))a={focusin:"focus",focusout:"blur"},n.emit=function(a,b,h){if(a.dispatchEvent&&document.createEvent){var p=a.ownerDocument.createEvent("HTMLEvents");p.initEvent(b,!!h.bubbles,!!h.cancelable);for(var e in h)e in p||(p[e]=h[e]);return a.dispatchEvent(p)&&p}return d.apply(n,arguments)};else{n._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;q&&a.type==q.type&&(a=q);if(!a.target){a.target=a.srcElement;
a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=v,a.preventDefault=s;switch(a.type){case "keypress":var h="charCode"in a?a.charCode:a.keyCode;10==h?(h=0,a.keyCode=13):13==h||27==h?h=0:3==h&&(h=99);a.charCode=h;h=a;h.keyChar=h.charCode?String.fromCharCode(h.charCode):"";h.charOrCode=h.keyChar||h.keyCode}}return a};var q,r=function(a){this.handle=a};r.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var w=function(a){return function(b){var b=n._fixEvent(b,this),h=a.call(this,b);b.modified&&(q||setTimeout(function(){q=null}),q=b);return h}},t=function(a,b,h){h=w(h);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var p=d,d=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
d.listeners=[];a[b]=d;d.global=this;p&&d.listeners.push(_dojoIEListeners_.push(p)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(h)-1);return new r(a)}return k.after(a,b,h,!0)},v=function(){this.cancelBubble=!0},s=n._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(g("touch"))var u=function(){},x=window.orientation,y=function(a){return function(b){var h=b.corrected;if(!h){var d=b.type;try{delete b.type}catch(p){}if(b.type){if(g("mozilla")){var h=
{},e;for(e in b)h[e]=b[e]}else u.prototype=b,h=new u;h.preventDefault=function(){b.preventDefault()};h.stopPropagation=function(){b.stopPropagation()}}else h=b,h.type=d;b.corrected=h;if("resize"==d){if(x==window.orientation)return null;x=window.orientation;h.type="orientationchange";return a.call(this,h)}if(!("rotation"in h))h.rotation=0,h.scale=1;var d=h.changedTouches[0],c;for(c in d)delete h[c],h[c]=d[c]}return a.call(this,h)}};return n})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],
function(k,m){return function(g,f,c,l){var o=g&&"function"===typeof g.then,n=o&&g instanceof m;if(o){if(!n)o=new k(g.cancel),g.then(o.resolve,o.reject,o.progress),g=o.promise}else return 1<arguments.length?f?f(g):g:(new k).resolve(g);return f||c||l?g.then(f,c,l):g}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(k,m){k.fromJson=function(g){return eval("("+g+")")};k._escapeString=m.stringify;k.toJsonIndentStr="\t";k.toJson=function(g,f){return m.stringify(g,function(c,f){if(f){var o=
f.__json__||f.json;if("function"==typeof o)return o.call(f)}return f},f&&k.toJsonIndentStr)};return k})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(k,m,g,f,c,l){function o(){for(var d=+new Date,a=0,h;a<b.length&&(h=b[a]);a++){var p=h.response,c=p.options;if(h.isCanceled&&h.isCanceled()||h.isValid&&!h.isValid(p))b.splice(a--,1),n._onAction&&n._onAction();
else if(h.isReady&&h.isReady(p))b.splice(a--,1),h.handleResponse(p),n._onAction&&n._onAction();else if(h.startTime&&h.startTime+(c.timeout||0)<d)b.splice(a--,1),h.cancel(new m("Timeout exceeded",p)),n._onAction&&n._onAction()}n._onInFlight&&n._onInFlight(h);b.length||(clearInterval(e),e=null)}function n(d){if(d.response.options.timeout)d.startTime=+new Date;d.isFulfilled()||(b.push(d),e||(e=setInterval(o,50)),d.response.options.sync&&o())}var e=null,b=[];n.cancelAll=function(){try{f.forEach(b,function(a){try{a.cancel(new g("All requests canceled."))}catch(b){}})}catch(d){}};
c&&l&&c.doc.attachEvent&&l(c.global,"unload",function(){n.cancelAll()});return n})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang,../promise/Promise".split(","),function(k,m,g,f,c,l,o,n){function e(a){return d(a)}function b(a){return a.data||a.text}k.deepCopy=function(a,b){for(var d in b){var e=a[d],c=b[d];e!==c&&(e&&"object"===typeof e&&c&&"object"===typeof c?k.deepCopy(e,c):a[d]=c)}return a};k.deepCreate=
function(a,b){var b=b||{},d=o.delegate(a),e,c;for(e in a)(c=a[e])&&"object"===typeof c&&(d[e]=k.deepCreate(c,b[e]));return k.deepCopy(d,b)};var d=Object.freeze||function(a){return a};k.deferred=function(a,h,p,c,l,w){var t=new f(function(b){h&&h(t,a);return!b||!(b instanceof m)&&!(b instanceof g)?new g("Request canceled",a):b});t.response=a;t.isValid=p;t.isReady=c;t.handleResponse=l;p=t.then(e).otherwise(function(b){b.response=a;throw b;});k.notify&&p.then(o.hitch(k.notify,"emit","load"),o.hitch(k.notify,
"emit","error"));var c=p.then(b),l=new n,v;for(v in c)c.hasOwnProperty(v)&&(l[v]=c[v]);l.response=p;d(l);w&&t.then(function(a){w.call(t,a)},function(b){w.call(t,a,b)});t.promise=l;t.then=l.then;return t};k.addCommonMethods=function(a,b){l.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(h,d){d=o.delegate(d||{});d.method=b;return a(h,d)}})};k.parseArgs=function(a,b,d){var e=b.data,f=b.query;if(e&&!d&&"object"===typeof e)b.data=c.objectToQuery(e);
f?("object"===typeof f&&(f=c.objectToQuery(f)),b.preventCache&&(f+=(f?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(f="request.preventCache="+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"&":"?")+f);return{url:a,options:b,getHeader:function(){return null}}};k.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(k){return k("RequestError",function(k,g){this.response=g})})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(k,m){return k("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(k,m,g,f,c){function l(a,b){var h=a.xhr;a.status=a.xhr.status;a.text=h.responseText;if("xml"===a.options.handleAs)a.data=h.responseXML;if(!b)try{g(a)}catch(d){b=d}b?this.reject(b):f.checkStatus(h.status)?this.resolve(a):(b=new k("Unable to load "+a.url+" status: "+h.status,a),this.reject(b))}
function o(a){return this.xhr.getResponseHeader(a)}function n(g,q,r){var s=f.parseArgs(g,f.deepCreate(p,q),c("native-formdata")&&q&&q.data&&q.data instanceof FormData),g=s.url,q=s.options,u,x=f.deferred(s,a,e,b,l,function(){u&&u()}),y=s.xhr=n._create();if(!y)return x.cancel(new k("XHR was not created")),r?x:x.promise;s.getHeader=o;d&&(u=d(y,x,s));var A=q.data,F=!q.sync,G=q.method;try{y.open(G,g,F,q.user||h,q.password||h);if(q.withCredentials)y.withCredentials=q.withCredentials;var H=q.headers,g="application/x-www-form-urlencoded";
if(H)for(var D in H)"content-type"===D.toLowerCase()?g=H[D]:H[D]&&y.setRequestHeader(D,H[D]);g&&!1!==g&&y.setRequestHeader("Content-Type",g);(!H||!("X-Requested-With"in H))&&y.setRequestHeader("X-Requested-With","XMLHttpRequest");f.notify&&f.notify.emit("send",s,x.promise.cancel);y.send(A)}catch(I){x.reject(I)}m(x);y=null;return r?x:x.promise}c.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});c.add("dojo-force-activex-xhr",function(){return c("activex")&&!document.addEventListener&&
"file:"===window.location.protocol});c.add("native-xhr2",function(){if(c("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});c.add("native-formdata",function(){return"function"===typeof FormData});var e,b,d,a;c("native-xhr2")?(e=function(){return!this.isFulfilled()},a=function(a,b){b.xhr.abort()},d=function(a,b,h){function d(){b.handleResponse(h)}function e(a){a=new k("Unable to load "+h.url+" status: "+
a.target.status,h);b.handleResponse(h,a)}function p(a){if(a.lengthComputable)h.loaded=a.loaded,h.total=a.total,b.progress(h)}a.addEventListener("load",d,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",p,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",p,!1);a=null}}):(e=function(a){return a.xhr.readyState},b=function(a){return 4===a.xhr.readyState},a=function(a,b){var h=b.xhr,d=typeof h.abort;("function"===
d||"object"===d||"unknown"===d)&&h.abort()});var h,p={data:null,query:null,sync:!1,method:"GET"};n._create=function(){throw Error("XMLHTTP not available");};if(c("native-xhr")&&!c("dojo-force-activex-xhr"))n._create=function(){return new XMLHttpRequest};else if(c("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),n._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(q){try{new ActiveXObject("Microsoft.XMLHTTP"),n._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(r){}}f.addCommonMethods(n);
return n})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(k,m,g,f){function c(e){var b=n[e.options.handleAs];e.data=b?b(e):e.data||e.text;return e}f.add("activex","undefined"!==typeof ActiveXObject);f.add("dom-parser",function(e){return"DOMParser"in e});var l;if(f("activex")){var o=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];l=function(e){var b=e.data;b&&f("dom-qsa2.1")&&
!b.querySelectorAll&&f("dom-parser")&&(b=(new DOMParser).parseFromString(e.text,"application/xml"));if(!b||!b.documentElement){var d=e.text;g.some(o,function(a){try{var h=new ActiveXObject(a);h.async=!1;h.loadXML(d);b=h}catch(e){return!1}return!0})}return b}}var n={javascript:function(e){return m.eval(e.text||"")},json:function(e){return k.parse(e.text||null)},xml:l};c.register=function(e,b){n[e]=b};return c})},"dojo/selector/_loader":function(){define(["../has","require"],function(k,m){var g=document.createElement("div");
k.add("dom-qsa2.1",!!g.querySelectorAll);k.add("dom-qsa3",function(){try{return g.innerHTML="<p class='TEST'></p>",1==g.querySelectorAll(".TEST:empty").length}catch(c){}});var f;return{load:function(c,l,o){var n=m,c="default"==c?k("config-selectorEngine")||"css3":c,c="css2"==c||"lite"==c?"./lite":"css2.1"==c?k("dom-qsa2.1")?"./lite":"./acme":"css3"==c?k("dom-qsa3")?"./lite":"./acme":"acme"==c?"./acme":(n=l)&&c;if("?"==c.charAt(c.length-1))var c=c.substring(0,c.length-1),e=!0;if(e&&(k("dom-compliant-qsa")||
f))return o(f);n([c],function(b){"./lite"!=c&&(f=b);o(b)})}}})}}});
require({cache:{"kso/main":function(){define("dojo/ready,dojo/on,dojo/topic,dojo/_base/declare,dojo/_base/event,dojo/string,dojo/_base/window,dijit/form/Form,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/TextBox,dojox/mobile/Button,dojox/layout/TableContainer,moch/app/mobile,kso/Store,dojox/mobile/Heading,kso/TabBarLogin,kso/views/Home,kso/views/PlanList,kso/views/PlanCreate,kso/views/PlanEdit,kso/views/PlanEval,kso/views/Plan,kso/views/DiaryList,kso/views/DiaryEdit,kso/views/ProblemList,kso/views/ProblemCreate,kso/views/ProblemEdit,kso/views/ProblemEval,kso/views/Problem,dojox/mobile/compat".split(","),function(k,
m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q){function z(a){o.body().appendChild(a.domNode);a.startup()}function E(a,b){if("undefined"==typeof a&&window.localStorage)var h=window.localStorage,a=h.getItem("user_login"),b=h.getItem("user_password");a&&b&&p.rpc().user_login({login:a,password:b}).then(function(h){if(!0==h.valid){if(g.publish("moch/loggedin",h.valid),window.localStorage)h=window.localStorage,h.setItem("user_login",a),h.setItem("user_password",b)}else h.error&&alert(l.substitute(h.error,
{handle:a}))})}var B=f([e],{id:"login_view",postCreate:function(){sview=new b;var e=new n({onSubmit:function(a){c.stop(a);a=e.get("value");E(a.login,a.password)}}),p=new h({orientation:"vert"});p.addChild(new d({label:"Log ind p\u00e5 Din Handleplan",placeHolder:"Indtast e-mail",name:"login",style:{width:"99%"}}));p.addChild(new d({placeHolder:"Indtast kode",name:"password",type:"password",style:{width:"99%"}}));p.addChild(new a({label:"Log ind",type:"submit",spanLabel:!0,style:{width:"100%"}}));
p.startup();e.domNode.appendChild(p.domNode);sview.addChild(e);this.addChild(sview);this.addChild(new w)}}),C=f([e],{id:"forgot_password_view",postCreate:function(){sview=new b;var e=new n({onSubmit:function(a){c.stop(a);var b=e.get("value");b.send_new_password=!0;p.rpc().user_login(b).then(function(a){!0!=a.valid&&a.error&&alert(l.substitute(a.error,{handle:b.login}))})}}),f=new h({orientation:"vert"});f.addChild(new d({label:"F\u00e5 tilsendt en ny kode:",placeHolder:"Indtast e-mail",name:"email",
style:{width:"99%"}}));f.addChild(new a({label:"Send ny kode",type:"submit",spanLabel:!0,style:{width:"99%"}}));f.startup();e.domNode.appendChild(f.domNode);sview.addChild(e);this.addChild(sview);this.addChild(new w)}}),J=f([e],{id:"create_user_view",postCreate:function(){sview=new b;var e=new n({onSubmit:function(a){c.stop(a);var b=e.get("value");b.authorization_key="kso_new_user";p.rpc().self_registration(b).then(function(a){!0!=a.valid&&a.error&&alert(l.substitute(a.error,{handle:b.login}))})}}),
f=new h({orientation:"vert",customClass:"login"});f.addChild(new d({label:"Opret en ny bruger:",placeHolder:"Indtast e-mail",name:"new_user_email",style:{width:"99%"}}));f.addChild(new d({placeHolder:"Indtast valgfri kode",name:"password",style:{width:"99%"}}));f.addChild(new a({label:"Opret bruger",type:"submit",spanLabel:!0,style:{width:"99%"}}));f.startup();e.domNode.appendChild(f.domNode);sview.addChild(e);this.addChild(sview);this.addChild(new w)}});p.init({auto_login:!0,_local_stores:{},getStore:function(a,
b){a in this._local_stores||(this._local_stores[a]=new q({entity_name:b}));return this._local_stores[a]},createHome:function(){if(!this._main_view)this._main_view=new t,z(this._main_view)},onReady:function(){},onUserLogin:function(){E();this._login_view=new B;z(this._login_view);z(new C);z(new J)},onLogin:function(){this.createHome();z(new v);z(new s);z(new u);z(new x);z(new y);z(new F);z(new A);z(new G);z(new H);z(new D);z(new I);z(new Q);this._login_view&&this._login_view.performTransition("kso_home_view",
-1,"coverv")}})})},"dojo/ready":function(){define("dojo/ready",["./_base/kernel","./has","require","./domReady","./_base/lang"],function(k,m,g,f,c){var l=0,o,n=[],e=0,b=function(){if(l&&!e&&n.length){e=1;var a=n.shift();try{a()}finally{e=0}e=0;n.length&&o(b)}};g.on&&g.on("idle",b);o=function(){(g.idle?g.idle():1)&&b()};var m=k.ready=k.addOnLoad=function(a,b,d){var e=c._toArray(arguments);"number"!=typeof a?(d=b,b=a,a=1E3):e.shift();d=d?c.hitch.apply(k,e):function(){b()};d.priority=a;for(e=0;e<n.length&&
a>=n[e].priority;e++);n.splice(e,0,d);o()},d=k.config.addOnLoad;if(d)m[c.isArray(d)?"apply":"call"](k,d);k.config.parseOnLoad&&!k.isAsync&&m(99,function(){k.parser||(k.deprecated("Add explicit require(['dojo/parser']);","","2.0"),g(["dojo/parser"]))});f(function(){l=1;k._postLoad=k.config.afterOnLoad=!0;n.length&&o(b)});return m})},"dojo/topic":function(){define(["./Evented"],function(k){var m=new k;return{publish:function(g,f){return m.emit.apply(m,arguments)},subscribe:function(g,f){return m.on.apply(m,
arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(k,m,g,f){if(m._fixEvent){var c=m._fixEvent;m._fixEvent=function(l,n){(l=c(l,n))&&f.normalizeEvent(l);return l}}var l={fix:function(c,f){return m._fixEvent?m._fixEvent(c,f):c},stop:function(c){g("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,m._preventDefault.call(c))}};k.fixEvent=l.fix;k.stopEvent=l.stop;return l})},
"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(k,m,g,f){function c(b,d,a,h,e,c){c=c||"px";b=b.style;if(!isNaN(d))b.left=d+c;if(!isNaN(a))b.top=a+c;if(0<=h)b.width=h+c;if(0<=e)b.height=e+c}function l(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function o(b){return"border-box"==n.boxModel||"table"==b.tagName.toLowerCase()||l(b)}var n={boxModel:"content-box"};if(k("ie"))n.boxModel=
"BackCompat"==document.compatMode?"border-box":"content-box";n.getPadExtents=function(b,d){var b=g.byId(b),a=d||f.getComputedStyle(b),h=f.toPixelValue,e=h(b,a.paddingLeft),c=h(b,a.paddingTop),l=h(b,a.paddingRight),a=h(b,a.paddingBottom);return{l:e,t:c,r:l,b:a,w:e+l,h:c+a}};n.getBorderExtents=function(b,d){var b=g.byId(b),a=f.toPixelValue,h=d||f.getComputedStyle(b),e="none"!=h.borderLeftStyle?a(b,h.borderLeftWidth):0,c="none"!=h.borderTopStyle?a(b,h.borderTopWidth):0,l="none"!=h.borderRightStyle?a(b,
h.borderRightWidth):0,a="none"!=h.borderBottomStyle?a(b,h.borderBottomWidth):0;return{l:e,t:c,r:l,b:a,w:e+l,h:c+a}};n.getPadBorderExtents=function(b,d){var b=g.byId(b),a=d||f.getComputedStyle(b),h=n.getPadExtents(b,a),a=n.getBorderExtents(b,a);return{l:h.l+a.l,t:h.t+a.t,r:h.r+a.r,b:h.b+a.b,w:h.w+a.w,h:h.h+a.h}};n.getMarginExtents=function(b,d){var b=g.byId(b),a=d||f.getComputedStyle(b),h=f.toPixelValue,e=h(b,a.marginLeft),c=h(b,a.marginTop),l=h(b,a.marginRight),a=h(b,a.marginBottom);return{l:e,t:c,
r:l,b:a,w:e+l,h:c+a}};n.getMarginBox=function(b,d){var b=g.byId(b),a=d||f.getComputedStyle(b),h=n.getMarginExtents(b,a),e=b.offsetLeft-h.l,c=b.offsetTop-h.t,l=b.parentNode,o=f.toPixelValue;if(k("mozilla")){var m=parseFloat(a.left),a=parseFloat(a.top);!isNaN(m)&&!isNaN(a)?(e=m,c=a):l&&l.style&&(l=f.getComputedStyle(l),"visible"!=l.overflow&&(e+="none"!=l.borderLeftStyle?o(b,l.borderLeftWidth):0,c+="none"!=l.borderTopStyle?o(b,l.borderTopWidth):0))}else if((k("opera")||8==k("ie")&&!k("quirks"))&&l)l=
f.getComputedStyle(l),e-="none"!=l.borderLeftStyle?o(b,l.borderLeftWidth):0,c-="none"!=l.borderTopStyle?o(b,l.borderTopWidth):0;return{l:e,t:c,w:b.offsetWidth+h.w,h:b.offsetHeight+h.h}};n.getContentBox=function(b,d){var b=g.byId(b),a=d||f.getComputedStyle(b),h=b.clientWidth,e=n.getPadExtents(b,a),c=n.getBorderExtents(b,a);h?(a=b.clientHeight,c.w=c.h=0):(h=b.offsetWidth,a=b.offsetHeight);k("opera")&&(e.l+=c.l,e.t+=c.t);return{l:e.l,t:e.t,w:h-e.w-c.w,h:a-e.h-c.h}};n.setContentSize=function(b,d,a){var b=
g.byId(b),h=d.w,d=d.h;o(b)&&(a=n.getPadBorderExtents(b,a),0<=h&&(h+=a.w),0<=d&&(d+=a.h));c(b,NaN,NaN,h,d)};var e={l:0,t:0,w:0,h:0};n.setMarginBox=function(b,d,a){var b=g.byId(b),h=a||f.getComputedStyle(b),a=d.w,p=d.h,q=o(b)?e:n.getPadBorderExtents(b,h),h=n.getMarginExtents(b,h);if(k("webkit")&&l(b)){var r=b.style;if(0<=a&&!r.width)r.width="4px";if(0<=p&&!r.height)r.height="4px"}0<=a&&(a=Math.max(a-q.w-h.w,0));0<=p&&(p=Math.max(p-q.h-h.h,0));c(b,d.l,d.t,a,p)};n.isBodyLtr=function(b){b=b||m.doc;return"ltr"==
(m.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};n.docScroll=function(b){var b=b||m.doc,d=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in d?{x:d.pageXOffset,y:d.pageYOffset}:(d=k("quirks")?m.body(b):b.documentElement)&&{x:n.fixIeBiDiScrollLeft(d.scrollLeft||0,b),y:d.scrollTop||0}};if(k("ie"))n.getIeDocumentElementOffset=function(b){b=b||m.doc;b=b.documentElement;if(8>k("ie")){var d=b.getBoundingClientRect(),a=d.left,d=d.top;7>k("ie")&&(a+=b.clientLeft,d+=b.clientTop);return{x:0>
a?0:a,y:0>d?0:d}}return{x:0,y:0}};n.fixIeBiDiScrollLeft=function(b,d){var d=d||m.doc,a=k("ie");if(a&&!n.isBodyLtr(d)){var h=k("quirks"),e=h?m.body(d):d.documentElement,c=m.global;6==a&&!h&&c.frameElement&&e.scrollHeight>e.clientHeight&&(b+=e.clientLeft);return 8>a||h?b+e.clientWidth-e.scrollWidth:-b}return b};n.position=function(b,d){var b=g.byId(b),a=m.body(b.ownerDocument),h=b.getBoundingClientRect(),h={x:h.left,y:h.top,w:h.right-h.left,h:h.bottom-h.top};if(9>k("ie")){var e=n.getIeDocumentElementOffset(b.ownerDocument);
h.x-=e.x+(k("quirks")?a.clientLeft+a.offsetLeft:0);h.y-=e.y+(k("quirks")?a.clientTop+a.offsetTop:0)}d&&(a=n.docScroll(b.ownerDocument),h.x+=a.x,h.y+=a.y);return h};n.getMarginSize=function(b,d){var b=g.byId(b),a=n.getMarginExtents(b,d||f.getComputedStyle(b)),h=b.getBoundingClientRect();return{w:h.right-h.left+a.w,h:h.bottom-h.top+a.h}};n.normalizeEvent=function(b){if(!("layerX"in b))b.layerX=b.offsetX,b.layerY=b.offsetY;if(!k("dom-addeventlistener")){var d=b.target,d=d&&d.ownerDocument||document,
a=k("quirks")?d.body:d.documentElement,h=n.getIeDocumentElementOffset(d);b.pageX=b.clientX+n.fixIeBiDiScrollLeft(a.scrollLeft||0,d)-h.x;b.pageY=b.clientY+(a.scrollTop||0)-h.y}};return n})},"dojo/dom-style":function(){define("dojo/dom-style",["./sniff","./dom"],function(k,m){function g(a,h,e){h=h.toLowerCase();if(k("ie")){if("auto"==e){if("height"==h)return a.offsetHeight;if("width"==h)return a.offsetWidth}if("fontweight"==h)switch(e){case 700:return"bold";default:return"normal"}}h in b||(b[h]=d.test(h));
return b[h]?l(a,e):e}var f,c={};f=k("webkit")?function(a){var b;if(1==a.nodeType){var h=a.ownerDocument.defaultView;b=h.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=h.getComputedStyle(a,null)}return b||{}}:k("ie")&&(9>k("ie")||k("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};c.getComputedStyle=f;var l;l=k("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;
if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var h=a.style,d=a.runtimeStyle,e=h.left,c=d.left;d.left=a.currentStyle.left;try{h.left=b,b=h.pixelLeft}catch(f){b=0}h.left=e;d.left=c;return b}:function(a,b){return parseFloat(b)||0};c.toPixelValue=l;var o=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(h){return b?{}:null}},n=9>k("ie")||10>k("ie")&&k("quirks")?function(a){try{return o(a).Opacity/100}catch(b){return 1}}:function(a){return f(a).opacity},e=9>k("ie")||
10>k("ie")&&k("quirks")?function(a,b){var h=100*b,d=1==b;a.style.zoom=d?"":1;if(o(a))o(a,1).Opacity=h;else{if(d)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+h+")"}o(a,1).Enabled=!d;if("tr"==a.tagName.toLowerCase())for(h=a.firstChild;h;h=h.nextSibling)"td"==h.tagName.toLowerCase()&&e(h,b);return b}:function(a,b){return a.style.opacity=b},b={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,a=k("ie")?"styleFloat":"cssFloat",h={cssFloat:a,styleFloat:a,"float":a};
c.get=function(a,b){var d=m.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return n(d);var b=h[b]||b,f=c.getComputedStyle(d);return 1==e?f:g(d,b,f[b]||d.style[b])};c.set=function(a,b,d){var f=m.byId(a),l=arguments.length,n="opacity"==b,b=h[b]||b;if(3==l)return n?e(f,d):f.style[b]=d;for(var o in b)c.set(a,o,b[o]);return c.getComputedStyle(f)};return c})},"dojo/string":function(){define("dojo/string",["./_base/kernel","./_base/lang"],function(k,m){var g={};m.setObject("dojo.string",g);g.rep=function(f,
c){if(0>=c||!f)return"";for(var l=[];;){c&1&&l.push(f);if(!(c>>=1))break;f+=f}return l.join("")};g.pad=function(f,c,l,o){l||(l="0");f=""+f;c=g.rep(l,Math.ceil((c-f.length)/l.length));return o?f+c:c+f};g.substitute=function(f,c,l,o){o=o||k.global;l=l?m.hitch(o,l):function(c){return c};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(f,e,b){f=m.getObject(e,!1,c);b&&(f=m.getObject(b,!1,o).call(o,f,e));return l(f,e).toString()})};g.trim=String.prototype.trim?m.trim:function(f){for(var f=
f.replace(/^\s+/,""),c=f.length-1;0<=c;c--)if(/\S/.test(f.charAt(c))){f=f.substring(0,c+1);break}return f};return g})},"dijit/form/Form":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/kernel,dojo/sniff,../_Widget,../_TemplatedMixin,./_FormMixin,../layout/_ContentPaneResizeMixin".split(","),function(k,m,g,f,c,l,o,n,e){return k("dijit.form.Form",[l,o,n,e],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",
postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(b){this.encType=b;m.set(this.domNode,"encType",b);if(c("ie"))this.domNode.encoding=b},reset:function(b){var d={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:b?b.target:this.domNode,target:b?b.target:this.domNode};!1!==this.onReset(d)&&d.returnValue&&this.inherited(arguments,
[])},onReset:function(){return!0},_onReset:function(b){this.reset(b);g.stop(b);return!1},_onSubmit:function(b){var d=this.constructor.prototype;if(this.execute!=d.execute||this.onExecute!=d.onExecute)f.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(b)&&g.stop(b)},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},
"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(k,m,g,f,c,l){function o(b,d){var a=b.getAttributeNode&&b.getAttributeNode(d);return a&&a.specified}var n={innerHTML:1,className:1,htmlFor:m("ie"),value:1},e={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};k.has=function(b,d){var a=d.toLowerCase();return n[l.names[a]||d]||o(f.byId(b),e[a]||d)};k.get=function(b,d){var b=f.byId(b),a=d.toLowerCase(),h=l.names[a]||
d,c=b[h];if(n[h]&&"undefined"!=typeof c||"href"!=h&&("boolean"==typeof c||g.isFunction(c)))return c;a=e[a]||d;return o(b,a)?b.getAttribute(a):null};k.set=function(b,d,a){b=f.byId(b);if(2==arguments.length){for(var h in d)k.set(b,h,d[h]);return b}h=d.toLowerCase();var p=l.names[h]||d,o=n[p];if("style"==p&&"string"!=typeof a)return c.set(b,a),b;if(o||"boolean"==typeof a||g.isFunction(a))return l.set(b,d,a);b.setAttribute(e[h]||d,a);return b};k.remove=function(b,d){f.byId(b).removeAttribute(e[d.toLowerCase()]||
d)};k.getNodeProp=function(b,d){var b=f.byId(b),a=d.toLowerCase(),h=l.names[a]||d;if(h in b&&"href"!=h)return b[h];a=e[a]||d;return o(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(k,m,g,f,c,l,o,n){var e={},b=0,d=m._scopeName+"attrid";k.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",
valuetype:"valueType"};k.get=function(a,b){var a=c.byId(a),d=b.toLowerCase();return a[k.names[d]||b]};k.set=function(a,h,p){a=c.byId(a);if(2==arguments.length&&"string"!=typeof h){for(var q in h)k.set(a,q,h[q]);return a}q=h.toLowerCase();q=k.names[q]||h;if("style"==q&&"string"!=typeof p)return l.set(a,p),a;if("innerHTML"==q)return g("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(o.empty(a),a.appendChild(o.toDom(p,a.ownerDocument))):a[q]=p,a;if(f.isFunction(p)){var r=
a[d];r||(r=b++,a[d]=r);e[r]||(e[r]={});var m=e[r][q];if(m)n.disconnect(m);else try{delete a[q]}catch(t){}p?e[r][q]=n.connect(a,q,p):a[q]=null;return a}a[q]=p;return a}})},"dojo/dom-construct":function(){define("dojo/dom-construct","exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(k,m,g,f,c,l){function o(a,b){var h=b.parentNode;h&&h.insertBefore(a,b)}function n(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(b){}for(var h;h=a.lastChild;)e(h,a)}function e(a,
b){a.firstChild&&n(a);b&&(g("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,a={},h=0,p="__"+m._scopeName+"ToDomId",q;for(q in b)if(b.hasOwnProperty(q))m=b[q],m.pre="option"==q?'<select multiple="multiple">':"<"+m.join("><")+
">",m.post="</"+m.reverse().join("></")+">";k.toDom=function(e,c){var c=c||f.doc,l=c[p];l||(c[p]=l=++h+"",a[l]=c.createElement("div"));var e=e+"",n=e.match(d),o=n?n[1].toLowerCase():"",l=a[l];if(n&&b[o]){n=b[o];l.innerHTML=n.pre+e+n.post;for(n=n.length;n;--n)l=l.firstChild}else l.innerHTML=e;if(1==l.childNodes.length)return l.removeChild(l.firstChild);for(o=c.createDocumentFragment();n=l.firstChild;)o.appendChild(n);return o};k.place=function(a,b,h){b=c.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?
k.toDom(a,b.ownerDocument):c.byId(a));if("number"==typeof h){var d=b.childNodes;!d.length||d.length<=h?b.appendChild(a):o(a,d[0>h?0:h])}else switch(h){case "before":o(a,b);break;case "after":h=a;(d=b.parentNode)&&(d.lastChild==b?d.appendChild(h):d.insertBefore(h,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":k.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){o(a,b.firstChild);break}default:b.appendChild(a)}return a};k.create=function(a,b,h,d){var e=
f.doc;if(h)h=c.byId(h),e=h.ownerDocument;"string"==typeof a&&(a=e.createElement(a));b&&l.set(a,b);h&&k.place(a,h,d);return a};k.empty=function(a){n(c.byId(a))};k.destroy=function(a){(a=c.byId(a))&&e(a,a.parentNode)}})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(k,m,g,f,c,l,o,n){function e(a,b,h,d,e){d=n.hitch(h,d);if(!a||!a.addEventListener&&!a.attachEvent)return f.after(a||k.global,b,d,!0);"string"==typeof b&&
"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=k.global;if(!e)switch(b){case "keypress":b=p;break;case "mouseenter":b=l.enter;break;case "mouseleave":b=l.leave}return m(a,b,d,e)}function b(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}o.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&
!o("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},a=o("mac")?"metaKey":"ctrlKey",h=function(a,h){var d=n.mixin({},a,h);b(d);d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()};return d},p;p=o("events-keypress-typed")?function(a,b){var e=m(a,"keydown",function(a){var e=a.keyCode,c=13!=e&&32!=e&&(27!=e||!o("ie"))&&(48>e||90<e)&&(96>e||111<e)&&(186>e||192<e)&&(219>e||222<e)&&229!=e;if(c||
a.ctrlKey){c=c?0:e;if(a.ctrlKey){if(3==e||13==e)return b.call(a.currentTarget,a);c=95<c&&106>c?c-48:!a.shiftKey&&65<=c&&90>=c?c+32:d[c]||c}e=h(a,{type:"keypress",faux:!0,charCode:c});b.call(a.currentTarget,e);if(o("ie"))try{a.keyCode=e.keyCode}catch(p){}}}),c=m(a,"keypress",function(a){var d=a.charCode,a=h(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){e.remove();c.remove()}}}:o("opera")?function(a,b){return m(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=
32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return b.call(this,h(a,{charCode:d}))})}:function(a,h){return m(a,"keypress",function(a){b(a);return h.call(this,a)})};var q={_keypress:p,connect:function(a,b,h,d,c){var p=arguments,f=[],l=0;f.push("string"==typeof p[0]?null:p[l++],p[l++]);var n=p[l+1];f.push("string"==typeof n||"function"==typeof n?p[l++]:null,p[l++]);for(n=p.length;l<n;l++)f.push(p[l]);return e.apply(this,f)},disconnect:function(a){a&&a.remove()},subscribe:function(a,
b,h){return g.subscribe(a,n.hitch(b,h))},publish:function(a,b){return g.publish.apply(g,[a].concat(b))},connectPublisher:function(a,b,h){var d=function(){q.publish(a,arguments)};return h?q.connect(b,h,d):q.connect(b,d)},isCopyKey:function(b){return b[a]}};q.unsubscribe=q.disconnect;n.mixin(k,q);return q})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(k,m,g,f,c){function l(c,n){var e=function(b,d){return m(b,c,function(a){if(n)return n(a,d);if(!f.isDescendant(a.relatedTarget,
b))return d.call(this,a)})};e.bubble=function(b){return l(c,function(d,a){var h=b(d.target),e=d.relatedTarget;if(h&&h!=(e&&1==e.nodeType&&b(e)))return a.call(h,d)})};return e}g.add("dom-quirks",c.doc&&"BackCompat"==c.doc.compatMode);g.add("events-mouseenter",c.doc&&"onmouseenter"in c.doc.createElement("div"));g.add("events-mousewheel",c.doc&&"onmousewheel"in c.doc);c=g("dom-quirks")&&g("ie")||!g("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,f){return c.button&f},isLeft:function(c){return c.button&
1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,f){return c.button==f},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};k.mouseButtons=c;k=g("events-mousewheel")?"mousewheel":function(c,f){return m(c,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail;f.call(this,e)})};return{_eventHandler:l,enter:l("mouseover"),leave:l("mouseout"),wheel:k,isLeft:c.isLeft,
isMiddle:c.isMiddle,isRight:c.isRight}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(k,m){return k.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,
NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h){function p(){}function q(a){return function(b,h,d,e){return b&&"string"==typeof h&&b[h]==p?b.on(h.substring(2).toLowerCase(),o.hitch(d,e)):a.apply(g,arguments)}}k.around(g,"connect",q);l.connect&&k.around(l,"connect",q);k=f("dijit._Widget",[d,a,h],{onClick:p,onDblClick:p,onKeyDown:p,onKeyPress:p,onKeyUp:p,onMouseDown:p,onMouseMove:p,onMouseOut:p,onMouseOver:p,onMouseLeave:p,onMouseEnter:p,onMouseUp:p,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
p&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===p?g.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){l.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){if(m.isDebug){var h=arguments.callee._ach||(arguments.callee._ach={}),d=(arguments.callee.caller||"unknown caller").toString();h[d]||(l.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+d,"","2.0"),h[d]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){l.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?n("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&e(0,function(){require(["dijit/_base"])});return k})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(k,m,g,f,c,l,o,n){function e(a,b){var h=function(h,d){if("string"==typeof d&&
(d=g.byId(d),!d))return new b([]);var e="string"==typeof h?a(h,d):h?h.orphan?h:[h]:[];return e.orphan?e:new b(e)};h.matches=a.match||function(a,b,d){return 0<h.filter([a],b,d).length};h.filter=a.filter||function(a,b,d){return h(b,d).filter(function(b){return-1<c.indexOf(a,b)})};if("function"!=typeof a)var d=a.search,a=function(a,b){return d(b||document,a)};return h}m.add("array-extensible",function(){return 1==l.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var b=Array.prototype,
d=b.slice,a=b.concat,h=c.forEach,p=function(a,b,h){b=[0].concat(d.call(b,0));h=h||k.global;return function(d){b[0]=d;return a.apply(h,b)}},q=function(a){var b=this instanceof r&&m("array-extensible");"number"==typeof a&&(a=Array(a));var h=a&&"length"in a?a:arguments;if(b||!h.sort){for(var d=b?this:[],e=d.length=h.length,c=0;c<e;c++)d[c]=h[c];if(b)return d;h=d}l._mixin(h,w);h._NodeListCtor=function(a){return r(a)};return h},r=q,w=r.prototype=m("array-extensible")?[]:{};r._wrap=w._wrap=function(a,b,
h){a=new (h||this._NodeListCtor||r)(a);return b?a._stash(b):a};r._adaptAsMap=function(a,b){return function(){return this.map(p(a,arguments,b))}};r._adaptAsForEach=function(a,b){return function(){this.forEach(p(a,arguments,b));return this}};r._adaptAsFilter=function(a,b){return function(){return this.filter(p(a,arguments,b))}};r._adaptWithCondition=function(a,b,h){return function(){var d=arguments,e=p(a,d,h);if(b.call(h||k.global,d))return this.map(e);this.forEach(e);return this}};h(["slice","splice"],
function(a){var h=b[a];w[a]=function(){return this._wrap(h.apply(this,arguments),"slice"==a?this:null)}});h(["indexOf","lastIndexOf","every","some"],function(a){var b=c[a];w[a]=function(){return b.apply(k,[this].concat(d.call(arguments,0)))}});l.extend(q,{constructor:r,_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var h=this.map(function(h){return f(h,a,b)});h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};return h},
end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var h=d.call(this,0),e=c.map(arguments,function(a){return d.call(a,0)});return this._wrap(a.apply(h,e),this)},map:function(a,b){return this._wrap(c.map(this,a,b),this)},forEach:function(a,b){h(this,a,b);return this},filter:function(a){var b=arguments,h=this,d=0;if("string"==typeof a){h=t._filterResult(this,b[0]);if(1==b.length)return h._stash(this);d=1}return this._wrap(c.filter(h,b[d],b[d+1]),this)},instantiate:function(a,
b){var h=l.isFunction(a)?a:l.getObject(a),b=b||{};return this.forEach(function(a){new h(b,a)})},at:function(){var a=new this._NodeListCtor(0);h(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var t=e(n,q);k.query=e(n,function(a){return q(a)});t.load=function(a,b,h){o.load(a,b,function(a){h(e(a,q))})};k._filterQueryResult=t._filterResult=function(a,b,h){return new q(t.filter(a,b,h))};k.NodeList=t.NodeList=q;return t})},"dijit/registry":function(){define(["dojo/_base/array",
"dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(k,m,g,f,c){var l={},o={},n={length:0,add:function(e){if(o[e.id])throw Error("Tried to register widget with id=="+e.id+" but that id is already registered");o[e.id]=e;this.length++},remove:function(e){o[e]&&(delete o[e],this.length--)},byId:function(e){return"string"==typeof e?o[e]:e},byNode:function(e){return o[e.getAttribute("widgetId")]},toArray:function(){var e=[],b;for(b in o)e.push(o[b]);return e},getUniqueId:function(e){var b;
do b=e+"_"+(e in l?++l[e]:l[e]=0);while(o[b]);return"dijit"==c._scopeName?b:c._scopeName+"_"+b},findWidgets:function(e,b){function d(h){for(h=h.firstChild;h;h=h.nextSibling)if(1==h.nodeType){var e=h.getAttribute("widgetId");e?(e=o[e])&&a.push(e):h!==b&&d(h)}}var a=[];d(e);return a},_destroyAll:function(){c._curFocus=null;c._prevFocus=null;c._activeStack=[];k.forEach(n.findWidgets(f.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})},getEnclosingWidget:function(e){for(;e;){var b=
1==e.nodeType&&e.getAttribute("widgetId");if(b)return o[b];e=e.parentNode}return null},_hash:o};return c.registry=n})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(k,m,g){var f=window,c={addOnWindowUnload:function(c,o){if(!k.windowUnloaded)g(f,"unload",k.windowUnloaded=function(){});g(f,"unload",m.hitch(c,o))},addOnUnload:function(c,o){g(f,"beforeunload",m.hitch(c,o))}};k.addOnWindowUnload=c.addOnWindowUnload;k.addOnUnload=c.addOnUnload;return c})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(k){return k.dijit})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x){function y(a){return function(b){n[b?"set":"remove"](this.domNode,
a,b);this._set(a,b)}}h.add("dijit-legacy-requires",!p.isAsync);h("dijit-legacy-requires")&&w(0,function(){k(["dijit/_base/manager"])});var A={};return l("dijit._WidgetBase",[t,u],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:f.blankGif||k.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=o.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,q.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:s.doc);this.ownerDocumentBody=s.body(this.ownerDocument);x.add(this);this.buildRendering();var h;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),h=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();h&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],h;for(h in this.attributeMap)b.push(h);
var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}var e={},c;for(c in this.params||{})e[c]=this[c];m.forEach(b,function(a){a in e||this[a]&&this.set(a,this[a])},this);for(c in e)this.set(c,e[c])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");
this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));e.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&q.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(h){h.destroyRecursive?h.destroyRecursive(a):h.destroy&&h.destroy(a)}this._beingDestroyed=
!0;this.uninitialize();m.forEach(this._connects,q.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(x.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);x.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?n.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},
destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var h=this.domNode;q.isObject(b)?a.set(h,b):h.style.cssText=h.style.cssText?h.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(a,b,h){h=3<=arguments.length?h:this.attributeMap[a];m.forEach(q.isArray(h)?h:[h],function(h){var d=this[h.node||h||"domNode"];switch(h.type||"attribute"){case "attribute":q.isFunction(b)&&
(b=q.hitch(this,b));h=h.attribute?h.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?n.set(d,h,b):d.set(h,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":d.innerHTML=b;break;case "class":e.replace(d,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var h in a)this.set(h,a[h]);return this}h=this._getAttrNames(a);var d=
this[h.s];if(q.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",c=this[d].tagName,p;if(!(p=A[c])){p=this[d];var f={},l;for(l in p)f[l.toLowerCase()]=!0;p=A[c]=f}l=a in this.attributeMap?this.attributeMap[a]:h.s in this?this[h.s]:h.l in p&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=l&&this._attrToDom(a,b,l);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=
this._attrPairNames;if(b[a])return b[a];var h=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+h+"Attr",g:"_get"+h+"Attr",l:h.toLowerCase()}},_set:function(a,b){var h=this[a];this[a]=b;this._created&&b!==h&&(this._watchCallbacks&&this._watchCallbacks(a,h,b),this.emit("attrmodified-"+a,{detail:{prevValue:h,newValue:b}}))},emit:function(a,b,h){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail=
{};b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,h?h:[b]));this._started&&!this._beingDestroyed&&r.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var h=this._onMap(a);return h?g.after(this,h,b,!0):this.own(r(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,h=b._onMap;if(!h){var h=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(h[d.replace(/^on/,"").toLowerCase()]=d)}return h["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+
this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,h){return this.own(c.connect(a,b,this,h))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(v.subscribe(a,q.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},
isFocusable:function(){return this.focus&&"none"!=a.get(this.domNode,"display")},placeAt:function(a,h){var d=!a.tagName&&x.byId(a);d&&d.addChild&&(!h||"number"===typeof h)?d.addChild(this,h):(d=d?d.containerNode&&!/after|before|replace/.test(h||"")?d.containerNode:d.domNode:o.byId(a,this.ownerDocument),b.place(this.domNode,d,h),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var h=setTimeout(q.hitch(this,
function(){h=null;this._destroyed||q.hitch(this,a)()}),b||0);return{remove:function(){h&&(clearTimeout(h),h=null);return null}}}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(k,m,g){function f(e){if("string"==typeof e||e instanceof String){if(e&&!l.test(e))return o[0]=e,o;e=e.split(l);e.length&&!e[0]&&e.shift();e.length&&!e[e.length-1]&&e.pop();return e}return!e?[]:m.filter(e,function(b){return b})}var c,l=/\s+/,o=[""],n={};return c={contains:function(e,
b){return 0<=(" "+g.byId(e).className+" ").indexOf(" "+b+" ")},add:function(e,b){var e=g.byId(e),b=f(b),d=e.className,a,d=d?" "+d+" ":" ";a=d.length;for(var h=0,c=b.length,l;h<c;++h)(l=b[h])&&0>d.indexOf(" "+l+" ")&&(d+=l+" ");a<d.length&&(e.className=d.substr(1,d.length-2))},remove:function(e,b){var e=g.byId(e),d;if(void 0!==b){b=f(b);d=" "+e.className+" ";for(var a=0,h=b.length;a<h;++a)d=d.replace(" "+b[a]+" "," ");d=k.trim(d)}else d="";e.className!=d&&(e.className=d)},replace:function(e,b,d){e=
g.byId(e);n.className=e.className;c.remove(n,d);c.add(n,b);e.className!==n.className&&(e.className=n.className)},toggle:function(e,b,d){e=g.byId(e);if(void 0===d)for(var b=f(b),a=0,h=b.length,p;a<h;++a)p=b[a],c[c.contains(e,p)?"remove":"add"](e,p);else c[d?"add":"remove"](e,b);return d}}})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(k,m,g,f){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var f=this._attrPairNames;
return f[c]?f[c]:f[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,f){return"function"===typeof this[f.g]?this[f.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,l){if("object"===typeof c){for(var o in c)c.hasOwnProperty(o)&&"_watchCallbacks"!=o&&this.set(o,c[o]);return this}o=this._getAttrNames(c);var n=this._get(c,o);o=this[o.s];var e;"function"===typeof o?e=o.apply(this,Array.prototype.slice.call(arguments,1)):
this[c]=l;if(this._watchCallbacks){var b=this;f(e,function(){b._watchCallbacks(c,n,l)})}return this},_changeAttrValue:function(c,f){var o=this.get(c);this[c]=f;this._watchCallbacks&&this._watchCallbacks(c,o,f);return this},watch:function(c,f){var o=this._watchCallbacks;if(!o)var n=this,o=this._watchCallbacks=function(b,a,h,e){var c=function(e){if(e)for(var e=e.slice(),c=0,p=e.length;c<p;c++)e[c].call(n,b,a,h)};c(o["_"+b]);e||c(o["*"])};!f&&"function"===typeof c?(f=c,c="*"):c="_"+c;var e=o[c];"object"!==
typeof e&&(e=o[c]=[]);e.push(f);var b={};b.unwatch=b.remove=function(){var b=g.indexOf(e,f);-1<b&&e.splice(b,1)};return b}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,m,g){return g("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){k.forEach(arguments,function(f){var c="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove",l=m.before(this,"destroy",function(l){f[c](l)}),o=m.after(f,c,
function(){l.remove();o.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),function(k,m,g,f,c,l,o,n){k=f("dijit._OnDijitClickMixin",null,{connect:function(e,b,d){return this.inherited(arguments,[e,"ondijitclick"==b?n:b,d])}});k.a11yclick=n;return k})},"dijit/a11yclick":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),
function(k,m,g,f,c,l,o){function n(b){return(b.keyCode===g.ENTER||b.keyCode===g.SPACE)&&!b.ctrlKey&&!b.shiftKey&&!b.altKey&&!b.metaKey}var e=null;c("dom-addeventlistener")?o.doc.addEventListener("keydown",function(b){e=b.target},!0):function(){var b=function(b){e=b.srcElement};o.doc.attachEvent("onkeydown",b);l.addOnWindowUnload(function(){o.doc.detachEvent("onkeydown",b)})}();return function(b,d){if(/input|button/i.test(b.nodeName))return k(b,"click",d);var a=[k(b,"keydown",function(a){if(n(a))e=
a.target,a.preventDefault()}),k(b,"keyup",function(a){n(a)&&a.target==e&&(e=null,k.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),k(b,"click",function(a){d.call(this,a)})];if(c("touch")){var h;a.push(k(b,"touchend",function(a){var b=a.target;h=setTimeout(function(){h=null;k.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),k(b,"click",function(){h&&clearTimeout(h)}))}return{remove:function(){m.forEach(a,function(a){a.remove()});h&&(clearTimeout(h),h=null)}}}})},"dijit/_FocusMixin":function(){define(["./focus",
"./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(k,m,g,f){f.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",null,{_focusManager:k})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w){var t=new (m([d,l],{curNode:null,activeStack:[],constructor:function(){var a=o.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});k.before(c,"empty",a);k.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,h){var d=this,e=function(a){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);
if(!b("ie")||!a||!(a.srcElement&&null==a.srcElement.parentNode))d._onTouchNode(h||a.target||a.srcElement,"mouse")},c=b("ie")?a.document.documentElement:a.document;if(c){if(b("ie")){a.document.body.attachEvent("onmousedown",e);var p=function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(q.isTabNavigable(a.srcElement)?d._onFocusNode(h||a.srcElement):d._onTouchNode(h||a.srcElement))};c.attachEvent("onfocusin",p);var f=function(a){d._onBlurNode(h||a.srcElement)};c.attachEvent("onfocusout",
f);return{remove:function(){a.document.detachEvent("onmousedown",e);c.detachEvent("onfocusin",p);c.detachEvent("onfocusout",f);c=null}}}c.body.addEventListener("mousedown",e,!0);c.body.addEventListener("touchstart",e,!0);var l=function(a){d._onFocusNode(h||a.target)};c.addEventListener("focus",l,!0);var n=function(a){d._onBlurNode(h||a.target)};c.addEventListener("blur",n,!0);return{remove:function(){c.body.removeEventListener("mousedown",e,!0);c.body.removeEventListener("touchstart",e,!0);c.removeEventListener("focus",
l,!0);c.removeEventListener("blur",n,!0);c=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(o.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(o.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var d=[];try{for(;a;){var e=f.get(a,"dijitPopupParent");if(e)a=r.byId(e).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===h.body())break;a=p.get(a.ownerDocument).frameElement}else{var c=a.getAttribute&&a.getAttribute("widgetId"),l=c&&r.byId(c);l&&!("mouse"==b&&l.get("disabled"))&&d.unshift(c);a=a.parentNode}}}catch(n){}this._setStack(d,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var h=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(h.length,a.length)&&!(h[d]!=a[d]);d++);for(var e,c=h.length-1;c>=d;c--)if(e=r.byId(h[c]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(c=
d;c<a.length;c++)if(e=r.byId(a[c]))e.set("focused",!0),e._focusManager==this&&e._onFocus(b),this.emit("widget-focus",e,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));e(function(){var d=t.registerWin(p.get(h.doc));b("ie")&&a.addOnWindowUnload(function(){d&&(d.remove(),d=null)})});w.focus=function(a){t.focus(a)};for(var v in t)/^_/.test(v)||(w.focus[v]="function"==typeof t[v]?o.hitch(t,v):t[v]);t.watch(function(a,b,h){w.focus[a]=h});return t})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style,./dom-construct".split(","),
function(k,m,g,f,c,l,o){m.add("rtl-adjust-position-for-verticalScrollBar",function(e,b){var d=g.body(b),a=o.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},d,"last"),h=o.create("div",{style:{overflow:"hidden",direction:"ltr"}},a,"last"),p=0!=c.position(h).x;a.removeChild(h);d.removeChild(a);return p});m.add("position-fixed-support",function(e,b){var d=g.body(b),a=o.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},d,"last"),h=o.create("span",{style:{position:"fixed",left:"0",top:"0"}},a,"last"),p=c.position(h).x!=c.position(a).x;a.removeChild(h);d.removeChild(a);return p});var n={getBox:function(e){var e=e||g.doc,b="BackCompat"==e.compatMode?g.body(e):e.documentElement,d=c.docScroll(e);if(m("touch"))var a=n.get(e),e=a.innerWidth||b.clientWidth,b=a.innerHeight||b.clientHeight;else e=b.clientWidth,b=b.clientHeight;return{l:d.x,t:d.y,w:e,h:b}},get:function(e){if(m("ie")&&
n!==document.parentWindow){e.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=e._parentWindow;e._parentWindow=null;return b}return e.parentWindow||e.defaultView},scrollIntoView:function(e,b){try{var e=f.byId(e),d=e.ownerDocument||g.doc,a=g.body(d),h=d.documentElement||a.parentNode,p=m("ie"),n=m("webkit");if(!(e==a||e==h))if(!m("mozilla")&&!p&&!n&&!m("opera")&&"scrollIntoView"in e)e.scrollIntoView(!1);else{var o="BackCompat"==d.compatMode,k=Math.min(a.clientWidth||h.clientWidth,
h.clientWidth||a.clientWidth),t=Math.min(a.clientHeight||h.clientHeight,h.clientHeight||a.clientHeight),d=n||o?a:h,v=b||c.position(e),s=e.parentNode,n=function(a){return 6>=p||7==p&&o?!1:m("position-fixed-support")&&"fixed"==l.get(a,"position").toLowerCase()};if(!n(e))for(;s;){s==a&&(s=d);var u=c.position(s),x=n(s),y="rtl"==l.getComputedStyle(s).direction.toLowerCase();if(s==d){u.w=k;u.h=t;d==h&&p&&y&&(u.x+=d.offsetWidth-u.w);if(0>u.x||!p||9<=p)u.x=0;if(0>u.y||!p||9<=p)u.y=0}else{var A=c.getPadBorderExtents(s);
u.w-=A.w;u.h-=A.h;u.x+=A.l;u.y+=A.t;var F=s.clientWidth,G=u.w-F;if(0<F&&0<G)y&&m("rtl-adjust-position-for-verticalScrollBar")&&(u.x+=G),u.w=F;F=s.clientHeight;G=u.h-F;if(0<F&&0<G)u.h=F}if(x){if(0>u.y)u.h+=u.y,u.y=0;if(0>u.x)u.w+=u.x,u.x=0;if(u.y+u.h>t)u.h=t-u.y;if(u.x+u.w>k)u.w=k-u.x}var H=v.x-u.x,D=v.y-u.y,I=H+v.w-u.w,Q=D+v.h-u.h,z,E;if(0<I*H&&(s.scrollLeft||s==d||s.scrollWidth>s.offsetHeight)){z=Math[0>H?"max":"min"](H,I);if(y&&(8==p&&!o||9<=p))z=-z;E=s.scrollLeft;s.scrollLeft+=z;z=s.scrollLeft-
E;v.x-=z}if(0<Q*D&&(s.scrollTop||s==d||s.scrollHeight>s.offsetHeight))z=Math.ceil(Math[0>D?"max":"min"](D,Q)),E=s.scrollTop,s.scrollTop+=z,z=s.scrollTop-E,v.y-=z;s=s!=d&&!x&&s.parentNode}}}catch(B){console.error("scrollIntoView: "+B),e.scrollIntoView(!1)}}};k.setObject("dojo.window",n);return n})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(k,m,g,f,c,l,o,n){var e=n._isElementShown=
function(b){var a=l.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=c.get(b,"type")};n.hasDefaultTabStop=function(b){switch(b.nodeName.toLowerCase()){case "a":return c.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var h=b.contentDocument;if("designMode"in h&&"on"==h.designMode)return!0;a=h.body}catch(e){try{a=b.contentWindow.document.body}catch(f){return!1}}return a&&("true"==
a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}};var b=n.isTabNavigable=function(b){return c.get(b,"disabled")?!1:c.has(b,"tabIndex")?0<=c.get(b,"tabIndex"):n.hasDefaultTabStop(b)};n._getTabNavigable=function(d){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var h,p,f,l,n,g,k={},m=function(d){for(d=d.firstChild;d;d=d.nextSibling)if(!(1!=d.nodeType||9>=o("ie")&&
"HTML"!==d.scopeName||!e(d))){if(b(d)){var x=+c.get(d,"tabIndex");if(!c.has(d,"tabIndex")||0==x)h||(h=d),p=d;else if(0<x){if(!f||x<l)l=x,f=d;if(!n||x>=g)g=x,n=d}x=a(d);c.get(d,"checked")&&x&&(k[x]=d)}"SELECT"!=d.nodeName.toUpperCase()&&m(d)}};e(d)&&m(d);return{first:k[a(h)]||h,last:k[a(p)]||p,lowest:k[a(f)]||f,highest:k[a(n)]||n}};n.getFirstInTabbingOrder=function(b,a){var h=n._getTabNavigable(f.byId(b,a));return h.lowest?h.lowest:h.first};n.getLastInTabbingOrder=function(b,a){var h=n._getTabNavigable(f.byId(b,
a));return h.last?h.last:h.highest};return{hasDefaultTabStop:n.hasDefaultTabStop,isTabNavigable:n.isTabNavigable,_getTabNavigable:n._getTabNavigable,getFirstInTabbingOrder:n.getFirstInTabbingOrder,getLastInTabbingOrder:n.getLastInTabbingOrder}})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(k,m,g,f,c){var l=c.doc.documentElement,c=f("ie"),o=f("opera"),n=Math.floor,e=f("ff"),b=k.boxModel.replace(/-/,""),o={dj_quirks:f("quirks"),dj_opera:o,
dj_khtml:f("khtml"),dj_webkit:f("webkit"),dj_safari:f("safari"),dj_chrome:f("chrome"),dj_gecko:f("mozilla")};if(c)o.dj_ie=!0,o["dj_ie"+n(c)]=!0,o.dj_iequirks=f("quirks");e&&(o["dj_ff"+n(e)]=!0);o["dj_"+b]=!0;var d="",a;for(a in o)o[a]&&(d+=a+" ");l.className=m.trim(l.className+" "+d);g(90,function(){if(!k.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");l.className=m.trim(l.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return f})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/ready","dojo/_base/window"],function(k,m,g,f){g(90,function(){m("highcontrast")&&k.add(f.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-style,./has,./ready,./_base/window".split(","),function(k,m,g,f,c,l,o){c.add("highcontrast",function(){var l=o.doc.createElement("div");l.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(m.blankGif||k.toUrl("./resources/blank.gif"))+
");";o.body().appendChild(l);var e=f.getComputedStyle(l),b=e.backgroundImage,e=e.borderTopColor==e.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b);8>=c("ie")?l.outerHTML="":o.body().removeChild(l);return e});l(90,function(){c("highcontrast")&&g.add(o.body(),"dj_a11y")});return c})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(k,
m,g,f,c,l,o,n,e,b){var d=o("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,d=this;return f.substitute(a,this,function(a,e){"!"==e.charAt(0)&&(a=k.getObject(e.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+e);return null==a?"":"!"==e.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
c(this.templatePath,{sanitize:!0});var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(k.isString(a)){if(b=n.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=
this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var d=k.isArray(a)?a:a.all||a.getElementsByTagName("*"),e=k.isArray(a)?0:-1;0>e||d[e];e++){var c=-1==e?a:d[e];if(!this.widgetsInTemplate||!b(c,"dojoType")&&!b(c,"data-dojo-type")){var f=b(c,"dojoAttachPoint")||b(c,"data-dojo-attach-point");if(f)for(var l=f.split(/\s*,\s*/);f=l.shift();)k.isArray(this[f])?this[f].push(c):this[f]=c,this._attachPoints.push(f);if(f=b(c,"dojoAttachEvent")||
b(c,"data-dojo-attach-event"))for(var l=f.split(/\s*,\s*/),n=k.trim;f=l.shift();)if(f){var o=null;-1!=f.indexOf(":")?(o=f.split(":"),f=n(o[0]),o=n(o[1])):f=n(f);o||(o=f);this._attachEvents.push(this.connect(c,m[f]||f,o))}}}},destroyRendering:function(){l.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];l.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});d._templateCache={};d.getCachedTemplate=function(a,b,e){var c=
d._templateCache,l=a,o=c[l];if(o){try{if(!o.ownerDocument||o.ownerDocument==(e||document))return o}catch(g){}n.destroy(o)}a=f.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return c[l]=a;b=n.toDom(a,e);if(1!=b.nodeType)throw Error("Invalid template: "+a);return c[l]=b};e("ie")&&b.addOnWindowUnload(function(){var a=d._templateCache,b;for(b in a){var e=a[b];"object"==typeof e&&n.destroy(e);delete a[b]}});k.extend(g,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dojo/touch":function(){define("dojo/touch",
"./_base/kernel,./aspect,./dom,./on,./has,./mouse,./domReady,./_base/window".split(","),function(k,m,g,f,c,l,o,n){function e(h,d){return b?function(b,e){var c=f(b,d,e),p=f(b,h,function(b){(!a||(new Date).getTime()>a+1E3)&&e.call(this,b)});return{remove:function(){c.remove();p.remove()}}}:function(a,b){return f(a,h,b)}}var b=c("touch"),d=!1;c("ios")&&(m=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=5>parseFloat(m.replace(/_/,".").replace(/_/g,"")));var a,h,p;b&&(o(function(){p=n.body();
n.doc.addEventListener("touchstart",function(b){a=(new Date).getTime();var h=p;p=b.target;f.emit(h,"dojotouchout",{target:h,relatedTarget:p,bubbles:!0});f.emit(p,"dojotouchover",{target:p,relatedTarget:h,bubbles:!0})},!0);f(n.doc,"touchmove",function(b){a=(new Date).getTime();if((b=n.doc.elementFromPoint(b.pageX-(d?0:n.global.pageXOffset),b.pageY-(d?0:n.global.pageYOffset)))&&p!==b)f.emit(p,"dojotouchout",{target:p,relatedTarget:b,bubbles:!0}),f.emit(b,"dojotouchover",{target:b,relatedTarget:p,bubbles:!0}),
p=b})}),h=function(a,b){return f(n.doc,"touchmove",function(h){if(a===n.doc||g.isDescendant(p,a))h.target=p,b.call(this,h)})});l={press:e("mousedown","touchstart"),move:e("mousemove",h),release:e("mouseup","touchend"),cancel:e(l.leave,"touchcancel"),over:e("mouseover","dojotouchover"),out:e("mouseout","dojotouchout"),enter:l._eventHandler(e("mouseover","dojotouchover")),leave:l._eventHandler(e("mouseout","dojotouchout"))};return k.touch=l})},"dojo/cache":function(){define(["./_base/kernel","./text"],
function(k){return k.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(k,m,g,f){var c;c=function(b,d,a){f("GET",{url:b,sync:!!d,load:a,headers:k.config.textPluginHeaders||{}})};var l={},o=function(b){if(b){var b=b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),d=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);d&&(b=d[1])}else b="";return b},n={},e={};k.cache=function(b,d,a){var h;"string"==typeof b?/\//.test(b)?(h=b,a=d):h=m.toUrl(b.replace(/\./g,
"/")+(d?"/"+d:"")):(h=b+"",a=d);b=void 0!=a&&"string"!=typeof a?a.value:a;a=a&&a.sanitize;if("string"==typeof b)return l[h]=b,a?o(b):b;if(null===b)return delete l[h],null;h in l||c(h,!0,function(a){l[h]=a});return a?o(l[h]):l[h]};return{dynamic:!0,normalize:function(b,d){var a=b.split("!"),h=a[0];return(/^\./.test(h)?d(h):h)+(a[1]?"!"+a[1]:"")},load:function(b,d,a){var b=b.split("!"),h=1<b.length,f=b[0],g=d.toUrl(b[0]),b="url:"+g,k=n,m=function(b){a(h?o(b):b)};f in l?k=l[f]:b in d.cache?k=d.cache[b]:
g in l&&(k=l[g]);if(k===n)if(e[g])e[g].push(m);else{var t=e[g]=[m];c(g,!d.async,function(a){l[f]=l[g]=a;for(var b=0;b<t.length;)t[b++](a);delete e[g]})}else m(k)}}})},"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(k,m,g,f,c,l){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(c){var f=[];k.forEach(c||this.getChildren(),function(e){"value"in e?f.push(e):f=f.concat(this._getDescendantFormWidgets(e.getChildren()))},
this);return f},reset:function(){k.forEach(this._getDescendantFormWidgets(),function(c){c.reset&&c.reset()})},validate:function(){var c=!1;return k.every(k.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var e=f.disabled||!f.validate||f.validate();!e&&!c&&(l.scrollIntoView(f.containerNode||f.domNode),f.focus(),c=!0);return e}),function(c){return c})},setValues:function(c){g.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",c)},_setValueAttr:function(c){var l={};k.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(l[a.name]||(l[a.name]=[])).push(a)});for(var e in l)if(l.hasOwnProperty(e)){var b=l[e],d=f.getObject(e,!1,c);void 0!==d&&(f.isArray(d)||(d=[d]),"boolean"==typeof b[0].checked?k.forEach(b,function(a){a.set("value",-1!=k.indexOf(d,a.value))}):b[0].multiple?b[0].set("value",d):k.forEach(b,function(a,b){a.set("value",d[b])}))}},getValues:function(){g.deprecated(this.declaredClass+
"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var c={};k.forEach(this._getDescendantFormWidgets(),function(l){var e=l.name;if(e&&!l.disabled){var b=l.get("value");"boolean"==typeof l.checked?/Radio/.test(l.declaredClass)?!1!==b?f.setObject(e,b,c):(b=f.getObject(e,!1,c),void 0===b&&f.setObject(e,null,c)):(l=f.getObject(e,!1,c),l||(l=[],f.setObject(e,l,c)),!1!==b&&l.push(b)):(l=f.getObject(e,!1,c),"undefined"!=typeof l?f.isArray(l)?
l.push(b):f.setObject(e,[l,b],c):f.setObject(e,b,c))}});return c},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var c=k.map(this._descendants,function(c){return c.get("state")||""});return 0<=k.indexOf(c,"Error")?"Error":0<=k.indexOf(c,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(c){this._descendants=this._getDescendantFormWidgets();k.forEach(this._descendants,function(c){c._started||c.startup()});c||this._onChildChange()},
_onChildChange:function(c){(!c||"state"==c||"disabled"==c)&&this._set("state",this._getState());if(!c||"value"==c||"disabled"==c||"checked"==c)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var f=this;this.own(c(this.containerNode,
"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=f.domNode&&f._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,e,b){this.onValidStateChange(""==b)})},destroy:function(){this.inherited(arguments)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(k,m,g,f,c,l,o,n,e,b,d){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(b.on("resize",l.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;o("> *",this.containerNode).some(function(d){var c=
e.byNode(d);c&&c.resize?a.push(c):d.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;g.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&f.setMarginBox(this.domNode,
a);var c=this.containerNode;if(c===this.domNode){var e=b||{};l.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=l.mixin(f.getMarginBox(c),e);this._contentBox=d.marginBox2contentBox(c,e)}else this._contentBox=f.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||f.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else k.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!g.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(k,m,g,f,c,l){var o=new k;g(200,function(){var n=l.getBox();o._rlh=m(c.global,"resize",function(){var b=l.getBox();n.h==b.h&&n.w==b.w||(n=b,o.emit("resize"))});if(8==f("ie")){var e=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=e)e=screen.deviceXDPI,o.emit("resize")},500)}});return o})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(k,m,g,f,c,l){function o(f,e){var b=f.resize?
f.resize(e):g.setMarginBox(f.domNode,e);b?c.mixin(f,b):(c.mixin(f,g.getMarginBox(f.domNode)),c.mixin(f,e))}l=c.getObject("layout",!0,l);l.marginBox2contentBox=function(c,e){var b=f.getComputedStyle(c),d=g.getMarginExtents(c,b),a=g.getPadBorderExtents(c,b);return{l:f.toPixelValue(c,b.paddingLeft),t:f.toPixelValue(c,b.paddingTop),w:e.w-(d.w+a.w),h:e.h-(d.h+a.h)}};l.layoutChildren=function(f,e,b,d,a){e=c.mixin({},e);m.add(f,"dijitLayoutContainer");b=k.filter(b,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(k.filter(b,function(a){return"center"==a.region||"client"==a.layoutAlign}));k.forEach(b,function(b){var c=b.domNode,f=b.region||b.layoutAlign;if(!f)throw Error("No region setting for "+b.id);var l=c.style;l.left=e.l+"px";l.top=e.t+"px";l.position="absolute";m.add(c,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));c={};d&&d==b.id&&(c["top"==b.region||"bottom"==b.region?"h":"w"]=a);"top"==f||"bottom"==f?(c.w=e.w,o(b,c),e.h-=b.h,"top"==f?e.t+=b.h:l.top=e.t+e.h+"px"):
"left"==f||"right"==f?(c.h=e.h,o(b,c),e.w-=b.w,"left"==f?e.l+=b.w:l.left=e.l+e.w+"px"):("client"==f||"center"==f)&&o(b,e)})};return{marginBox2contentBox:l.marginBox2contentBox,layoutChildren:l.layoutChildren}})},"dojox/mobile/View":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ViewController,./common,./transition,./viewRegistry".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u){c.getObject("dojox.mobile",!0);return f("dojox.mobile.View",[w,r,q],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,b){if(b)e.byId(b).style.visibility="hidden"},destroy:function(){u.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag);this._animEndHandle=this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this._animStartHandle=
this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!m.mblCSS3Transition)this._transEndHandle=this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");l("mblAndroid3Workaround")&&h.set(this.domNode,"webkitTransformStyle","preserve-3d");u.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),h,d,c;k.forEach(a,function(a,e){-1!==k.indexOf(b,
a.id)&&(h=a);0==e&&(c=a);a.selected&&(d=a);a._visible=!1},this);(h||d||c)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();g.publish("/dojox/mobile/startView",[this])}));if("visible"!=this.domNode.style.visibility)this.domNode.style.visibility="visible";this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){k.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(){},onAfterTransitionIn:function(){},onBeforeTransitionOut:function(){},onAfterTransitionOut:function(){},_clearClasses:function(a){if(a){var b=[];k.forEach(c.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&b.push(a)},this);a.className=b.join(" ")}},_fixViewState:function(a){for(var h=this.domNode.parentNode.childNodes,d=0;d<h.length;d++){var c=h[d];1===c.nodeType&&b.contains(c,"mblView")&&this._clearClasses(c)}this._clearClasses(a);
if(a=p.byNode(a))a._inProgress=!1},convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(m.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(a,d,f,n,k){if(!this._inProgress){this._inProgress=!0;var q,r;if(a&&"object"===typeof a)q=a,r=d;else{q={moveTo:a,transitionDir:d,transition:f,context:n,method:k};r=[];for(var s=5;s<arguments.length;s++)r.push(arguments[s])}this._detail=q;this._optArgs=
r;this._arguments=[q.moveTo,q.transitionDir,q.transition,q.context,q.method];if("#"!==q.moveTo){if(q.moveTo)r=this.convertToId(q.moveTo);else{if(!this._dummyNode)this._dummyNode=o.doc.createElement("div"),o.body().appendChild(this._dummyNode);r=this._dummyNode}this.addTransitionInfo&&"string"==typeof q.moveTo&&this._isBookmarkable(q)&&this.addTransitionInfo(this.id,q.moveTo,{transitionDir:q.transitionDir,transition:q.transition});var s=this.domNode,t=s.offsetTop;if(r=this.toNode=e.byId(r)){r.style.visibility=
"hidden";r.style.display="";this._fixViewState(r);var w=p.byNode(r);if(w){if(m.mblAlwaysResizeOnTransition||!w._resized)v.resizeAll(null,w),w._resized=!0;if(q.transition&&"none"!=q.transition)w.containerNode.style.paddingTop=t+"px";w.load&&w.load();w.movedFrom=s.id}l("mblAndroidWorkaround")&&!m.mblCSS3Transition&&q.transition&&"none"!=q.transition&&(h.set(r,"webkitTransformStyle","preserve-3d"),h.set(s,"webkitTransformStyle","preserve-3d"),b.add(r,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,
this._arguments);g.publish("/dojox/mobile/beforeTransitionOut",[this].concat(c._toArray(this._arguments)));if(w){if(this.keepScrollPos&&!this.getParent()){t=o.body().scrollTop||o.doc.documentElement.scrollTop||o.global.pageYOffset||0;s._scrollTop=t;var u=1==q.transitionDir?0:r._scrollTop||0;r.style.top="0px";if(1<t||0!==u)s.style.top=u-t+"px",!1!==m.mblHideAddressBar&&setTimeout(function(){o.global.scrollTo(0,u||1)},0)}else r.style.top="0px";w.onBeforeTransitionIn.apply(w,this._arguments);g.publish("/dojox/mobile/beforeTransitionIn",
[w].concat(c._toArray(this._arguments)))}r.style.display="none";r.style.visibility="visible";v.fromView=this;v.toView=w;this._doTransition(s,r,q.transition,q.transitionDir)}}}},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(d,e,f,p){var g=-1==p?" mblReverse":"";e.style.display="";if(!f||"none"==f)this.domNode.style.display="none",this.invokeCallback();else if(m.mblCSS3Transition)n.when(s,c.hitch(this,function(a){var b=h.get(e,"position");h.set(e,"position",
"absolute");n.when(a(d,e,{transition:f,reverse:-1===p?!0:!1}),c.hitch(this,function(){h.set(e,"position",b);this.invokeCallback()}))}));else{-1!=f.indexOf("cube")&&(l("ipad")?h.set(e.parentNode,{webkitPerspective:1600}):l("iphone")&&h.set(e.parentNode,{webkitPerspective:800}));var k=this._toCls(f);l("mblAndroidWorkaround")?setTimeout(function(){b.add(d,k+" mblOut"+g);b.add(e,k+" mblIn"+g);b.remove(e,"mblAndroidWorkaround");setTimeout(function(){b.add(d,"mblTransition");b.add(e,"mblTransition")},30)},
70):(b.add(d,k+" mblOut"+g),b.add(e,k+" mblIn"+g),setTimeout(function(){b.add(d,"mblTransition");b.add(e,"mblTransition")},100));var q="50% 50%",r="50% 50%",t;-1!=f.indexOf("swirl")||-1!=f.indexOf("zoom")?(q=this.keepScrollPos&&!this.getParent()?o.body().scrollTop||o.doc.documentElement.scrollTop||o.global.pageYOffset||0:-a.position(d,!0).y,t=o.global.innerHeight/2+q,q="50% "+t+"px",r="50% "+t+"px"):-1!=f.indexOf("scale")&&(q=a.position(d,!0),r=(void 0!==this.clickedPosX?this.clickedPosX:o.global.innerWidth/
2)-q.x,q=this.keepScrollPos&&!this.getParent()?o.body().scrollTop||o.doc.documentElement.scrollTop||o.global.pageYOffset||0:-q.y,t=(void 0!==this.clickedPosY?this.clickedPosY:o.global.innerHeight/2)+q,q=r+"px "+t+"px",r=r+"px "+t+"px");h.set(d,{webkitTransformOrigin:q});h.set(e,{webkitTransformOrigin:r})}},onAnimationStart:function(){},onAnimationEnd:function(a){var d=a.animationName||a.target.className;if(!(-1===d.indexOf("Out")&&-1===d.indexOf("In")&&-1===d.indexOf("Shrink"))){var c=!1;b.contains(this.domNode,
"mblOut")?(c=!0,this.domNode.style.display="none",b.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this.containerNode.style.paddingTop="";h.set(this.domNode,{webkitTransformOrigin:""});if(-1!==d.indexOf("Shrink"))a=a.target,a.style.display="none",b.remove(a,"mblCloseContent"),(a=u.getEnclosingScrollable(this.domNode))&&a.onTouchEnd();c&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;if(-1!==d.indexOf("Cube")&&
-1!==d.indexOf("In")&&l("iphone"))this.domNode.parentNode.style.webkitPerspective=""}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);g.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var a=p.byNode(this.toNode);if(a)a.onAfterTransitionIn.apply(a,this._arguments),g.publish("/dojox/mobile/afterTransitionIn",[a].concat(this._arguments)),a.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(a);l("mblAndroidWorkaround")&&
setTimeout(c.hitch(this,function(){a&&h.set(this.toNode,"webkitTransformStyle","");h.set(this.domNode,"webkitTransformStyle","")}),0);var b=this._detail.context,d=this._detail.method;if(b||d)d||(d=b,b=null),b=b||o.global,"string"==typeof d?b[d].apply(b,this._optArgs):"function"==typeof d&&d.apply(b,this._optArgs);this._detail=this._optArgs=this._arguments=void 0;this._inProgress=!1},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===h.get(a,"display"))return!1;
return!0}return"none"!==h.get(this.domNode,"display")},getShowingView:function(){for(var a=this.domNode.parentNode.childNodes,h=0;h<a.length;h++){var d=a[h];if(1===d.nodeType&&b.contains(d,"mblView")&&"none"!==d.style.display)return p.byNode(d)}return null},getSiblingViews:function(){return!this.domNode.parentNode?[this]:k.map(k.filter(this.domNode.parentNode.childNodes,function(a){return 1===a.nodeType&&b.contains(a,"mblView")}),function(a){return p.byNode(a)})},show:function(a,b){var h=this.getShowingView();
a||(h&&(h.onBeforeTransitionOut(h.id),g.publish("/dojox/mobile/beforeTransitionOut",[h,h.id])),this.onBeforeTransitionIn(this.id),g.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display="":k.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?"":"none"},this);this.load&&this.load();a||(h&&(h.onAfterTransitionOut(h.id),g.publish("/dojox/mobile/afterTransitionOut",[h,h.id])),this.onAfterTransitionIn(this.id),g.publish("/dojox/mobile/afterTransitionIn",
[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(k,m){return k("dijit._Contained",null,{_getSibling:function(g){var f=this.domNode;do f=f[g+"Sibling"];while(f&&1!=f.nodeType);return f&&m.byNode(f)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?
-1:g.getIndexOfChild(this)}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(k,m,g){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(f,c){var l=this.containerNode;if(c&&"number"==typeof c){var k=this.getChildren();if(k&&k.length>=c)l=k[c-1].domNode,c="after"}g.place(f.domNode,l,c);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==
typeof f&&(f=this.getChildren()[f]);if(f)(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(f,c){var l=this.getChildren(),g=k.indexOf(this.getChildren(),f);return l[g+c]},getIndexOfChild:function(f){return k.indexOf(this.getChildren(),f)}})})},"dojox/mobile/ViewController":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/ready,dijit/registry,./ProgressIndicator,./TransitionEvent,./viewRegistry".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r){var w=f("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};a(c.hitch(this,function(){d(l.body(),"startTransition",c.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);var a=RegExp.$2,b=h.byId(RegExp.$1);if(!b)return[];for(var d=
b.getParent();d;d=d.getParent())if(d.isVisible&&!d.isVisible()){var c=b.getShowingView();c&&c.id!==b.id&&b.show();b=d}return[b.getShowingView(),b,a]},openExternalView:function(a,b){var d=new o,e=this.viewMap[a.url];if(e)return a.moveTo=e,a.noTransition?h.byId(e).hide():(new q(l.body(),a)).dispatch(),d.resolve(!0),d;for(var f=null,e=b.childNodes.length-1;0<=e;e--){var p=b.childNodes[e];if(1===p.nodeType&&"bottom"===(p.getAttribute("fixed")||h.byNode(p)&&h.byNode(p).fixed)){f=p;break}}require([a.dataHandlerClass||
this.dataHandlerClass,a.dataSourceClass||this.dataSourceClass,a.fileTypeMapClass||this.fileTypeMapClass],c.hitch(this,function(e,p,n){e=new e(new p(a.data||a.url),b,f);n=a.contentType||n.getContentType(a.url)||"html";e.processData(n,c.hitch(this,function(b){b?(this.viewMap[a.url]=a.moveTo=b,a.noTransition?h.byId(b).hide():(new q(l.body(),a)).dispatch(),d.resolve(!0)):d.reject("Failed to load "+a.url)}))}));return d},onStartTransition:function(a){a.preventDefault();if(a.detail){var b=a.detail;if(b.moveTo||
b.href||b.url||b.scene)if(b.url&&!b.moveTo){var d=b.urlTarget,e=h.byId(d),d=e&&e.containerNode||n.byId(d);d||(d=(e=r.getEnclosingView(a.target))&&e.domNode.parentNode||l.body());this.openExternalView(b,d)}else if(b.href)if(b.hrefTarget)l.global.open(b.href,b.hrefTarget);else{for(e=r.getEnclosingView(a.target);e;e=r.getParentView(e))d=e;d&&d.performTransition(null,b.transitionDir,b.transition,a.target,function(){location.href=b.href})}else if(b.scene)g.publish("/dojox/mobile/app/pushScene",[b.scene]);
else{var c=this.findTransitionViews(b.moveTo),d=c[0],e=c[1],c=c[2];if(!location.hash&&!b.hashchange)r.initialView=d;if(b.moveTo&&e)b.moveTo=("#"===b.moveTo.charAt(0)?"#"+e.id:e.id)+c;if(d&&!(b.moveTo&&d===h.byId(b.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=h.getEnclosingWidget(a.target))&&a.callback)b.context=a,b.method=a.callback;d.performTransition(b)}}}}});w._instance=new w;w.getInstance=function(){return w._instance};return w})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dijit/_Contained,dijit/_WidgetBase".split(","),
function(k,m,g,f,c,l,o,n,e,b){var d=m("dojox.mobile.ProgressIndicator",[b,e],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&f.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=c.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=c.create("div",null,this.containerNode);for(var a=0;12>
a;a++)this._bars.push(c.create("div",{className:"mblProg mblProg"+a},this.spinnerNode));this.scale(this.size);this.startSpinning&&this.start()},scale:function(a){var b=a/40;o.set(this.containerNode,{webkitTransform:"scale("+b+")",webkitTransformOrigin:"0 0"});l.setMarginBox(this.domNode,{w:a,h:a});l.setMarginBox(this.containerNode,{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),d=Math.round((this.containerNode.offsetHeight-
a.offsetHeight)/2);a.style.margin=d+"px "+b+"px"}else{var e=0,c=this;this.timer=setInterval(function(){e--;e=0>e?11:e;for(var a=c.colors,b=0;12>b;b++){var h=(e+b)%12;a[h]?c._bars[b].style.backgroundColor=a[h]:f.replace(c._bars[b],"mblProg"+h+"Color","mblProg"+(11===h?0:h+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){if(a)this.imageNode=
c.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none";else{if(this.imageNode)this.containerNode.removeChild(this.imageNode),this.imageNode=null;this.spinnerNode.style.display=""}},destroy:function(){this.inherited(arguments);if(this===d._instance)d._instance=null}});d._instance=null;d.getInstance=function(a){if(!d._instance)d._instance=new d(a);return d._instance};return d})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang",
"dojo/on","./transition"],function(k,m,g,f,c){return k("dojox.mobile.TransitionEvent",null,{constructor:function(c,f,n){this.transitionOptions=f;this.target=c;this.triggerEvent=n||null},dispatch:function(){var l=f.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent});l&&m.when(c,g.hitch(this,function(c){m.when(c.call(this,l),g.hitch(this,function(c){this.endTransition(c)}))}))},endTransition:function(c){f.emit(this.target,"endTransition",
{detail:c.transitionOptions})}})})},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(k,m){if(m.mblCSS3Transition){var g=new k;require([m.mblCSS3Transition],function(f){g.resolve(f)});return g}return null})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(k,m,g){return{length:0,hash:{},initialView:null,add:function(f){this.hash[f.id]=f;this.length++},remove:function(f){this.hash[f]&&(delete this.hash[f],
this.length--)},getViews:function(){var f=[],c;for(c in this.hash)f.push(this.hash[c]);return f},getParentView:function(f){for(f=f.getParent();f;f=f.getParent())if(m.contains(f.domNode,"mblView"))return f;return null},getChildViews:function(f){return k.filter(this.getViews(),function(c){return this.getParentView(c)===f},this)},getEnclosingView:function(f){for(;f&&"BODY"!==f.tagName;f=f.parentNode)if(1===f.nodeType&&m.contains(f,"mblView"))return g.byNode(f);return null},getEnclosingScrollable:function(f){for(f=
g.getEnclosingWidget(f);f;f=f.getParent())if(f.scrollableParams&&f._v)return f;return null}}})},"dojox/mobile/common":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(k,m,g,f,c,l,o,n,e,b){var d=f.getObject("dojox.mobile",!0);d.getScreenSize=function(){return{h:c.global.innerHeight||c.doc.documentElement.clientHeight,w:c.global.innerWidth||c.doc.documentElement.clientWidth}};
d.updateOrient=function(){var a=d.getScreenSize();l.replace(c.doc.documentElement,a.h>a.w?"dj_portrait":"dj_landscape",a.h>a.w?"dj_landscape":"dj_portrait")};d.updateOrient();d.tabletSize=500;d.detectScreenSize=function(a){var b=d.getScreenSize(),e=Math.min(b.w,b.h),f,n;if(e>=d.tabletSize&&(a||!this._sz||this._sz<d.tabletSize))f="phone",n="tablet";else if(e<d.tabletSize&&(a||!this._sz||this._sz>=d.tabletSize))f="tablet",n="phone";n&&(l.replace(c.doc.documentElement,"dj_"+n,"dj_"+f),g.publish("/dojox/mobile/screenSize/"+
n,[b]));this._sz=e};d.detectScreenSize();d.hideAddressBarWait="number"===typeof m.mblHideAddressBarWait?m.mblHideAddressBarWait:1500;d.hide_1=function(){scrollTo(0,1);d._hidingTimer=0==d._hidingTimer?200:2*d._hidingTimer;setTimeout(function(){d.isAddressBarHidden()||d._hidingTimer>d.hideAddressBarWait?(d.resizeAll(),d._hiding=!1):setTimeout(d.hide_1,d._hidingTimer)},50)};d.hideAddressBar=function(){if(!d.disableHideAddressBar&&!d._hiding){d._hiding=!0;d._hidingTimer=b("iphone")?200:0;var a=screen.availHeight;
if(b("android")){a=outerHeight/devicePixelRatio;if(0==a)d._hiding=!1,setTimeout(function(){d.hideAddressBar()},200);a<=innerHeight&&(a=outerHeight);if(3>b("android"))c.doc.documentElement.style.overflow=c.body().style.overflow="visible"}if(c.body().offsetHeight<a)c.body().style.minHeight=a+"px",d._resetMinHeight=!0;setTimeout(d.hide_1,d._hidingTimer)}};d.isAddressBarHidden=function(){return 1===pageYOffset};d.resizeAll=function(a,b){if(!d.disableResizeAll){g.publish("/dojox/mobile/resizeAll",[a,b]);
g.publish("/dojox/mobile/beforeResizeAll",[a,b]);if(d._resetMinHeight)c.body().style.minHeight=d.getScreenSize().h+"px";d.updateOrient();d.detectScreenSize();var f=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},l=function(a){k.forEach(a.getChildren(),function(a){f(a)&&a.resize();l(a)})};b?(b.resize&&b.resize(),l(b)):k.forEach(k.filter(e.toArray(),f),function(a){a.resize()});g.publish("/dojox/mobile/afterResizeAll",[a,b])}};d.openWindow=function(a,b){c.global.open(a,
b||"_blank")};!1!==m.mblApplyPageStyles&&l.add(c.doc.documentElement,"mobile");b("chrome")&&l.add(c.doc.documentElement,"dj_chrome");if(c.global._no_dojo_dm){var f=c.global._no_dojo_dm,a;for(a in f)d[a]=f[a];d.deviceTheme.setDm(d)}b.add("mblAndroidWorkaround",!1!==m.mblAndroidWorkaround&&3>b("android"),void 0,!0);b.add("mblAndroid3Workaround",!1!==m.mblAndroid3Workaround&&3<=b("android"),void 0,!0);n(function(){d.detectScreenSize(!0);!1!==m.mblAndroidWorkaroundButtonStyle&&b("android")&&o.create("style",
{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},c.doc.head,"first");b("mblAndroidWorkaround")&&o.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},c.doc.head,"last");var a=d.resizeAll;if(!1!==m.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===m.mblForceHideAddressBar)if(d.hideAddressBar(),!0===m.mblAlwaysHideAddressBar)a=
d.hideAddressBar;var e=6<=b("iphone");if((b("android")||e)&&void 0!==c.global.onorientationchange){var f=a,l,n,k;e?(n=c.doc.documentElement.clientWidth,k=c.doc.documentElement.clientHeight):(a=function(){var a=g.connect(null,"onresize",null,function(b){g.disconnect(a);f(b)})},l=d.getScreenSize());g.connect(null,"onresize",null,function(a){if(e){var b=c.doc.documentElement.clientWidth,h=c.doc.documentElement.clientHeight;b==n&&h!=k&&f(a);n=b;k=h}else b=d.getScreenSize(),b.w==l.w&&100<=Math.abs(b.h-
l.h)&&f(a),l=b})}g.connect(null,void 0!==c.global.onorientationchange?"onorientationchange":"onresize",null,a);c.body().style.visibility="visible"});return d})},"dojox/mobile/sniff":function(){define(["dojo/_base/window","dojo/_base/sniff"],function(k,m){var g=navigator.userAgent;m.add("bb",(0<=g.indexOf("BlackBerry")||0<=g.indexOf("BB10"))&&parseFloat(g.split("Version/")[1])||void 0,void 0,!0);m.add("android",parseFloat(g.split("Android ")[1])||void 0,void 0,!0);if(g.match(/(iPhone|iPod|iPad)/)){var f=
RegExp.$1.replace(/P/,"p"),g=g.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));m.add(f,g,void 0,!0);m.add("iphone",g,void 0,!0)}m("webkit")&&m.add("touch","undefined"!=typeof k.doc.documentElement.ontouchstart&&-1!=navigator.appVersion.indexOf("Mobile")||!!m("android"),void 0,!0);return m})},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(k,m,g,f){g=g.doc.documentElement;g.className=m.trim(g.className+
" "+[f("bb")?"dj_bb":"",f("android")?"dj_android":"",f("iphone")?"dj_iphone":"",f("ipod")?"dj_ipod":"",f("ipad")?"dj_ipad":""].join(" ").replace(/ +/g," "));return k})},"dojox/mobile/ScrollableView":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/registry,./View,./_ScrollableMixin".split(","),function(k,m,g,f,c,l,o){return m("dojox.mobile.ScrollableView",[l,o],{scrollableParams:null,keepScrollPos:!1,constructor:function(){this.scrollableParams={noResize:!0}},
buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"mblScrollableView");this.domNode.style.overflow="hidden";this.domNode.style.top="0px";this.containerNode=f.create("div",{className:"mblScrollableViewContainer"},this.domNode);this.containerNode.style.position="absolute";this.containerNode.style.top="0px";if("v"===this.scrollDir)this.containerNode.style.width="100%"},startup:function(){this._started||(this.reparent(),this.inherited(arguments))},resize:function(){this.inherited(arguments);
k.forEach(this.getChildren(),function(c){c.resize&&c.resize()})},isTopLevel:function(){var c=this.getParent&&this.getParent();return!c||!c.resize},addFixedBar:function(c){var c=c.domNode,e=this.checkFixedBar(c,!0);if(e){this.domNode.appendChild(c);if("top"===e)this.fixedHeaderHeight=c.offsetHeight,this.isLocalHeader=!0;else if("bottom"===e)this.fixedFooterHeight=c.offsetHeight,this.isLocalFooter=!0,c.style.bottom="0px";this.resize()}},reparent:function(){var c,e,b,d;for(c=0,e=0,b=this.domNode.childNodes.length;c<
b;c++)d=this.domNode.childNodes[e],d===this.containerNode||this.checkFixedBar(d,!0)?e++:this.containerNode.appendChild(this.domNode.removeChild(d))},onAfterTransitionIn:function(){this.flashScrollBar()},getChildren:function(){var f=this.inherited(arguments);this.fixedHeader&&this.fixedHeader.parentNode===this.domNode&&f.push(c.byNode(this.fixedHeader));this.fixedFooter&&this.fixedFooter.parentNode===this.domNode&&f.push(c.byNode(this.fixedFooter));return f}})})},"dojox/mobile/_ScrollableMixin":function(){define("dojo/_base/kernel,dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dijit/registry,./scrollable".split(","),
function(k,m,g,f,c,l,o,n,e){return g("dojox.mobile._ScrollableMixin",e,{fixedHeader:"",fixedFooter:"",scrollableParams:null,allowNestedScrolls:!0,appBars:!0,constructor:function(){this.scrollableParams={}},destroy:function(){this.cleanup();this.inherited(arguments)},startup:function(){if(!this._started){this.findAppBars();var b,d=this.scrollableParams;if(this.fixedHeader){b=l.byId(this.fixedHeader);if(b.parentNode==this.domNode)this.isLocalHeader=!0;d.fixedHeaderHeight=b.offsetHeight}if(this.fixedFooter){b=
l.byId(this.fixedFooter);if(b.parentNode==this.domNode)this.isLocalFooter=!0,b.style.bottom="0px";d.fixedFooterHeight=b.offsetHeight}this.scrollType=this.scrollType||m.mblScrollableScrollType||0;this.init(d);if(this.allowNestedScrolls)for(b=this.getParent();b;b=b.getParent())if(b&&b.scrollableParams){this.dirLock=!0;b.dirLock=!0;break}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if("none"!==this.domNode.style.display){var a=c.doc.activeElement;this.isFormElement(a)&&
l.isDescendant(a,this.containerNode)&&this.scrollIntoView(a)}});this.inherited(arguments)}},findAppBars:function(){if(this.appBars){var b,d,a;for(b=0,d=c.body().childNodes.length;b<d;b++)a=c.body().childNodes[b],this.checkFixedBar(a,!1);if(this.domNode.parentNode)for(b=0,d=this.domNode.parentNode.childNodes.length;b<d;b++)a=this.domNode.parentNode.childNodes[b],this.checkFixedBar(a,!1);this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0}},checkFixedBar:function(b,d){if(1===b.nodeType){var a=
b.getAttribute("fixed")||n.byNode(b)&&n.byNode(b).fixed;if("top"===a){o.add(b,"mblFixedHeaderBar");if(d)b.style.top="0px",this.fixedHeader=b;return a}if("bottom"===a)return o.add(b,"mblFixedBottomBar"),this.fixedFooter=b,a}return null}})})},"dojox/mobile/scrollable":function(){define("dojo/_base/kernel,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),function(k,m,g,f,c,l,o,n,e){var b=f.getObject("dojox.mobile",
!0);e.add("translate3d",function(){if(e("webkit")){var a=c.doc.createElement("div");a.style.webkitTransform="translate3d(0px,1px,0px)";c.doc.documentElement.appendChild(a);var b=c.doc.defaultView.getComputedStyle(a,"")["-webkit-transform"],b=b&&0===b.indexOf("matrix");c.doc.documentElement.removeChild(a);return b}});var d=function(){};f.extend(d,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:!1,scrollBar:!0,scrollDir:"v",weight:0.6,fadeScrollBar:!0,disableFlashScrollBar:!1,threshold:4,constraint:!0,
touchNode:null,propagatable:!0,dirLock:!1,height:"",scrollType:0,init:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=("domNode"==b||"containerNode"==b)&&"string"==typeof a[b]?c.doc.getElementById(a[b]):a[b]);this.touchNode=this.touchNode||this.containerNode;this._v=-1!=this.scrollDir.indexOf("v");this._h=-1!=this.scrollDir.indexOf("h");this._f="f"==this.scrollDir;this._ch=[];this._ch.push(m.connect(this.touchNode,e("touch")?"ontouchstart":"onmousedown",this,"onTouchStart"));if(e("webkit")){this._useTopLeft=
this.scrollType?2===this.scrollType:3>e("android");if(!this._useTopLeft)this._useTransformTransition=this.scrollType?3===this.scrollType:6<=e("iphone");if(this._useTopLeft)this._ch.push(m.connect(this.domNode,"webkitTransitionEnd",this,"onFlickAnimationEnd")),this._ch.push(m.connect(this.domNode,"webkitTransitionStart",this,"onFlickAnimationStart"));else{if(this._useTransformTransition)this._ch.push(m.connect(this.domNode,"webkitTransitionEnd",this,"onFlickAnimationEnd")),this._ch.push(m.connect(this.domNode,
"webkitTransitionStart",this,"onFlickAnimationStart"));else{this._ch.push(m.connect(this.domNode,"webkitAnimationEnd",this,"onFlickAnimationEnd"));this._ch.push(m.connect(this.domNode,"webkitAnimationStart",this,"onFlickAnimationStart"));for(a=0;3>a;a++)this.setKeyframes(null,null,a)}e("translate3d")&&n.set(this.containerNode,"webkitTransform","translate3d(0,0,0)")}}this._speed={x:0,y:0};this._appFooterHeight=0;this.isTopLevel()&&!this.noResize&&this.resize();var d=this;setTimeout(function(){d.flashScrollBar()},
600)},isTopLevel:function(){return!0},cleanup:function(){if(this._ch){for(var a=0;a<this._ch.length;a++)m.disconnect(this._ch[a]);this._ch=null}},findDisp:function(a){if(!a.parentNode)return null;if(1===a.nodeType&&l.contains(a,"mblSwapView")&&"none"!==a.style.display)return a;for(var b=a.parentNode.childNodes,d=0;d<b.length;d++){var c=b[d];if(1===c.nodeType&&l.contains(c,"mblView")&&"none"!==c.style.display)return c}return a},getScreenSize:function(){return{h:c.global.innerHeight||c.doc.documentElement.clientHeight||
c.doc.documentElement.offsetHeight,w:c.global.innerWidth||c.doc.documentElement.clientWidth||c.doc.documentElement.offsetWidth}},resize:function(){this._appFooterHeight=this.fixedFooterHeight&&!this.isLocalFooter?this.fixedFooterHeight:0;if(this.isLocalHeader)this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";for(var a=0,b=this.domNode;b&&"BODY"!=b.tagName;b=b.offsetParent){b=this.findDisp(b);if(!b)break;a+=b.offsetTop}var d,b=this.getScreenSize().h,a=b-a-this._appFooterHeight;if("inherit"===
this.height)this.domNode.offsetParent&&(d=this.domNode.offsetParent.offsetHeight+"px");else if("auto"===this.height){if(d=this.domNode.offsetParent){this.domNode.style.height="0px";d=d.getBoundingClientRect();var a=this.domNode.getBoundingClientRect(),c=d.bottom-this._appFooterHeight,a=a.bottom>=c?b-(a.top-d.top)-this._appFooterHeight:c-a.bottom}b=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);d=(b?Math.min(b,a):a)+"px"}else if(this.height)d=this.height;d||(d=a+"px");if("-"!==
d.charAt(0)&&"default"!==d)this.domNode.style.height=d;this.onTouchEnd()},onFlickAnimationStart:function(a){g.stop(a)},onFlickAnimationEnd:function(a){var b=a&&a.animationName;if(b&&-1===b.indexOf("scrollableViewScroll2"))if(-1!==b.indexOf("scrollableViewScroll0"))this._scrollBarNodeV&&l.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");else if(-1!==b.indexOf("scrollableViewScroll1"))this._scrollBarNodeH&&l.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");else{if(this._scrollBarNodeV)this._scrollBarNodeV.className=
"";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}else{if(this._useTransformTransition||this._useTopLeft)if(b=a.target,b===this._scrollBarV||b===this._scrollBarH){a="mblScrollableScrollTo"+(b===this._scrollBarV?"0":"1");l.contains(b,a)?l.remove(b,a):b.className="";return}a&&a.srcElement&&g.stop(a);this.stopAnimation();if(this._bounce){var d=this,c=d._bounce;setTimeout(function(){d.slideTo(c,0.3,"ease-out")},0);d._bounce=void 0}else this.hideScrollBar(),this.removeCover()}},isFormElement:function(a){if(a&&
1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a},onTouchStart:function(a){if(!(this.disableTouchScroll||this._conn&&500>(new Date).getTime()-this.startTime)){if(!this._conn)this._conn=[],this._conn.push(m.connect(c.doc,e("touch")?"ontouchmove":"onmousemove",this,"onTouchMove")),this._conn.push(m.connect(c.doc,e("touch")?"ontouchend":"onmouseup",this,"onTouchEnd"));this._aborted=!1;if(l.contains(this.containerNode,
"mblScrollableScrollTo2"))this.abort();else{if(this._scrollBarNodeV)this._scrollBarNodeV.className="";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this.startTime=(new Date).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=!1;this.isFormElement(a.target)||(this.propagatable?a.preventDefault():
g.stop(a))}},onTouchMove:function(a){if(!this._locked){var b=a.touches?a.touches[0].pageX:a.clientX,a=a.touches?a.touches[0].pageY:a.clientY,d=b-this.touchStartX,c=a-this.touchStartY,e={x:this.startPos.x+d,y:this.startPos.y+c},f=this._dim,d=Math.abs(d),c=Math.abs(c);if(1==this._time.length){if(this.dirLock&&(this._v&&!this._h&&d>=this.threshold&&d>=c||(this._h||this._f)&&!this._v&&c>=this.threshold&&c>=d)){this._locked=!0;return}if(this._v&&this._h){if(c<this.threshold&&d<this.threshold)return}else if(this._v&&
c<this.threshold||(this._h||this._f)&&d<this.threshold)return;this.addCover();this.showScrollBar()}d=this.weight;if(this._v&&this.constraint)if(0<e.y)e.y=Math.round(e.y*d);else if(e.y<-f.o.h)e.y=f.c.h<f.d.h?Math.round(e.y*d):-f.o.h-Math.round((-f.o.h-e.y)*d);if((this._h||this._f)&&this.constraint)if(0<e.x)e.x=Math.round(e.x*d);else if(e.x<-f.o.w)e.x=f.c.w<f.d.w?Math.round(e.x*d):-f.o.w-Math.round((-f.o.w-e.x)*d);this.scrollTo(e);e=this._time.length;if(2<=e){var l,n;this._v&&!this._h?(l=this._posY[e-
1]-this._posY[e-2],n=a-this._posY[e-1]):!this._v&&this._h&&(l=this._posX[e-1]-this._posX[e-2],n=b-this._posX[e-1]);if(0>l*n)this._time=[this._time[e-1]],this._posX=[this._posX[e-1]],this._posY=[this._posY[e-1]],e=1}10==e&&(this._time.shift(),this._posX.shift(),this._posY.shift());this._time.push((new Date).getTime()-this.startTime);this._posX.push(b);this._posY.push(a)}},onTouchEnd:function(a){if(!this._locked){var b=this._speed={x:0,y:0},d=this._dim,f=this.getPos(),l={};if(a){if(!this._conn)return;
for(b=0;b<this._conn.length;b++)m.disconnect(this._conn[b]);this._conn=null;var b=this._time.length,n=!1;this._aborted||(1>=b?n=!0:2==b&&4>Math.abs(this._posY[1]-this._posY[0])&&e("touch")&&(n=!0));if(n){this.hideScrollBar();this.removeCover();if(e("touch")&&!this.isFormElement(a.target)&&!(4.1<=e("android"))){var g=a.target;if(1!=g.nodeType)g=g.parentNode;var k=c.doc.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,c.global,1,a.screenX,a.screenY,a.clientX,a.clientY);setTimeout(function(){g.dispatchEvent(k)},
0)}return}b=this._speed=this.getSpeed()}else{if(0==f.x&&0==f.y)return;d=this.getDim()}if(this._v)l.y=f.y+b.y;if(this._h||this._f)l.x=f.x+b.x;if(!1!==this.adjustDestination(l,f,d))if("v"==this.scrollDir&&d.c.h<d.d.h)this.slideTo({y:0},0.3,"ease-out");else if("h"==this.scrollDir&&d.c.w<d.d.w)this.slideTo({x:0},0.3,"ease-out");else if(this._v&&this._h&&d.c.h<d.d.h&&d.c.w<d.d.w)this.slideTo({x:0,y:0},0.3,"ease-out");else{var o,n="ease-out",u={};if(this._v&&this.constraint)if(0<l.y)0<f.y?(o=0.3,l.y=0):
(l.y=Math.min(l.y,20),n="linear",u.y=0);else if(-b.y>d.o.h- -f.y)f.y<-d.o.h?(o=0.3,l.y=d.c.h<=d.d.h?0:-d.o.h):(l.y=Math.max(l.y,-d.o.h-20),n="linear",u.y=-d.o.h);if((this._h||this._f)&&this.constraint)if(0<l.x)0<f.x?(o=0.3,l.x=0):(l.x=Math.min(l.x,20),n="linear",u.x=0);else if(-b.x>d.o.w- -f.x)f.x<-d.o.w?(o=0.3,l.x=d.c.w<=d.d.w?0:-d.o.w):(l.x=Math.max(l.x,-d.o.w-20),n="linear",u.x=-d.o.w);this._bounce=void 0!==u.x||void 0!==u.y?u:void 0;if(void 0===o){var x,y;if(this._v&&this._h)y=Math.sqrt(b.x*b.x+
b.y*b.y),x=Math.sqrt(Math.pow(l.y-f.y,2)+Math.pow(l.x-f.x,2));else if(this._v)y=b.y,x=l.y-f.y;else if(this._h)y=b.x,x=l.x-f.x;if(0===x&&!a)return;o=0!==y?Math.abs(x/y):0.01}this.slideTo(l,o,n)}}},adjustDestination:function(){return!0},abort:function(){this.scrollTo(this.getPos());this.stopAnimation();this._aborted=!0},stopAnimation:function(){l.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV)this._scrollBarV.className="";if(this._scrollBarH)this._scrollBarH.className="";if(this._useTransformTransition||
this._useTopLeft){this.containerNode.style.webkitTransition="";if(this._scrollBarV)this._scrollBarV.style.webkitTransition="";if(this._scrollBarH)this._scrollBarH.style.webkitTransition=""}},scrollIntoView:function(a,b,d){if(this._v){for(var e=this.containerNode,c=this.getDim().d.h,f=0,l=a;l!==e;l=l.offsetParent){if(!l||"BODY"===l.tagName)return;f+=l.offsetTop}a=b?Math.max(c-e.offsetHeight,-f):Math.min(0,c-f-a.offsetHeight);d&&"number"===typeof d?this.slideTo({y:a},d,"ease-out"):this.scrollTo({y:a})}},
getSpeed:function(){var a=0,b=0,d=this._time.length;if(2<=d&&500>(new Date).getTime()-this.startTime-this._time[d-1])var a=this._posX[d-(3<d?2:1)]-this._posX[0<=d-6?d-6:0],e=this._time[d-(3<d?2:1)]-this._time[0<=d-6?d-6:0],b=this.calcSpeed(this._posY[d-(3<d?2:1)]-this._posY[0<=d-6?d-6:0],e),a=this.calcSpeed(a,e);return{x:a,y:b}},calcSpeed:function(a,b){return 4*Math.round(100*(a/b))},scrollTo:function(a,b,d){d=(d||this.containerNode).style;if(e("webkit"))if(this._useTopLeft){d.webkitTransition="";
if(this._v)d.top=a.y+"px";if(this._h||this._f)d.left=a.x+"px"}else{if(this._useTransformTransition)d.webkitTransition="";d.webkitTransform=this.makeTranslateStr(a)}else{if(this._v)d.top=a.y+"px";if(this._h||this._f)d.left=a.x+"px"}b||this.scrollScrollBarTo(this.calcScrollBarPos(a))},slideTo:function(a,b,d){this._runSlideAnimation(this.getPos(),a,b,d,this.containerNode,2);this.slideScrollBarTo(a,b,d)},makeTranslateStr:function(a){var b=this._v&&"number"==typeof a.y?a.y+"px":"0px",a=(this._h||this._f)&&
"number"==typeof a.x?a.x+"px":"0px";return e("translate3d")?"translate3d("+a+","+b+",0px)":"translate("+a+","+b+")"},getPos:function(){if(e("webkit")){var a=c.doc.defaultView.getComputedStyle(this.containerNode,"");if(this._useTopLeft)return{x:parseInt(a.left)||0,y:parseInt(a.top)||0};return(a=a["-webkit-transform"])&&0===a.indexOf("matrix")?(a=a.split(/[,\s\)]+/),{y:a[5]-0,x:a[4]-0}):{x:0,y:0}}return{y:parseInt(this.containerNode.style.top)||0,x:this.containerNode.offsetLeft}},getDim:function(){var a=
{};a.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};a.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};a.d={h:a.v.h-this.fixedHeaderHeight-this.fixedFooterHeight,w:a.v.w};a.o={h:a.c.h-a.v.h+this.fixedHeaderHeight+this.fixedFooterHeight,w:a.c.w-a.v.w};return a},showScrollBar:function(){if(this.scrollBar){var a=this._dim;if(!("v"==this.scrollDir&&a.c.h<=a.d.h||"h"==this.scrollDir&&a.c.w<=a.d.w))if(!this._v||!this._h||!(a.c.h<=a.d.h&&a.c.w<=a.d.w)){a=
function(a,b){var d=a["_scrollBarNode"+b];if(!d){var d=o.create("div",null,a.domNode),e={position:"absolute",overflow:"hidden"};"V"==b?(e.right="2px",e.width="5px"):(e.bottom=(a.isLocalFooter?a.fixedFooterHeight:0)+2+"px",e.height="5px");n.set(d,e);d.className="mblScrollBarWrapper";a["_scrollBarWrapper"+b]=d;d=o.create("div",null,d);n.set(d,{opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",webkitBorderRadius:"2px",MozBorderRadius:"2px",webkitTransformOrigin:"0 0",zIndex:2147483647});
n.set(d,"V"==b?{width:"5px"}:{height:"5px"});a["_scrollBarNode"+b]=d}return d};if(this._v&&!this._scrollBarV)this._scrollBarV=a(this,"V");if(this._h&&!this._scrollBarH)this._scrollBarH=a(this,"H");this.resetScrollBar()}}},hideScrollBar:function(){if(this.fadeScrollBar&&e("webkit")&&!b._fadeRule){var a=o.create("style",null,c.doc.getElementsByTagName("head")[0]);a.textContent=".mblScrollableFadeScrollBar{  -webkit-animation-duration: 1s;  -webkit-animation-name: scrollableViewFadeScrollBar;}@-webkit-keyframes scrollableViewFadeScrollBar{  from { opacity: 0.6; }  to { opacity: 0; }}";
b._fadeRule=a.sheet.cssRules[1]}if(this.scrollBar){a=function(a,b){n.set(a,{opacity:0,webkitAnimationDuration:""});if(!b._useTopLeft||!e("android"))a.className="mblScrollableFadeScrollBar"};if(this._scrollBarV)a(this._scrollBarV,this),this._scrollBarV=null;if(this._scrollBarH)a(this._scrollBarH,this),this._scrollBarH=null}},calcScrollBarPos:function(a){var b={},d=this._dim,e=function(a,b,d,h,e){d=Math.round((h-b-8)/(h-e)*d);d<-b+5&&(d=-b+5);d>a-5&&(d=a-5);return d};if("number"==typeof a.y&&this._scrollBarV)b.y=
e(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,a.y,d.d.h,d.c.h);if("number"==typeof a.x&&this._scrollBarH)b.x=e(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,a.x,d.d.w,d.c.w);return b},scrollScrollBarTo:function(a){if(this.scrollBar){if(this._v&&this._scrollBarV&&"number"==typeof a.y)if(e("webkit"))if(this._useTopLeft)n.set(this._scrollBarV,{webkitTransition:"",top:a.y+"px"});else{if(this._useTransformTransition)this._scrollBarV.style.webkitTransition="";this._scrollBarV.style.webkitTransform=
this.makeTranslateStr({y:a.y})}else this._scrollBarV.style.top=a.y+"px";if(this._h&&this._scrollBarH&&"number"==typeof a.x)if(e("webkit"))if(this._useTopLeft)n.set(this._scrollBarH,{webkitTransition:"",left:a.x+"px"});else{if(this._useTransformTransition)this._scrollBarH.style.webkitTransition="";this._scrollBarH.style.webkitTransform=this.makeTranslateStr({x:a.x})}else this._scrollBarH.style.left=a.x+"px"}},slideScrollBarTo:function(a,b,d){if(this.scrollBar){var e=this.calcScrollBarPos(this.getPos()),
a=this.calcScrollBarPos(a);this._v&&this._scrollBarV&&this._runSlideAnimation({y:e.y},{y:a.y},b,d,this._scrollBarV,0);this._h&&this._scrollBarH&&this._runSlideAnimation({x:e.x},{x:a.x},b,d,this._scrollBarH,1)}},_runSlideAnimation:function(a,b,d,c,f,g){if(e("webkit"))if(this._useTopLeft)n.set(f,{webkitTransitionProperty:"top, left",webkitTransitionDuration:d+"s",webkitTransitionTimingFunction:c}),setTimeout(function(){n.set(f,{top:(b.y||0)+"px",left:(b.x||0)+"px"})},0),l.add(f,"mblScrollableScrollTo"+
g);else if(this._useTransformTransition){if(void 0===b.x)b.x=a.x;if(void 0===b.y)b.y=a.y;if(b.x!==a.x||b.y!==a.y){n.set(f,{webkitTransitionProperty:"-webkit-transform",webkitTransitionDuration:d+"s",webkitTransitionTimingFunction:c});var o=this.makeTranslateStr(b);setTimeout(function(){n.set(f,{webkitTransform:o})},0);l.add(f,"mblScrollableScrollTo"+g)}else this.hideScrollBar(),this.removeCover()}else this.setKeyframes(a,b,g),n.set(f,{webkitAnimationDuration:d+"s",webkitAnimationTimingFunction:c}),
l.add(f,"mblScrollableScrollTo"+g),2==g?this.scrollTo(b,!0,f):this.scrollScrollBarTo(b);else k.fx&&k.fx.easing&&d?(a=k.fx.slideTo({node:f,duration:1E3*d,left:b.x,top:b.y,easing:"ease-out"==c?k.fx.easing.quadOut:k.fx.easing.linear}).play(),2==g&&m.connect(a,"onEnd",this,"onFlickAnimationEnd")):2==g?(this.scrollTo(b,!1,f),this.onFlickAnimationEnd()):this.scrollScrollBarTo(b)},resetScrollBar:function(){var a=function(a,b,d,h,e,c){if(b){var f={};f[c?"top":"left"]=e+4+"px";e=0>=d-8?1:d-8;f[c?"height":
"width"]=e+"px";n.set(a,f);a=Math.round(d*d/h);a=Math.min(Math.max(a-8,5),e);b.style[c?"height":"width"]=a+"px";n.set(b,{opacity:0.6})}},b=this.getDim();a(this._scrollBarWrapperV,this._scrollBarV,b.d.h,b.c.h,this.fixedHeaderHeight,!0);a(this._scrollBarWrapperH,this._scrollBarH,b.d.w,b.c.w,0);this.createMask()},createMask:function(){if(e("webkit")){var a;if(this._scrollBarWrapperV){var b=this._scrollBarWrapperV.offsetHeight;a=c.doc.getCSSCanvasContext("2d","scrollBarMaskV",5,b);a.fillStyle="rgba(0,0,0,0.5)";
a.fillRect(1,0,3,2);a.fillRect(0,1,5,1);a.fillRect(0,b-2,5,1);a.fillRect(1,b-1,3,2);a.fillStyle="rgb(0,0,0)";a.fillRect(0,2,5,b-4);this._scrollBarWrapperV.style.webkitMaskImage="-webkit-canvas(scrollBarMaskV)"}if(this._scrollBarWrapperH)b=this._scrollBarWrapperH.offsetWidth,a=c.doc.getCSSCanvasContext("2d","scrollBarMaskH",b,5),a.fillStyle="rgba(0,0,0,0.5)",a.fillRect(0,1,2,3),a.fillRect(1,0,1,5),a.fillRect(b-2,0,1,5),a.fillRect(b-1,1,2,3),a.fillStyle="rgb(0,0,0)",a.fillRect(2,0,b-4,5),this._scrollBarWrapperH.style.webkitMaskImage=
"-webkit-canvas(scrollBarMaskH)"}},flashScrollBar:function(){if(!this.disableFlashScrollBar&&this.domNode&&(this._dim=this.getDim(),!(0>=this._dim.d.h))){this.showScrollBar();var a=this;setTimeout(function(){a.hideScrollBar()},300)}},addCover:function(){if(!e("touch")&&!this.noCover)b._cover?b._cover.style.display="":(b._cover=o.create("div",null,c.doc.body),b._cover.className="mblScrollableCover",n.set(b._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",
height:"100%",zIndex:2147483647}),this._ch.push(m.connect(b._cover,e("touch")?"ontouchstart":"onmousedown",this,"onTouchEnd"))),this.setSelectable(b._cover,!1),this.setSelectable(this.domNode,!1)},removeCover:function(){if(!e("touch")&&b._cover)b._cover.style.display="none",this.setSelectable(b._cover,!0),this.setSelectable(this.domNode,!0)},setKeyframes:function(a,d,e){if(!b._rule)b._rule=[];if(!b._rule[e]){var f=o.create("style",null,c.doc.getElementsByTagName("head")[0]);f.textContent=".mblScrollableScrollTo"+
e+"{-webkit-animation-name: scrollableViewScroll"+e+";}@-webkit-keyframes scrollableViewScroll"+e+"{}";b._rule[e]=f.sheet.cssRules[1]}if(e=b._rule[e])if(a&&(e.deleteRule("from"),e.insertRule("from { -webkit-transform: "+this.makeTranslateStr(a)+"; }")),d){if(void 0===d.x)d.x=a.x;if(void 0===d.y)d.y=a.y;e.deleteRule("to");e.insertRule("to { -webkit-transform: "+this.makeTranslateStr(d)+"; }")}},setSelectable:function(a,b){a.style.KhtmlUserSelect=b?"auto":"none";a.style.MozUserSelect=b?"":"none";a.onselectstart=
b?null:function(){return!1};if(e("ie")){a.unselectable=b?"":"on";for(var d=a.getElementsByTagName("*"),c=0;c<d.length;c++)d[c].unselectable=b?"":"on"}}});f.setObject("dojox.mobile.scrollable",d);return d})},"dojox/mobile/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin"],function(k,m,g,f,c){return k("dojox.mobile.TextBox",[g,f,c],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(c){c=
this._cv?this._cv(c):c;this._set("placeHolder",c);this.textbox.setAttribute("placeholder",c)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=m.create("input",{type:this.type});this.inherited(arguments);this.textbox=this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onmouseup",function(){this._mouseIsDown=!1});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=!0});this.connect(this.textbox,"onfocus",function(c){this._onFocus(this._mouseIsDown?
"mouse":c);this._mouseIsDown=!1});this.connect(this.textbox,"onblur","_onBlur")}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(k,m,g,f,c){return k("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(c){m.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);f("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);
if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(c,f){this._handleOnChange(c,f)},_handleOnChange:function(c,f){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(c){if(c.keyCode==g.ESCAPE&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&(9>f("ie")||f("ie")&&f("quirks"))){c.preventDefault();var k=
c.srcElement,n=k.ownerDocument.createEventObject();n.keyCode=g.ESCAPE;n.shiftKey=c.shiftKey;k.fireEvent("onkeypress",n)}}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(k,m,g,f,c,l,o,n,e){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);g.set(this.focusNode,"disabled",b);this.valueNode&&g.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",k.forEach(c.isArray(b)?b:[b],function(b){b=this[b];o("webkit")||e.hasDefaultTabStop(b)?b.setAttribute("tabIndex",
"-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var d=this.connect(this.focusNode,"onfocus",function(){this.disconnect(a);this.disconnect(d)}),a=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(a);this.disconnect(d);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){n.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&
this.focusNode&&"none"!=f.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(b){}},compare:function(b,d){return"number"==typeof b&&"number"==typeof d?isNaN(b)&&isNaN(d)?0:b-d:b>d?1:b<d?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(b,d){if(void 0==this._lastValueReported&&(null===d||!this._onChangeActive))this._resetValue=this._lastValueReported=b;this._pendingOnChange=this._pendingOnChange||typeof b!=typeof this._lastValueReported||
0!=this.compare(b,this._lastValueReported);if((this.intermediateChanges||d||void 0===d)&&this._pendingOnChange)if(this._lastValueReported=b,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(b)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));
this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(k,m,g,f,c,l,o,n){var e=m("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(b,d,a){var e;void 0!==b&&(e=this.filter(b),
"string"!=typeof a&&(a=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):""));if(null!=a&&("number"!=typeof a||!isNaN(a))&&this.textbox.value!=a)this.textbox.value=a,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a);this.inherited(arguments,[e,d])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(b){null==b?b="":"string"!=typeof b&&
(b=""+b);this.textbox.value=b;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,b)},format:function(b){return null==b?"":b.toString?b.toString():b},parse:function(b){return b},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(b){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(b)},_processInput:function(){this._refreshState();
this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(o(this.textbox,"keydown, keypress, paste, cut, input, compositionend",l.hitch(this,function(b){var d;if("keydown"==b.type){d=b.keyCode;switch(d){case c.SHIFT:case c.ALT:case c.CTRL:case c.META:case c.CAPS_LOCK:case c.NUM_LOCK:case c.SCROLL_LOCK:return}if(!b.ctrlKey&&!b.metaKey&&!b.altKey){switch(d){case c.NUMPAD_0:case c.NUMPAD_1:case c.NUMPAD_2:case c.NUMPAD_3:case c.NUMPAD_4:case c.NUMPAD_5:case c.NUMPAD_6:case c.NUMPAD_7:case c.NUMPAD_8:case c.NUMPAD_9:case c.NUMPAD_MULTIPLY:case c.NUMPAD_PLUS:case c.NUMPAD_ENTER:case c.NUMPAD_MINUS:case c.NUMPAD_PERIOD:case c.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==c.SPACE)return;d=!1;for(var a in c)if(c[a]===b.keyCode){d=!0;break}if(!d)return}}(d=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||(d=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==c.SPACE?String.fromCharCode(b.keyCode):b.keyCode);d||(d=229);if("keypress"==b.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var e={faux:!0},f;for(f in b)"layerX"!=f&&"layerY"!=f&&(a=b[f],"function"!=typeof a&&"undefined"!=typeof a&&(e[f]=a));l.mixin(e,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());e._wasConsumed||this.defer(function(){this._onInput(e)})})))},_blankValue:"",filter:function(b){if(null===b)return this._blankValue;
if("string"!=typeof b)return b;this.trim&&(b=l.trim(b));this.uppercase&&(b=b.toUpperCase());this.lowercase&&(b=b.toLowerCase());this.propercase&&(b=b.replace(/[^\s]+/g,function(b){return b.substring(0,1).toUpperCase()+b.substring(1)}));return b},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(b){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(b){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==b)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||e.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(b){if(!this._created||this.textDir!=b)this._set("textDir",b),this.applyTextDir(this.focusNode,this.focusNode.value)}});e._setSelectionRange=n._setSelectionRange=function(b,d,a){b.setSelectionRange&&b.setSelectionRange(d,a)};e.selectInputText=n.selectInputText=function(b,d,a){b=g.byId(b);isNaN(d)&&(d=0);isNaN(a)&&(a=b.value?b.value.length:0);try{b.focus(),e._setSelectionRange(b,d,a)}catch(c){}};return e})},"dojox/mobile/Button":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/_WidgetBase,dijit/form/_ButtonMixin,dijit/form/_FormWidgetMixin".split(","),
function(k,m,g,f,c,l,o){return m("dojox.mobile.Button",[c,o,l],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(c){var e=this.inherited(arguments);if(e&&0<=this.duration){var b=this.focusNode||this.domNode,d=(this.baseClass+" "+this["class"]).split(" "),d=k.map(d,function(a){return a+"Selected"});g.add(b,d);setTimeout(function(){g.remove(b,d)},this.duration)}return e},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var c=this.srcNodeRef.firstChild;
if(c&&3===c.nodeType)c.nodeValue=this._cv(c.nodeValue)}}else this.srcNodeRef=f.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(c){this.inherited(arguments,[this._cv?this._cv(c):c])}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(k,m,g,f){return k("dijit.form._ButtonMixin",
null,{label:"",type:"button",_onClick:function(c){if(this.disabled)return g.stop(c),!1;var l=!1===this.onClick(c);if(!l&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var k=this.domNode;k.parentNode;k=k.parentNode){var n=f.byNode(k);if(n&&"function"==typeof n._onSubmit){n._onSubmit(c);l=!0;break}}l&&c.preventDefault();return!l},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",
c);(this.containerNode||this.focusNode).innerHTML=c}})})},"dojox/layout/TableContainer":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/_base/array,dojo/dom-prop,dojo/dom-style,dijit/_WidgetBase,dijit/layout/_LayoutWidget".split(","),function(k,m,g,f,c,l,o,n,e,b){k.experimental("dojox.layout.TableContainer");k=g("dojox.layout.TableContainer",b,{cols:1,labelWidth:"100",showLabels:!0,orientation:"horiz",spacing:1,customClass:"",postCreate:function(){this.inherited(arguments);
this._children=[];this.connect(this,"set",function(b,a){a&&("orientation"==b||"customClass"==b||"cols"==b)&&this.layout()})},startup:function(){if(!this._started&&(this.inherited(arguments),!this._initialized)){var b=this.getChildren();if(!(1>b.length))this._initialized=!0,f.add(this.domNode,"dijitTableLayout"),l.forEach(b,function(a){!a.started&&!a._started&&a.startup()}),this.resize(),this.layout()}},resize:function(){l.forEach(this.getChildren(),function(b){"function"==typeof b.resize&&b.resize()})},
layout:function(){function b(a,d,e){if(""!=p.customClass){var c=p.customClass+"-"+(d||a.tagName.toLowerCase());f.add(a,c);2<arguments.length&&f.add(a,c+"-"+e)}}if(this._initialized){var a=this.getChildren(),e={},p=this;l.forEach(this._children,m.hitch(this,function(a){e[a.id]=a}));l.forEach(a,m.hitch(this,function(a){e[a.id]||this._children.push(a)}));var g=c.create("table",{width:"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,cellspacing:this.spacing},this.domNode),
k=c.create("tbody");g.appendChild(k);b(g,"table",this.orientation);var w=c.create("tr",{},k),t=!this.showLabels||"horiz"==this.orientation?w:c.create("tr",{},k),v=this.cols*(this.showLabels?2:1),s=0;l.forEach(this._children,m.hitch(this,function(a,e){var h=a.colspan||1;1<h&&(h=this.showLabels?Math.min(v-1,2*h-1):Math.min(v,h));if(s+h-1+(this.showLabels?1:0)>=v)s=0,w=c.create("tr",{},k),t="horiz"==this.orientation?w:c.create("tr",{},k);var f;if(this.showLabels)if(f=c.create("td",{"class":"tableContainer-labelCell"},
w),a.spanLabel)o.set(f,"vert"==this.orientation?"rowspan":"colspan",2);else{b(f,"labelCell");var l={"for":a.get("id")},l=c.create("label",l,f);if(-1<Number(this.labelWidth)||-1<(""+this.labelWidth).indexOf("%"))n.set(f,"width",0>(""+this.labelWidth).indexOf("%")?this.labelWidth+"px":this.labelWidth);l.innerHTML=a.get("label")||a.get("title")}f=a.spanLabel&&f?f:c.create("td",{"class":"tableContainer-valueCell"},t);1<h&&o.set(f,"colspan",h);b(f,"valueCell",e);f.appendChild(a.domNode);s+=h+(this.showLabels?
1:0)}));this.table&&this.table.parentNode.removeChild(this.table);l.forEach(a,function(a){"function"==typeof a.layout&&a.layout()});this.table=g;this.resize()}},destroyDescendants:function(b){l.forEach(this._children,function(a){a.destroyRecursive(b)})},_setSpacingAttr:function(b){this.spacing=b;if(this.table)this.table.cellspacing=Number(b)}});k.ChildWidgetProperties={label:"",title:"",spanLabel:!1,colspan:1};m.extend(e,k.ChildWidgetProperties);return k})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(k,m,g,f,c,l,o,n,e){return l("dijit.layout._LayoutWidget",[m,g,f],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);o.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();if(!b||!b.isLayoutContainer)this.resize(),this.own(c.on("resize",k.hitch(this,"resize")))}},resize:function(b,d){var a=this.domNode;b&&n.setMarginBox(a,b);var c=d||{};k.mixin(c,b||
{});if(!("h"in c)||!("w"in c))c=k.mixin(n.getMarginBox(a),c);var f=e.getComputedStyle(a),l=n.getMarginExtents(a,f),g=n.getBorderExtents(a,f),c=this._borderBox={w:c.w-(l.w+g.w),h:c.h-(l.h+g.h)},l=n.getPadExtents(a,f);this._contentBox={l:e.toPixelValue(a,f.paddingLeft),t:e.toPixelValue(a,f.paddingTop),w:c.w-l.w,h:c.h-l.h};this.layout()},layout:function(){},_setupChild:function(b){o.add(b.domNode,this.baseClass+"-child "+(b.baseClass?this.baseClass+"-"+b.baseClass:""))},addChild:function(b,d){this.inherited(arguments);
this._started&&this._setupChild(b)},removeChild:function(b){o.remove(b.domNode,this.baseClass+"-child"+(b.baseClass?" "+this.baseClass+"-"+b.baseClass:""));this.inherited(arguments)}})})},"moch/app/mobile":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/ready,dojo/on,moch/app/_base,dojox/mobile/ViewController".split(","),function(k,m,g,f,c,l){var o=l.getInstance(),n=k([c.getBaseClass()],{online:!1,login_view:"login_view",constructor:function(){var b=this;g(function(){f(document,"online",
m.hitch(b,b.onOnline));f(document,"offline",m.hitch(b,b.onOffine))})},notification:function(b,d,a,e){navigator.notification&&"function"==typeof navigator.notification.alert?navigator.notification.alert(b,d,a,e):this.confirm(a+":"+b).then(function(a){!0==a&&"function"==typeof d&&d()})},onUserLogin:function(){var b=o.findTransitionViews(this.login_view);if(3==b.length){var d=b[0],b=b[1];null!=d&&null!=b&&d.id!=b.id&&d.performTransition(b.id,1,"coverv")}},onOnline:function(){this.log("we are now online")},
onOffline:function(){this.log("we are now offline")}}),e;c.getInstance=function(){e||(e=new n(c._init));return e};return c})},"moch/app/_base":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/config,dojo/_base/array,dojo/_base/Deferred,dojo/json,dojo/ready,dojo/on,dojo/topic,dojo/cookie,dojo/store/JsonRest,dojo/store/Memory,dojo/store/Cache,dojo/store/Observable,moch/data/ObjectStore,dojo/rpc/JsonService,moch/mochx/EventSource".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w){var t=
null,v="/service";if("string"==typeof g.service_uri)v=g.service_uri;var s=k(null,{loggedin:!1,domain_name:null,auto_login:!1,last_status:{},_domain_ready:!1,_user_ready:!1,_login_wait:!1,_service_rpc:null,_user_config:{},_action_allows:{},_poll_interval:6E5,_stores:{},_object_stores:{},constructor:function(a){if(null!=t)throw Error("only one instance are allowed at a time, of the application class");m.mixin(this,a);o(m.hitch(this,function(){this._domain_open();e.subscribe("moch/loggedin",m.hitch(this,
function(){this.rpc().status().then(m.hitch(this,function(a){this.last_status=a;if(a.error&&!1==a.loggedin)this._domain_ready=!1;this._login_setup(a.loggedin)}))}));var a=this._stores,b=this.log;e.subscribe("moch/entity_update",function(b,d,e){b in a&&(b=a[b],e=m.mixin(b.get(d),e),b.notify(e,d))});e.subscribe("moch/entity_create",function(d,e){if(d in a){var c=a[d];try{c.notify(e)}catch(h){b("error adding new item to ",d," store : ",h)}}});e.subscribe("moch/entity_delete",function(b,d){if(b in a){var e=
a[b];e._cache&&e._cache.evict(d);e.notify(null,d)}})}));require.on("error",this.error_report);if("boolean"==typeof g.auto_login)this.auto_login=g.auto_login;t=this},log:function(){console&&console.log&&console.log.apply(console,arguments)},client_log:function(a){this.log(a);try{this.rpc().domain_log(a,"notice")}catch(b){console.error(b)}},reload:function(){"function"==typeof window.location.reload||"object"==typeof window.location.reload?window.location.reload():window.location.href=window.location.href},
error_report:function(a){if(this.log){this.log(a);try{this.rpc().domain_log(a,"error")}catch(b){console.error(b)}if(void 0==this._show_error_alert){var d=this;this.config_get("base/show_error_alert").then(function(b){d._show_error_alert=b;!0==d._show_error_alert&&alert(a)})}else!0==this._show_error_alert&&alert(a)}else console.error(a)},store_find:function(b,e){if(!(b in this._stores)){var c={};"object"==typeof e&&(c=e);if(c.labelAttribute)c.labelProperty=c.labelAttribute;c.target=v+"/entity/"+b+
"/";var f=new h(new d(c),new a),l=new p(f),g=l.query,n=this.error_report;l.query=function(a,b){(results=g.apply(this,arguments))&&results.then&&results.then(function(){},n);return results};l._args=c;l._cache=f;this._stores[b]=l}return this._stores[b]},object_store_find:function(a,b){var d={objectStore:this.store_find(a,b)},d=m.mixin(d,d.objectStore._args);return new q(d)},action_allow:function(a,b,d){return this._action_allows?this._action_allows[a+b+d]:!1},rpc:function(){if(!this._service_rpc){var a=
new r(v+"/json/service.smd?simple=1"),b=this,d=a.user_login;a.user_login=function(a){var e=new c;d(a).then(function(a){e.resolve(a)},function(c){c.code&&b._service_rpc.domain_open(g.domain_name).then(function(){d(a).then(function(a){e.resolve(a)})})});return e};if(!g.sse_events&&!this._evs){var h=a.entity_update;a.entity_update=function(b,d,c){var f=h.apply(a,arguments);f.then(function(){e.publish("moch/entity_update",b,d,c)});return f};var f=a.entity_create;a.entity_create=function(b,d){var c=f.apply(a,
arguments);c.then(function(){e.publish("moch/entity_create",b,d)});return c};var l=a.entity_delete;a.entity_delete=function(b,d){var c=l.apply(a,arguments);c.then(function(){e.publish("moch/entity_create",b,d)});return c}}a.strictArgChecks=!1;this._service_rpc=a}return this._service_rpc},config_get:function(a){var b=null;if(a in this._user_config)b=new c,b.resolve(this._user_config[a]);else{var d=this,b=this.rpc().user_config_get(a);b.then(function(b){d._user_config[a]=b})}return b},config_set:function(a,
b){if(this._user_config[a]!=b){var d=this;this.rpc().user_config_set(a,b).then(function(c){c&&(d._user_config[a]=b)})}},_sse_start:function(){if(!0==this.loggedin){if(void 0==this._evs)this._evs=new w(v+"/sse"),this._evs.addEventListener("entity_update",function(a){a=l.parse(a.data);e.publish("moch/entity_update",a.entity_name,a.key,a.value)}),this._evs.addEventListener("entity_create",function(a){a=l.parse(a.data);e.publish("moch/entity_create",a.entity_name,a.value)}),this._evs.addEventListener("entity_delete",
function(a){a=l.parse(a.data);e.publish("moch/entity_delete",a.entity_name,a.key)}),this._evs.addEventListener("base_notice_send",function(a){a=l.parse(a.data);e.publish("moch/notice",a)})}else if(this._evs)this._evs.close(),this._evs=void 0},_setup_ready:function(){if(!this._status_poll_start)this._status_poll_start=!0,this._status_poll(!0),this.onReady(),this._user_ready=!0},_domain_open:function(){var a=this,d=new c;if(this._domain_ready)d.resolve(a.domain_name);else{if("string"!=typeof g.domain_name)throw Error("Missing domain name in config");
this.rpc().domain_open(g.domain_name).then(function(){if(!a.domain_name)a.domain_name=g.domain_name;!0==g.keep_locale?(a._setup_ready(),a._domain_ready=!0,d.resolve(a.domain_name)):a.config_get("locale").then(function(c){c&&b("locale")!=c&&(b("locale",c),a.reload());a._setup_ready();a._domain_ready=!0;d.resolve(a.domain_name)})})}return d},_login_setup:function(a,d){var c=this;if(a!=this.loggedin||!0==d)if(this.loggedin=a){this.rpc().entity_list("base_task_action_report",{}).then(m.hitch(this,function(a){var b=
this._action_allows;f.forEach(a,function(a){b[a.module_name+a.resource_name+a.action_name]=!0})}),this.error_report);var e=m.hitch(this,function(){this._setup_ready();this._domain_ready=!0;if(!1==this._user_ready)this.onReady(),this._user_ready=!0;this.onLogin();this._login_wait=!1;g.sse_events&&this._sse_start()});!0==g.keep_locale?e():this.config_get("locale").then(function(a){a&&b("locale")!=a&&(b("locale",a),c.reload());e()})}else c._action_allows={},b("locale",null,{expires:-1}),this.onLogout(),
this._domain_open().then(m.hitch(this,function(){if(!0==this.auto_login&&!1==this._login_wait)this._login_wait=!0,this.onUserLogin()}))},_status_poll:function(a){this.rpc().status().then(m.hitch(this,function(b){this.last_status=b;if("number"==typeof b.reload_timer)this._poll_interval=1E3*b.reload_timer;if(b.error&&!1==b.loggedin)this._domain_ready=!1;this._login_setup(b.loggedin,a)}),m.hitch(this,function(){this._domain_ready=!1;this.last_status={};this._login_setup(!1)}));setTimeout(m.hitch(this,
this._status_poll),this._poll_interval)},onUserLogin:function(){this.log("Don't know how to login, sorry")},onReady:function(){},onLogin:function(){this.log("user is logged in")},onLogout:function(){this.log("user is logged out")},confirm:function(a){var b=new c;setTimeout(function(){b.resolve(confirm(a))},10);return b},alert:function(a){var b=new c;setTimeout(function(){alert(a);b.resolve()},10);return b},prompt:function(a,b){b=new c;setTimeout(function(){b.resolve(prompt(a,b))},10);return b}}),
u,x={_init:void 0,_set_app:function(a){u=a},_app:function(){return u},getInstance:function(){u||(u=new s(x._init));return u},init:function(a){x._init=a;return x.getInstance()},store_find:function(a,b){return x.getInstance().store_find(a,b)},rpc:function(){return x.getInstance().rpc()},getBaseClass:function(){return s}};return x})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(k,m){k.cookie=function(g,f,c){var l=document.cookie,k;if(1==arguments.length)k=(k=l.match(RegExp("(?:^|; )"+
m.escapeString(g)+"=([^;]*)")))?decodeURIComponent(k[1]):void 0;else{c=c||{};l=c.expires;if("number"==typeof l){var n=new Date;n.setTime(n.getTime()+864E5*l);l=c.expires=n}if(l&&l.toUTCString)c.expires=l.toUTCString();var f=encodeURIComponent(f),l=g+"="+f,e;for(e in c)l+="; "+e,n=c[e],!0!==n&&(l+="="+n);document.cookie=l}return k};k.cookie.isSupported=function(){if(!("cookieEnabled"in navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),
navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return k.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(k,m){var g={};m.setObject("dojo.regexp",g);g.escapeString=function(f,c){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(f){return c&&-1!=c.indexOf(f)?f:"\\"+f})};g.buildGroupRE=function(f,c,l){if(!(f instanceof Array))return c(f);for(var k=[],n=0;n<f.length;n++)k.push(c(f[n]));return g.group(k.join("|"),
l)};g.group=function(f,c){return"("+(c?"?:":"")+f+")"};return g})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(k,m,g,f,c){return f("dojo.store.JsonRest",null,{constructor:function(c){this.headers={};f.safeMixin(this,c)},headers:{},target:"",idProperty:"id",get:function(c,f){var f=f||{},g=m.mixin({Accept:this.accepts},this.headers,f.headers||f);return k("GET",{url:this.target+c,handleAs:"json",headers:g})},accepts:"application/javascript, application/json",
getIdentity:function(c){return c[this.idProperty]},put:function(c,f){var f=f||{},n="id"in f?f.id:this.getIdentity(c),e="undefined"!=typeof n;return k(e&&!f.incremental?"PUT":"POST",{url:e?this.target+n:this.target,postData:g.stringify(c),handleAs:"json",headers:m.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===f.overwrite?"*":null,"If-None-Match":!1===f.overwrite?"*":null},this.headers,f.headers)})},add:function(c,f){f=f||{};f.overwrite=!1;return this.put(c,f)},remove:function(c,
f){f=f||{};return k("DELETE",{url:this.target+c,headers:m.mixin({},this.headers,f.headers)})},query:function(f,g){var g=g||{},n=m.mixin({Accept:this.accepts},this.headers,g.headers);if(0<=g.start||0<=g.count)n.Range=n["X-Range"]="items="+(g.start||"0")+"-"+("count"in g&&Infinity!=g.count?g.count+(g.start||0)-1:"");var e=-1<this.target.indexOf("?");f&&"object"==typeof f&&(f=(f=k.objectToQuery(f))?(e?"&":"?")+f:"");if(g&&g.sort){for(var b=this.sortParam,f=f+((f||e?"&":"?")+(b?b+"=":"sort(")),e=0;e<
g.sort.length;e++)var d=g.sort[e],f=f+((0<e?",":"")+(d.descending?"-":"+")+encodeURIComponent(d.attribute));b||(f+=")")}var a=k("GET",{url:this.target+(f||""),handleAs:"json",headers:n});a.total=a.then(function(){var b=a.ioArgs.xhr.getResponseHeader("Content-Range");return b&&(b=b.match(/\/(.*)/))&&+b[1]});return c(a)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../_base/Deferred"],function(k,m,g){var f=function(c){function l(l){c[l]||(c[l]=function(){var n=
arguments;return g.when(c,function(c){Array.prototype.unshift.call(n,c);return f(k[l].apply(k,n))})})}if(!c)return c;c.then&&(c=m.delegate(c));l("forEach");l("filter");l("map");if(!c.total)c.total=g.when(c,function(c){return c.length});return c};m.setObject("dojo.store.util.QueryResults",f);return f})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(k,m,g){return k("dojo.store.Memory",null,{constructor:function(f){for(var c in f)this[c]=
f[c];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:g,get:function(f){return this.data[this.index[f]]},getIdentity:function(f){return f[this.idProperty]},put:function(f,c){var l=this.data,g=this.index,k=this.idProperty,k=f[k]=c&&"id"in c?c.id:k in f?f[k]:Math.random();if(k in g){if(c&&!1===c.overwrite)throw Error("Object already exists");l[g[k]]=f}else g[k]=l.push(f)-1;return k},add:function(f,c){(c=c||{}).overwrite=!1;return this.put(f,c)},remove:function(f){var c=
this.index,l=this.data;if(f in c)return l.splice(c[f],1),this.setData(l),!0},query:function(f,c){return m(this.queryEngine(f,c)(this.data))},setData:function(f){var a;f.items?(this.idProperty=f.identifier,a=this.data=f.items,f=a):this.data=f;this.index={};for(var c=0,l=f.length;c<l;c++)this.index[f[c][this.idProperty]]=c}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(k){return function(m,g){function f(c){var c=k.filter(c,m),f=g&&g.sort;f&&c.sort("function"==
typeof f?f:function(c,b){for(var d,a=0;d=f[a];a++){var h=c[d.attribute],l=b[d.attribute];if(h!=l)return!!d.descending==(null==h||h>l)?-1:1}return 0});if(g&&(g.start||g.count)){var n=c.length,c=c.slice(g.start||0,(g.start||0)+(g.count||Infinity));c.total=n}return c}switch(typeof m){default:throw Error("Can not query with a "+typeof m);case "object":case "undefined":var c=m,m=function(f){for(var g in c){var k=c[g];if(k&&k.test){if(!k.test(f[g],f))return!1}else if(k!=f[g])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+
m+" was found in store");m=this[m];case "function":}f.matches=m;return f}})},"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(k,m){var g=function(f,c,l){l=l||{};return k.delegate(f,{query:function(g,k){var e=f.query(g,k);e.forEach(function(b){(!l.isLoaded||l.isLoaded(b))&&c.put(b)});return e},queryEngine:f.queryEngine||c.queryEngine,get:function(l,g){return m.when(c.get(l),function(e){return e||m.when(f.get(l,g),function(b){b&&c.put(b,{id:l});return b})})},add:function(l,
g){return m.when(f.add(l,g),function(e){c.add("object"==typeof e?e:l,g);return e})},put:function(l,g){c.remove(g&&g.id||this.getIdentity(l));return m.when(f.put(l,g),function(e){c.put("object"==typeof e?e:l,g);return e})},remove:function(l,g){return m.when(f.remove(l,g),function(){return c.remove(l,g)})},evict:function(f){return c.remove(f)}})};k.setObject("dojo.store.Cache",g);return g})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],
function(k,m,g,f){k=function(c){function l(d,a){var e=c[d];e&&(c[d]=function(d){if(b)return e.apply(this,arguments);b=!0;try{var c=e.apply(this,arguments);g.when(c,function(b){a("object"==typeof b&&b||d)});return c}finally{b=!1}})}var k=[],n=0,c=m.delegate(c);c.notify=function(b,a){n++;for(var c=k.slice(),e=0,f=c.length;e<f;e++)c[e](b,a)};var e=c.query;c.query=function(b,a){var a=a||{},h=e.apply(this,arguments);if(h&&h.forEach){var l=m.mixin({},a);delete l.start;delete l.count;var q=c.queryEngine&&
c.queryEngine(b,l),r=n,w=[],t;h.observe=function(b,d){1==w.push(b)&&k.push(t=function(b,e){g.when(h,function(h){var l=h.length!=a.count,p,g;if(++r!=n)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var k,o=-1,m=-1;if(void 0!==e)for(p=0,g=h.length;p<g;p++){var v=h[p];if(c.getIdentity(v)==e){k=v;o=p;(q||!b)&&h.splice(p,1);break}}if(q){if(b&&(q.matches?q.matches(b):q([b]).length))p=-1<o?o:h.length,h.splice(p,0,b),m=f.indexOf(q(h),b),h.splice(p,1),a.start&&
0==m||!l&&m==h.length?m=-1:h.splice(m,0,b)}else b&&(void 0!==e?m=o:a.start||(m=c.defaultIndex||0,h.splice(m,0,b)));if((-1<o||-1<m)&&(d||!q||o!=m)){l=w.slice();for(p=0;h=l[p];p++)h(b||k,o,m)}})});var e={};e.remove=e.cancel=function(){var a=f.indexOf(w,b);-1<a&&(w.splice(a,1),w.length||k.splice(f.indexOf(k,t),1))};return e}}return h};var b;l("put",function(b){c.notify(b,c.getIdentity(b))});l("add",function(b){c.notify(b)});l("remove",function(b){c.notify(void 0,b)});return c};m.setObject("dojo.store.Observable",
k);return k})},"moch/data/ObjectStore":function(){define(["dojo/_base/declare","dojo/on","dojo/data/ObjectStore"],function(k,m,g){return k([g],{resetValue:function(f,c,l){var g=f[c];f[c]=l;this.onSet(f,c,g,l)},constructor:function(f){this._dirtyObjects=[];this.inherited(arguments)},loadItemByIdentity:function(f,c){var l=c?c:{};l.identity=f;l.onItem=dojo.hitch(this,function(c){this.onNew(c)});return this.fetchItemByIdentity(l)},makeClean:function(){this._dirtyObjects=[]},fetchDirty:function(f){"object"==
typeof f&&"function"==typeof f.onItem&&dojo.forEach(this._dirtyObjects,function(c){"object"==typeof c.object&&f.onItem.call(this,c.object)})}})})},"dojo/data/ObjectStore":function(){define("../_base/lang,../Evented,../_base/declare,../_base/Deferred,../_base/array,../_base/connect,../regexp".split(","),function(k,m,g,f,c,l,o){function n(c){return"*"==c?".*":"?"==c?".":c}return g("dojo.data.ObjectStore",[m],{objectStore:null,constructor:function(c){this._dirtyObjects=[];if(c.labelAttribute)c.labelProperty=
c.labelAttribute;k.mixin(this,c)},labelProperty:"label",getValue:function(c,b,d){return"function"===typeof c.get?c.get(b):b in c?c[b]:d},getValues:function(c,b){var d=this.getValue(c,b);return d instanceof Array?d:void 0===d?[]:[d]},getAttributes:function(c){var b=[],d;for(d in c)c.hasOwnProperty(d)&&!("_"==d.charAt(0)&&"_"==d.charAt(1))&&b.push(d);return b},hasAttribute:function(c,b){return b in c},containsValue:function(e,b,d){return-1<c.indexOf(this.getValues(e,b),d)},isItem:function(c){return"object"==
typeof c&&c&&!(c instanceof Date)},isItemLoaded:function(c){return c&&"function"!==typeof c.load},loadItem:function(c){var b;"function"===typeof c.item.load?f.when(c.item.load(),function(d){b=d;var a=d instanceof Error?c.onError:c.onItem;a&&a.call(c.scope,d)}):c.onItem&&c.onItem.call(c.scope,c.item);return b},close:function(c){return c&&c.abort&&c.abort()},fetch:function(e){function b(b){e.onError&&e.onError.call(a,b,e)}var e=k.delegate(e,e&&e.queryOptions),d=this,a=e.scope||d,h=e.query;if("object"==
typeof h){var h=k.delegate(h),l;for(l in h){var g=h[l];if("string"==typeof g)h[l]=RegExp("^"+o.escapeString(g,"*?\\").replace(/\\.|\*|\?/g,n)+"$",e.ignoreCase?"mi":"m"),h[l].toString=function(a){return function(){return a}}(g)}}var m=this.objectStore.query(h,e);f.when(m.total,function(d){f.when(m,function(b){e.onBegin&&e.onBegin.call(a,d||b.length,e);if(e.onItem)for(var c=0;c<b.length;c++)e.onItem.call(a,b[c],e);e.onComplete&&e.onComplete.call(a,e.onItem?null:b,e);return b},b)},b);e.abort=function(){m.cancel&&
m.cancel()};if(m.observe)this.observing&&this.observing.cancel(),this.observing=m.observe(function(a,b,e){if(-1==c.indexOf(d._dirtyObjects,a))if(-1==b)d.onNew(a);else if(-1==e)d.onDelete(a);else for(var h in a)if(h!=d.objectStore.idProperty)d.onSet(a,h,null,a[h])},!0);this.onFetch(m);e.store=this;return e},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(c){if(this.isItem(c))return this.getValue(c,
this.labelProperty)},getLabelAttributes:function(){return[this.labelProperty]},getIdentity:function(c){return this.objectStore.getIdentity?this.objectStore.getIdentity(c):c[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(){return[this.objectStore.idProperty]},fetchItemByIdentity:function(c){var b;f.when(this.objectStore.get(c.identity),function(d){b=d;c.onItem.call(c.scope,d)},function(b){c.onError.call(c.scope,b)});return b},newItem:function(c,b){if(b){var d=this.getValue(b.parent,
b.attribute,[]),d=d.concat([c]);c.__parent=d;this.setValue(b.parent,b.attribute,d)}this._dirtyObjects.push({object:c,save:!0});this.onNew(c);return c},deleteItem:function(c){this.changing(c,!0);this.onDelete(c)},setValue:function(c,b,d){var a=c[b];this.changing(c);c[b]=d;this.onSet(c,b,a,d)},setValues:function(c,b,d){if(!k.isArray(d))throw Error("setValues expects to be passed an Array object as its value");this.setValue(c,b,d)},unsetAttribute:function(c,b){this.changing(c);var d=c[b];delete c[b];
this.onSet(c,b,d,void 0)},changing:function(c,b){c.__isDirty=!0;for(var d=0;d<this._dirtyObjects.length;d++){var a=this._dirtyObjects[d];if(c==a.object){if(b&&(a.object=!1,!this._saveNotNeeded))a.save=!0;return}}a=c instanceof Array?[]:{};for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);this._dirtyObjects.push({object:!b&&c,old:a,save:!this._saveNotNeeded})},save:function(c){var c=c||{},b,d=[],a=[],h=this,p=this._dirtyObjects,g=p.length;try{l.connect(c,"onError",function(){if(!1!==c.revertOnError){var b=
p;p=a;h.revert();h._dirtyObjects=b}else h._dirtyObjects=p.concat(a)});if(this.objectStore.transaction)var k=this.objectStore.transaction();for(var n=0;n<p.length;n++){var o=p[n],m=o.object,s=o.old;delete m.__isDirty;m?b=this.objectStore.put(m,{overwrite:!!s}):"undefined"!=typeof s&&(b=this.objectStore.remove(this.getIdentity(s)));a.push(o);p.splice(n--,1);f.when(b,function(){--g||c.onComplete&&c.onComplete.call(c.scope,d)},function(a){g=-1;c.onError.call(c.scope,a)})}k&&k.commit()}catch(u){c.onError.call(c.scope,
value)}},revert:function(){for(var c=this._dirtyObjects,b=c.length;0<b;){b--;var d=c[b],a=d.object,d=d.old;if(a&&d){for(var h in d)d.hasOwnProperty(h)&&a[h]!==d[h]&&(this.onSet(a,h,a[h],d[h]),a[h]=d[h]);for(h in a)d.hasOwnProperty(h)||(this.onSet(a,h,a[h]),delete a[h])}else if(d)this.onNew(d);else this.onDelete(a);delete (a||d).__isDirty;c.splice(b,1)}},isDirty:function(c){return!c?!!this._dirtyObjects.length:c.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(){}})})},
"dojo/rpc/JsonService":function(){define("../_base/declare,../_base/Deferred,../_base/json,../_base/lang,../_base/xhr,./RpcService".split(","),function(k,m,g,f,c,l){return k("dojo.rpc.JsonService",l,{bustCache:!1,contentType:"application/json-rpc",lastSubmissionId:0,callRemote:function(c,f){var e=new m;this.bind(c,f,e);return e},bind:function(f,l,e,b){c.post({url:b||this.serviceUrl,postData:this.createRequest(f,l),contentType:this.contentType,timeout:this.timeout,handleAs:"json-comment-optional"}).addCallbacks(this.resultCallback(e),
this.errorCallback(e))},createRequest:function(c,f){var e={params:f,method:c,id:++this.lastSubmissionId};return g.toJson(e)},parseResults:function(c){if(f.isObject(c)){if("result"in c)return c.result;if("Result"in c)return c.Result;if("ResultSet"in c)return c.ResultSet}return c}})})},"dojo/rpc/RpcService":function(){define("../_base/array,../_base/declare,../_base/Deferred,../_base/kernel,../_base/lang,../_base/url,../_base/xhr".split(","),function(k,m,g,f,c,l,o){return m("dojo.rpc.RpcService",null,
{constructor:function(g){if(g)if(c.isString(g)||g instanceof l){var e=o.get({url:g instanceof l?g+"":g,handleAs:"json-comment-optional",sync:!0});e.addCallback(this,"processSmd");e.addErrback(function(){throw Error("Unable to load SMD from "+g);})}else if(g.smdStr)this.processSmd(f.eval("("+g.smdStr+")"));else{if(g.serviceUrl)this.serviceUrl=g.serviceUrl;this.timeout=g.timeout||3E3;if("strictArgChecks"in g)this.strictArgChecks=g.strictArgChecks;this.processSmd(g)}},strictArgChecks:!0,serviceUrl:"",
parseResults:function(c){return c},errorCallback:function(c){return function(e){c.errback(e.message)}},resultCallback:function(f){return c.hitch(this,function(c){if(null!=c.error){var b;"object"==typeof c.error?(b=Error(c.error.message),b.code=c.error.code,b.error=c.error.error):b=Error(c.error);b.id=c.id;b.errorObject=c;f.errback(b)}else f.callback(this.parseResults(c))})},generateMethod:function(f,e,b){return c.hitch(this,function(){var d=new g;if(this.strictArgChecks&&null!=e&&arguments.length!=
e.length)throw Error("Invalid number of parameters for remote method.");this.bind(f,c._toArray(arguments),d,b);return d})},processSmd:function(f){f.methods&&k.forEach(f.methods,function(e){if(e&&e.name&&(this[e.name]=this.generateMethod(e.name,e.parameters,e.url||e.serviceUrl||e.serviceURL),!c.isFunction(this[e.name])))throw Error("RpcService: Failed to create"+e.name+"()");},this);this.serviceUrl=f.serviceUrl||f.serviceURL;this.required=f.required;this.smd=f}})})},"dojo/_base/url":function(){define(["./kernel"],
function(k){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var c=arguments,l=[c[0]],k=1;k<c.length;k++)if(c[k]){var n=new f(c[k]+""),l=new f(l[0]+"");if(""==n.path&&!n.scheme&&!n.authority&&!n.query){if(null!=n.fragment)l.fragment=n.fragment;n=l}else if(!n.scheme&&(n.scheme=l.scheme,!n.authority&&(n.authority=l.authority,"/"!=n.path.charAt(0)))){for(var l=(l.path.substring(0,l.path.lastIndexOf("/")+
1)+n.path).split("/"),e=0;e<l.length;e++)"."==l[e]?e==l.length-1?l[e]="":(l.splice(e,1),e--):0<e&&!(1==e&&""==l[0])&&".."==l[e]&&".."!=l[e-1]&&(e==l.length-1?(l.splice(e,1),l[e-1]=""):(l.splice(e-1,2),e-=2));n.path=l.join("/")}l=[];n.scheme&&l.push(n.scheme,":");n.authority&&l.push("//",n.authority);l.push(n.path);n.query&&l.push("?",n.query);n.fragment&&l.push("#",n.fragment)}this.uri=l.join("");c=this.uri.match(m);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?"":null);this.path=c[5];
this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);if(null!=this.authority)c=this.authority.match(g),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null};f.prototype.toString=function(){return this.uri};return k._Url=f})},"moch/mochx/EventSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/_base/config"],function(k,m,g,f){if("undefined"!==typeof EventSource&&!0!=f.polyfill_eventsource)return EventSource;var c=k([],
{data:null,type:"message",lastEventId:"",origin:"",constructor:function(c,f,e){this.data=c;this.origin=f;this.lastEventId=e||""}}),l=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;return k([],{interval:500,CONNECTING:0,OPEN:1,CLOSED:2,onerror:null,onmessage:null,onopen:null,readyState:0,URL:"",lastEventId:null,constructor:function(c){this.inherited(arguments);if(!c||"string"!=typeof c||void 0==g("appsvr_id"))throw new SyntaxError("Not enough arguments given or missing appsvr_id cookie");this._url=c;this.readyState=
this.CONNECTING;this._xhr=this._pollTimer=null;"undefined"!==typeof XDomainRequest?(this._transport=XDomainRequest,this._url+="?appsvr_id="+g("appsvr_id")):this._transport=XMLHttpRequest;this.poll()},close:function(){this.readyState=this.CLOSED;clearInterval(this._pollTimer);this._xhr.abort()},dispatchEvent:function(c,f){var e=this["_"+c+"Handlers"];if(e)for(var b=0;b<e.length;b++)e[b].call(this,f);this["on"+c]&&this["on"+c].call(this,f)},addEventListener:function(c,f){this["_"+c+"Handlers"]||(this["_"+
c+"Handlers"]=[]);this["_"+c+"Handlers"].push(f)},removeEventListener:function(){},pollAgain:function(c){this._pollTimer=setTimeout(m.hitch(this,this.poll),c)},_parse:function(f){for(var g="message",e=[],b=0,d="";b<f.length;b++)d=f[b].replace(l,""),0==d.indexOf("event")?g=d.replace(/event:?\s*/,""):0==d.indexOf("retry")?(retry=parseInt(d.replace(/retry:?\s*/,"")),isNaN(retry)||(interval=retry)):0==d.indexOf("data")?e.push(d.replace(/data:?\s*/,"")):0==d.indexOf("id:")?es.lastEventId=d.replace(/id:?\s*/,
""):0==d.indexOf("id")?es.lastEventId=null:""==d&&e.length&&(e=new c(e.join("\n"),es._url,es.lastEventId),this.dispatchEvent(g,e),e=[],g="message")},poll:function(){try{if(this.readyState!=this.CLOSED){var c=this.interval,f=new this._transport;f.open("GET",this._url,!0);f.setRequestHeader&&(f.setRequestHeader("Accept","text/event-stream"),f.setRequestHeader("Cache-Control","no-cache"),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=this.lastEventId&&f.setRequestHeader("Last-Event-ID",
this.lastEventId));var e="";f.timeout=5E5;es=this;f.onerror=f.ontimeout=function(){es.pollAgain(c)};if("undefined"!==typeof XDomainRequest)f.onprogress=function(){var b="";try{b=f.responseText||""}catch(a){}es._parse(b.substr(e.length).split("\n"));e=b};f.onreadystatechange=function(){if((3==f.readyState||4==f.readyState)&&200==f.status){if(es.readyState==es.CONNECTING)es.readyState=es.OPEN,es.dispatchEvent("open",{type:"open"});var b="";try{b=f.responseText||""}catch(a){}es._parse(b.substr(e.length).split("\n"));
e=b;4==f.readyState&&es.pollAgain(c)}else if(es.readyState!==es.CLOSED)4==f.readyState?(es.readyState=es.CONNECTING,es.dispatchEvent("error",{type:"error"}),es.pollAgain(c)):0==f.readyState&&es.pollAgain(c)};f.send();setTimeout(function(){f.abort()},f.timeout);this._xhr=f}}catch(b){this.dispatchEvent("error",{type:"error",data:b.message}),console.error(b)}}})})},"kso/Store":function(){define("dojo/_base/declare,dojo/topic,dojo/_base/config,dojo/store/Memory,dojo/store/Observable,dojo/store/JsonRest,dojo/_base/Deferred,dojo/store/util/QueryResults".split(","),
function(k,m,g,f,c,l,o,n){var e="/service";if("string"==typeof g.service_uri)e=g.service_uri;return k(null,{entity_name:null,constructor:function(b){for(var d in b)this[d]=b[d];this._store=c(new f);this._rest_store=new l({target:e+"/entity/"+this.entity_name+"/"});this._need_sync=!0;this._updates=[];this._removes=[];this._inserts=[];var a=this;m.subscribe("moch/entity_update",function(b,c,d){if(a.entity_name==b)d.id=c,a._store.put(d)});m.subscribe("moch/entity_create",function(b,c){if(a.entity_name==
b)try{a._store.get(c.id)||a._store.add(c)}catch(d){}});m.subscribe("moch/entity_delete",function(b,c){a.entity_name==b&&a._store.get(c)&&a._store.remove(c)})},get:function(b){return this._store.get(b)},getIdentity:function(b){return this._store.getIdentity(b)},put:function(b){this._updates.push(b);this._start_update_data()},add:function(b){this._inserts.push(b);this._start_update_data()},remove:function(b){this._removes.push(b);this._start_update_data()},query:function(b,c){return this._need_sync?
this._fetch_data(b,c):this._store.query(b,c)},_fetch_data:function(b,c){if(this._need_sync){var a=new o,h=this,e=this._rest_store.query(b,c),f=n(a);e.then(function(e){h._store.setData(e);h._need_sync=!1;e=h._store.query(b,c);f.observe=e.observe;a.resolve(e)},function(){setTimeout(h._fetch_data,6E5)});return f}},_start_update_data:function(){this._thndl&&clearTimeout(this._thndl);this._update_data()},_update_data:function(){if(0==this._updates.length&&0==this._inserts.length&&0==this._removes.length)this._thndl=
void 0;else{var b=this;this._updates.forEach(function(c){b._rest_store.put(c).then(function(){},function(){this._updates.push(c)})});this._updates=[];this._inserts.forEach(function(c){delete c.id;b._rest_store.add(c).then(function(){},function(){b._inserts.push(c)})});b._inserts=[];this._removes.forEach(function(c){b._rest_store.remove(c).then(function(){},function(){b._removes.push(c)})});this._removes=[];this._thndl=setTimeout(function(){b._update_data.apply(b)},6E5)}}})})},"dojox/mobile/Heading":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ProgressIndicator,./ToolBarButton,./View".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q){f.getObject("dojox.mobile",!0);return g("dojox.mobile.Heading",[h,a,d],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||c.doc.createElement(this.tag);this.inherited(arguments);this.label||k.forEach(this.domNode.childNodes,function(a){if(3==a.nodeType){var b=f.trim(a.nodeValue);if(b)this.label=b,this.labelNode=
n.create("span",{innerHTML:b},a,"replace")}},this);if(!this.labelNode)this.labelNode=n.create("span",null,this.domNode);this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=n.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);l.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var b=this;setTimeout(function(){b.resize()},0)}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var a,
b,c=this.containerNode.childNodes,d=c.length-1;0<=d;d--){var h=c[d];1===h.nodeType&&"none"!==e.get(h,"display")&&(!b&&"right"===e.get(h,"float")&&(b=h),!a&&"left"===e.get(h,"float")&&(a=h))}if(!this.labelNodeLen&&this.label)this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="";c=this.domNode.offsetWidth;d=this.labelNodeLen||0;o[c-2*Math.max(b?c-b.offsetLeft+5:0,a?a.offsetLeft+a.offsetWidth+5:0)>d?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}k.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=new q({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo,href:this.href,transition:this.transition,transitionDir:-1}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setMoveToAttr:function(a){this._set("moveTo",a);this.backButton&&this.backButton.set("moveTo",a)},_setHrefAttr:function(a){this._set("href",a);this.backButton&&this.backButton.set("href",
a)},_setTransitionAttr:function(a){this._set("transition",a);this.backButton&&this.backButton.set("transition",a)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!b)b=this._prog=new p({size:30,center:!1}),o.add(b.domNode,this.progStyle);n.place(b.domNode,this.domNode,"first");b.start()}else b.stop();this._set("busy",a)}})})},"dojox/mobile/ToolBarButton":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff,./_ItemBase".split(","),
function(k,m,g,f,c,l,o,n){return k("dojox.mobile.ToolBarButton",n,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef)this.label=this.srcNodeRef.innerHTML;this.label=m.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:c.create("span");this.inherited(arguments);if(this.light&&!this.arrow&&
(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,f.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=c.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+"Arrow "+(o("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),
f.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=c.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=c.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);if(!this.label&&this.arrow)this.tableNode.className="mblToolBarButtonText";var e=this.tableNode.insertRow(-1);this.iconParentNode=e.insertCell(-1);this.labelNode=e.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className=
"mblToolBarButtonLabel";this.icon&&"none"!==this.icon&&this.label&&(f.add(this.domNode,"mblToolBarButtonHasIcon"),f.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));f.add(this.bodyNode,this.defaultColor)}},startup:function(){if(!this._started&&(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?this._pendingIcon:this.icon),delete this._pendingIcon},_onClick:function(c){c&&"keydown"===
c.type&&13!==c.keyCode||!1===this.onClick(c)||this.defaultClickAction(c)},onClick:function(){},_setLabelAttr:function(c){this.inherited(arguments);f.toggle(this.tableNode,"mblToolBarButtonText",c||this.arrow)},_setSelectedAttr:function(c){this.inherited(arguments);if(c){if(f.replace(this.bodyNode,this.selColor,this.defaultColor),!o("ie")&&this.arrowNode){var b=this.selColor,d=this.defaultColor;f.replace(this.arrowNode,b+" "+b+"45",d+" "+d+"45")}}else if(f.replace(this.bodyNode,this.defaultColor,this.selColor),
!o("ie")&&this.arrowNode)b=this.defaultColor,d=this.selColor,f.replace(this.arrowNode,b+" "+b+"45",d+" "+d+"45");f.toggle(this.domNode,"mblToolBarButtonSelected",c);f.toggle(this.bodyNode,"mblToolBarButtonBodySelected",c)}})})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/touch,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TransitionEvent,./iconUtils,./sniff".split(","),function(k,m,g,f,
c,l,o,n,e,b,d,a){return m("dojox.mobile._ItemBase",[b,e,n],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams()},
startup:function(){if(!this._started){this._isOnLine||this.inheritParams();if(this._handleClick&&"touch"===this._selStartMethod)this._onTouchStartHandle=this.connect(this.domNode,l.press,"_onTouchStart");this.inherited(arguments)}},inheritParams:function(){var a=this.getParent();a&&k.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var c=b+"Base",d=b+"Pos";this[b]&&a[c]&&"/"===a[c].charAt(a[c].length-1)&&(this[b]=a[c]+this[b]);this[b]||(this[b]=a[c]);this[d]||(this[d]=a[d])}this[b]||
(this[b]=a[b])},this);return!!a},getTransOpts:function(){var a=this.transitionOptions||{};k.forEach("moveTo,href,hrefTarget,url,target,urlTarget,scene,transition,transitionDir".split(","),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(){this._delayedSelection&&this.set("selected",!0);if(this._onTouchEndHandle)this.disconnect(this._onTouchEndHandle),
this._onTouchEndHandle=null;var a=this.getParent();if(this.toggle)this.set("selected",!this._currentSel);else if(a&&a.selectOne)this.set("selected",!0);else if("touch"===this._selEndMethod)this.set("selected",!1);else if("timer"===this._selEndMethod){var b=this;this.defer(function(){b.set("selected",!1)},this._duration)}},makeTransition:function(a){if(this.back&&history)history.back();else if(this.href&&this.hrefTarget)f.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);
else{var b=this.getTransOpts(),c=!(!b.moveTo&&!b.href&&!b.url&&!b.target&&!b.scene);if(!1!==this._prepareForTransition(a,c?b:null)&&c)this.setTransitionPos(a),(new d(this.domNode,b,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(){},_onTouchStart:function(a){if(!(this.getParent().isEditing||!1===this.onTouchStart(a))){if(!this._onTouchEndHandle&&"touch"===this._selStartMethod)this._onTouchMoveHandle=this.connect(f.body(),l.move,"_onTouchMove"),this._onTouchEndHandle=
this.connect(f.body(),l.release,"_onTouchEnd");this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this._currentSel=this.selected;this._delayedSelection?this._selTimer=setTimeout(g.hitch(this,function(){this.set("selected",!0)}),100):this.set("selected",!0)}},onTouchStart:function(){},_onTouchMove:function(a){var b=a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-
this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){if(this._selTimer)clearTimeout(this._selTimer),this._selTimer=null;this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var b=
this;!(b=b.getParent(),!b||c.contains(b.domNode,"mblView")););if(b)b.clickedPosX=a.clientX,b.clickedPosY=a.clientY},transitionTo:function(a,b,c,e){(new d(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:c,scene:e,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(b){this._isOnLine?(this._set("icon",b),this.iconNode=a.setIcon(b,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=b},_setLabelAttr:function(a){this._set("label",
a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=k.filter(b.getChildren(),function(a){return a.selected}),k.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}})})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),
function(k,m,g,f,c,l,o,n,e,b){var d=c.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,b){if(a&&b){var c=k.map(b.split(/[ ,]/),function(a){return a-0}),d=c[0],f=c[1];e.set(a,{clip:"rect("+d+"px "+(c[1]+c[2])+"px "+(c[0]+c[3])+"px "+f+"px)",top:(a.parentNode?e.get(a,"top"):0)-d+"px",left:-f+"px"});o.add(a,"mblSpriteIcon")}};this.createDomButton=function(a,c,d){if(!this._domButtons)if(b("webkit")){var f=function(a,b){var c,d;if(!a){var e={};d=l.doc.styleSheets;for(c=
0;c<d.length;c++)d[c]&&f(d[c],e);return e}e=a.cssRules||[];for(c=0;c<e.length;c++)if(d=e[c],d.href&&d.styleSheet)f(d.styleSheet,b);else if(d.selectorText){var h=d.selectorText.split(/,/);for(d=0;d<h.length;d++){var g=h[d],k=g.split(/>/).length-1;if(g.match(/(mblDomButton\w+)/)&&(g=RegExp.$1,!b[g]||k>b[g]))b[g]=k}}return b};this._domButtons=f()}else this._domButtons={};var g=a.className,k=d||a;if(g.match(/(mblDomButton\w+)/)&&-1===g.indexOf("/")){var t=RegExp.$1,v=4;g.match(/(mblDomButton\w+_(\d+))/)?
v=RegExp.$2-0:void 0!==this._domButtons[t]&&(v=this._domButtons[t]);g=null;b("bb")&&!1!==m.mblBBBoxShadowWorkaround&&(g={style:"-webkit-box-shadow:none"});for(var s=0,u=k;s<v;s++)u=u.firstChild||n.create("div",g,u);d&&(setTimeout(function(){o.remove(a,t)},0),o.add(d,t))}else if(-1!==g.indexOf("."))n.create("img",{src:g},k);else return null;o.add(k,"mblDomButton");c&&e.set(k,c);return k};this.createIcon=function(a,b,c,l,k,m,t){l=l||"";if(a&&0===a.indexOf("mblDomButton"))c?c.className.match(/(mblDomButton\w+)/)&&
o.remove(c,RegExp.$1):c=n.create("div",null,m||k,t),c.title=l,o.add(c,a),this.createDomButton(c);else if(a&&"none"!==a){if(!c||"IMG"!==c.nodeName)c=n.create("img",{alt:l},m||k,t);c.src=(a||"").replace("${theme}",d.currentTheme);this.setupSpriteIcon(c,b);b&&k&&(a=b.split(/[ ,]/),e.set(k,{width:a[2]+"px",height:a[3]+"px"}),o.add(k,"mblSpriteIconParent"));g.connect(c,"ondragstart",f,"stop")}return c};this.iconWrapper=!1;this.setIcon=function(a,b,c,d,e,f,l){if(!e||!a&&!c)return null;if(a&&"none"!==a){if(!this.iconWrapper&&
0!==a.indexOf("mblDomButton")&&!b)c&&"DIV"===c.tagName&&(n.destroy(c),c=null),c=this.createIcon(a,null,c,d,e,f,l),o.add(c,"mblImageIcon");else if(c&&"IMG"===c.tagName&&(n.destroy(c),c=null),c&&n.empty(c),c||(c=n.create("div",null,f||e,l)),this.createIcon(a,b,null,null,c),d)c.title=d;o.remove(e,"mblNoIcon");return c}n.destroy(c);o.add(e,"mblNoIcon");return null}}})},"kso/TabBarLogin":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(k,m,g){return k("moch.dijit.TabBarLogin",
[m],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new g({label:"Log ind",moveTo:"login_view","class":"tabBarButtonLogin"}));this.addChild(new g({label:"Opret bruger",moveTo:"create_user_view","class":"tabBarButtonCreateUser"}));this.addChild(new g({label:"Glemt din kode?",moveTo:"forgot_password_view","class":"tabBarButtonForgotPassword"}))}})})},"dojox/mobile/TabBar":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TabBarButton".split(","),
function(k,m,g,f,c,l,o,n,e,b){return m("dojox.mobile.TabBar",[b,e,n],{iconBase:"",iconPos:"",barType:"tabBar",closable:!1,center:!0,syncWithViews:!1,tag:"ul",selectOne:!0,baseClass:"mblTabBar",_fixedButtonWidth:76,_fixedButtonMargin:17,_largeScreenWidth:500,buildRendering:function(){this.domNode=this.srcNodeRef||c.create(this.tag);this.reset();this.inherited(arguments)},postCreate:function(){if(this.syncWithViews){var b=function(a){var b=k.filter(this.getChildren(),function(b){return b.moveTo==="#"+
a.id||b.moveTo===a.id})[0];b&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",b);this.subscribe("/dojox/mobile/startView",b)}},startup:function(){this._started||(this.inherited(arguments),this.resize())},reset:function(){var b=this._barType;if("object"===typeof this.barType){this._barType=this.barType["*"];for(var a in this.barType)if(f.contains(g.doc.documentElement,a)){this._barType=this.barType[a];break}}else this._barType=this.barType;b&&f.remove(this.domNode,this.baseClass+
(b.charAt(0).toUpperCase()+b.substring(1)));f.add(this.domNode,this.baseClass+(this._barType.charAt(0).toUpperCase()+this._barType.substring(1)))},resize:function(b){var a;b&&b.w?(l.setMarginBox(this.domNode,b),b=b.w):b="absolute"===o.get(this.domNode,"position")?l.getContentBox(this.domNode).w:l.getMarginBox(this.domNode).w;var c=this._fixedButtonWidth,e=this._fixedButtonMargin,g=k.map(this.getChildren(),function(a){return a.domNode});f.toggle(this.domNode,"mblTabBarNoIcons",!k.some(this.getChildren(),
function(a){return a.iconNode1}));f.toggle(this.domNode,"mblTabBarNoText",!k.some(this.getChildren(),function(a){return a.label}));var n=0;if("tabBar"==this._barType)if(this.containerNode.style.paddingLeft="",n=Math.floor((b-(c+2*e)*g.length)/2),b<this._largeScreenWidth||0>n)for(a=0;a<g.length;a++)g[a].style.width=Math.round(98/g.length)+"%",g[a].style.margin="0";else{for(a=0;a<g.length;a++)g[a].style.width=c+"px",g[a].style.margin="0 "+e+"px";if(0<g.length)g[0].style.marginLeft=n+e+"px";this.containerNode.style.padding=
"0px"}else{for(a=0;a<g.length;a++)g[a].style.width=g[a].style.margin="";a=this.getParent();if(this.center&&(!a||!f.contains(a.domNode,"mblHeading"))){n=b;for(a=0;a<g.length;a++)n-=l.getMarginBox(g[a]).w;n=Math.floor(n/2)}this.containerNode.style.paddingLeft=n?n+"px":""}},getSelectedTab:function(){return k.filter(this.getChildren(),function(b){return b.selected})[0]},onCloseButtonClick:function(){return!0}})})},"dojox/mobile/TabBarButton":function(){define("dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./iconUtils,./_ItemBase,./Badge,./sniff".split(","),
function(k,m,g,f,c,l,o,n,e,b,d){return m("dojox.mobile.TabBarButton",b,{icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,transition:"none",tag:"li",badge:"",baseClass:"mblTabBarButton",closeIcon:"mblDomButtonWhiteCross",_selStartMethod:"touch",_selEndMethod:"touch",destroy:function(){this.badgeObj&&delete this.badgeObj;this.inherited(arguments)},inheritParams:function(){if(this.icon&&!this.icon1)this.icon1=this.icon;var a=this.getParent();if(a){if(!this.transition)this.transition=a.transition;
if(this.icon1&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon1=a.iconBase+this.icon1;if(!this.icon1)this.icon1=a.iconBase;if(!this.iconPos1)this.iconPos1=a.iconPos;if(this.icon2&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon2=a.iconBase+this.icon2;if(!this.icon2)this.icon2=a.iconBase||this.icon1;if(!this.iconPos2)this.iconPos2=a.iconPos||this.iconPos1;if(a.closable){if(!this.icon1)this.icon1=this.closeIcon;if(!this.icon2)this.icon2=this.closeIcon;l.add(this.domNode,
"mblTabBarButtonClosable")}}},buildRendering:function(){this.domNode=this.srcNodeRef||o.create(this.tag);if(this.srcNodeRef){if(!this.label)this.label=f.trim(this.srcNodeRef.innerHTML);this.srcNodeRef.innerHTML=""}this.labelNode=this.box=o.create("div",{className:"mblTabBarButtonLabel"},this.domNode);this.inherited(arguments)},startup:function(){if(!this._started){this._dragstartHandle=this.connect(this.domNode,"ondragstart",g.stop);this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");
var a=this.getParent();if(a&&a.closable)this._clickCloseHandler=this.connect(this.iconDivNode,"onclick","_onCloseButtonClick"),this._keydownCloseHandler=this.connect(this.iconDivNode,"onkeydown","_onCloseButtonClick"),this.iconDivNode.tabIndex="0";this.inherited(arguments);if(!this._isOnLine)this._isOnLine=!0,this.set({icon:void 0!==this._pendingIcon?this._pendingIcon:this.icon,icon1:this.icon1,icon2:this.icon2}),delete this._pendingIcon;c.setSelectable(this.domNode,!1)}},onClose:function(){k.publish("/dojox/mobile/tabClose",
[this]);return this.getParent().onCloseButtonClick(this)},_onCloseButtonClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onCloseButtonClick(a)||this.onClose()&&this.destroy()},onCloseButtonClick:function(){},_onClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a)||this.defaultClickAction(a)},onClick:function(){},_setIcon:function(a,b){if(this.getParent()){this._set("icon"+b,a);if(!this.iconDivNode)this.iconDivNode=o.create("div",{className:"mblTabBarButtonIconArea"},
this.domNode,"first");this["iconParentNode"+b]||(this["iconParentNode"+b]=o.create("div",{className:"mblTabBarButtonIconParent mblTabBarButtonIconParent"+b},this.iconDivNode));this["iconNode"+b]=e.setIcon(a,this["iconPos"+b],this["iconNode"+b],this.alt,this["iconParentNode"+b]);this["icon"+b]=a;l.toggle(this.domNode,"mblTabBarButtonHasIcon",a&&"none"!==a)}},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},_getBadgeAttr:function(){return this.badgeObj&&this.badgeObj.domNode.parentNode&&
1==this.badgeObj.domNode.parentNode.nodeType?this.badgeObj.getValue():null},_setBadgeAttr:function(a){if(!this.badgeObj)this.badgeObj=new d({fontSize:11}),n.set(this.badgeObj.domNode,{position:"absolute",top:"0px",right:"0px"});this.badgeObj.setValue(a);a?this.domNode.appendChild(this.badgeObj.domNode):this.domNode===this.badgeObj.domNode.parentNode&&this.domNode.removeChild(this.badgeObj.domNode)},_setSelectedAttr:function(a){this.inherited(arguments);l.toggle(this.domNode,"mblTabBarButtonSelected",
a)}})})},"dojox/mobile/Badge":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","./iconUtils"],function(k,m,g,f,c){return k("dojox.mobile.Badge",null,{value:"0",className:"mblDomButtonRedBadge",fontSize:16,constructor:function(l,k){l&&m.mixin(this,l);this.domNode=k?k:f.create("div");g.add(this.domNode,"mblBadge");-1===this.domNode.className.indexOf("mblDomButton")&&g.add(this.domNode,this.className);if(16!==this.fontSize)this.domNode.style.fontSize=this.fontSize+
"px";c.createDomButton(this.domNode);this.setValue(this.value)},getValue:function(){return this.domNode.firstChild.innerHTML||""},setValue:function(c){this.domNode.firstChild.innerHTML=c}})})},"kso/views/Home":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/dom-construct,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ToolBarButton,dojox/mobile/Heading,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Accordion,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w){return g([o],{id:"kso_home_view",postCreate:function(){var c=this,h=new w;h.confirm("Hj\u00e6lp til forside","Siden viser de nyeste aktive handleplaner.<br /><br />Listen kan indeholde maks. tre handleplaner af gangen.<br /><br />Tryk p\u00e5 en handleplan i listen for se dagbog.");this.addChild(h);sview=new n;var g=new b({label:"min handleplan","class":"headingHome"});g.addChild(new e({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},
onClick:function(){h.show()}}));g.addChild(new e({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){l.toggle("headingActionHome","headingAction-closed");c.resize()}}));this.addChild(g);g=new b({id:"headingActionHome",baseClass:"headingActionHome headingAction-closed"});g.addChild(new e({label:"Opret plan",onClick:function(){f.publish("plan/create",c,null)}}));g.addChild(new e({label:"Opret l\u00f8sning",onClick:function(){f.publish("problem/create",
c,null)}}));this.addChild(g);var k=p.getInstance().getStore("front_plan","kso_plan");sview.addChild(new a({label:"Nyeste handleplaner:","class":"categoryHomePlan"}));g=new Boolean(!0);g.test=function(){return!0};g=new q({store:k,query:{active:!0,hidden:!1,diary_include:g},queryOptions:{sort:[{attribute:"id",descending:!1}],start:0,count:3},itemMap:{do_what:"label"},createListItem:function(a){return new d({label:a.do_what,clickable:!0,item:a,onClick:function(){f.publish("diary/list",c,this.item)},
_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(g);k=p.getInstance().getStore("front_problem","kso_problem");sview.addChild(new a({label:"Nyeste probleml\u00f8sninger:","class":"categoryHomeProblem"}));g=new Boolean(!0);g.test=function(){return!0};g=new q({store:k,query:{hidden:!1},queryOptions:{sort:[{attribute:"id",descending:!1}],start:0,count:3},itemMap:{do_what:"label"},createListItem:function(a){return new d({label:a.do_what,clickable:!0,item:a,onClick:function(){f.publish("problem/edit",
c,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(g);this.addChild(sview);this.addChild(new r)},onStartView:function(){}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_WidgetBase,./iconUtils,./_ItemBase,./ProgressIndicator".split(","),function(k,m,g,f,c,l,o,n,e,b,d){m=m("dojox.mobile.ListItem",b,{rightText:"",rightIcon:"",rightIcon2:"",
deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this.domNode=
this.containerNode=this.srcNodeRef||c.create(this.tag);this.inherited(arguments);this.selected&&f.add(this.domNode,this._selClass);this.header&&f.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);this.labelNode=c.create("div",{className:"mblListItemLabel"});var a=this.srcNodeRef;a&&1===a.childNodes.length&&3===a.firstChild.nodeType&&this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode);if(this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor=
"pointer",this._anchorClickHandle=this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);if(f.contains(this.domNode,"mblVariableHeight"))this.variableHeight=!0;this.variableHeight&&
(f.add(this.domNode,"mblVariableHeight"),this.defer(g.hitch(this,"layoutVariableHeight"),0));if(!this._isOnLine)this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,rightIcon2:void 0!==this._pending_rightIcon2?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?
this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon;a&&a.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},layoutChildren:function(){var a;k.forEach(this.domNode.childNodes,function(b){if(1===b.nodeType){var c=b.getAttribute("layout")||(o.byNode(b)||
{}).layout;c&&(f.add(b,"mblListItemLayout"+c.charAt(0).toUpperCase()+c.substring(1)),this._layoutChildren.push(b),"center"===c&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&!(o.getEnclosingWidget(a.target)||{}).preventTouch&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||
a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))){var b=this.labelNode;if(this.anchorLabel&&a.currentTarget===b)f.add(b,"mblListItemLabelSelected"),setTimeout(function(){f.remove(b,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var c=this.getParent();c.select&&("single"===c.select?this.checked||this.set("checked",!0):"multiple"===c.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(){},
layoutVariableHeight:function(){var a=this.domNode.offsetHeight;if(a!==this.domNodeHeight)this.domNodeHeight=a,k.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var b=this.domNode,c=function(){var c=Math.round((b.offsetHeight-a.offsetHeight)/2)-l.get(b,"paddingTop");a.style.marginTop=c+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=c:c()}},this)},setArrow:function(){if(!this.checked){var a=
"",b=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||"mblDomButtonArrow";a&&this._setRightIconAttr(a)}},_findRef:function(a){for(var b,c="deleteIcon,icon,rightIcon,uncheckIcon,rightIcon2,rightText".split(","),a=k.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,b){if(this._isOnLine){this._set(b,
a);this[b+"Node"]=e.setIcon(a,this[b+"Pos"],this[b+"Node"],this[b+"Title"]||this.alt,this.domNode,this._findRef(b),"before");if(this[b+"Node"]){var c=b.charAt(0).toUpperCase()+b.substring(1);f.add(this[b+"Node"],"mblListItem"+c)}(c=this[b+"Role"])&&this[b+"Node"].setAttribute("role",c)}else this["_pending_"+b]=a},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){if(!this.rightTextNode)this.rightTextNode=c.create("div",
{className:"mblListItemRightText"},this.labelNode,"before");this.rightText=a;this.rightTextNode.innerHTML=this._cv?this._cv(a):a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var b=this.getParent();b&&"single"===b.select&&a&&k.forEach(b.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)},this);this._setRightIconAttr(this.checkClass||
"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);f.toggle(this.domNode,"mblListItemChecked",a);f.toggle(this.domNode,"mblListItemUnchecked",!a);f.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(b&&this.checked!==a)b.onCheckStateChanged(this,a);this._set("checked",a)}else this._pendingChecked=a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!this._progNode)this._progNode=c.create("div",
{className:"mblListItemIcon"}),b=this._prog=new d({size:25,center:!1}),f.add(b.domNode,this.progStyle),this._progNode.appendChild(b.domNode);this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):c.place(this._progNode,this._findRef("icon"),"before");b.start()}else this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),b.stop();this._set("busy",a)},_setSelectedAttr:function(a){this.inherited(arguments);f.toggle(this.domNode,this._selClass,
a)}});m.ChildWidgetProperties={layout:"",preventTouch:!1};g.extend(n,m.ChildWidgetProperties);return m})},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(k,m){return k("dojox.mobile.EdgeToEdgeCategory",m,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory"}})})},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained",
"dijit/_WidgetBase"],function(k,m,g,f,c){return k("dojox.mobile.RoundRectCategory",[c,f],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var c=this.domNode=this.containerNode=this.srcNodeRef||g.create(this.tag);this.inherited(arguments);if(!this.label&&1===c.childNodes.length&&3===c.firstChild.nodeType)this.label=c.firstChild.nodeValue},_setLabelAttr:function(c){this.label=c;this.domNode.innerHTML=this._cv?this._cv(c):c}})})},"dojox/mobile/Accordion":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/dom,dojo/dom-class,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./iconUtils,./lazyLoadUtils,require".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a){var h=m([b,n],{label:"Label",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,baseClass:"mblAccordionTitle",buildRendering:function(){this.inherited(arguments);var a=this.anchorNode=o.create("a",{className:"mblAccordionTitleAnchor"},this.domNode);a.href="javascript:void(0)";this.textBoxNode=o.create("div",{className:"mblAccordionTitleTextBox"},a);this.labelNode=o.create("span",{className:"mblAccordionTitleLabel",innerHTML:this._cv?this._cv(this.label):this.label},
this.textBoxNode);this._isOnLine=this.inheritParams()},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");c.setSelectable(this.domNode,!1)},inheritParams:function(){var a=this.getParent();if(a){if(this.icon1&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon1=a.iconBase+this.icon1;if(!this.icon1)this.icon1=a.iconBase;if(!this.iconPos1)this.iconPos1=a.iconPos;if(this.icon2&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon2=a.iconBase+
this.icon2;if(!this.icon2)this.icon2=a.iconBase||this.icon1;if(!this.iconPos2)this.iconPos2=a.iconPos||this.iconPos1}return!!a},_setIcon:function(a,b){this.getParent()&&(this._set("icon"+b,a),this["iconParentNode"+b]||(this["iconParentNode"+b]=o.create("div",{className:"mblAccordionIconParent mblAccordionIconParent"+b},this.anchorNode,"first")),this["iconNode"+b]=d.setIcon(a,this["iconPos"+b],this["iconNode"+b],this.alt,this["iconParentNode"+b]),this["icon"+b]=a,l.toggle(this.domNode,"mblAccordionHasIcon",
a&&"none"!==a))},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},startup:function(){this._started||(this._isOnLine||this.inheritParams(),this._isOnLine||this.set({icon1:this.icon1,icon2:this.icon2}),this.inherited(arguments))},_onClick:function(a){!1!==this.onClick(a)&&(a=this.getParent(),!a.fixedHeight&&"none"!==this.contentWidget.domNode.style.display?a.collapse(this.contentWidget,!a.animation):a.expand(this.contentWidget,!a.animation))},onClick:function(){},
_setSelectedAttr:function(a){l.toggle(this.domNode,"mblAccordionTitleSelected",a);this._set("selected",a)}}),m=m("dojox.mobile.Accordion",[b,e,n],{iconBase:"",iconPos:"",fixedHeight:!1,singleOpen:!1,animation:!0,roundRect:!1,duration:0.3,baseClass:"mblAccordion",_openSpace:1,startup:function(){if(!this._started){l.contains(this.domNode,"mblAccordionRoundRect")?this.roundRect=!0:this.roundRect&&l.add(this.domNode,"mblAccordionRoundRect");if(this.fixedHeight)this.singleOpen=!0;var a=this.getChildren();
k.forEach(a,this._setupChild,this);var b;k.forEach(a,function(a){a.startup();a._at.startup();this.collapse(a,!0);a.selected&&(b=a)},this);!b&&this.fixedHeight&&(b=a[a.length-1]);b?this.expand(b,!0):this._updateLast();setTimeout(g.hitch(this,function(){this.resize()}),0);this._started=!0}},_setupChild:function(a){if("hidden"!=a.domNode.style.overflow)a.domNode.style.overflow=this.fixedHeight?"auto":"hidden";a._at=new h({label:a.label,alt:a.alt,icon1:a.icon1,icon2:a.icon2,iconPos1:a.iconPos1,iconPos2:a.iconPos2,
contentWidget:a});o.place(a._at.domNode,a.domNode,"before");l.add(a.domNode,"mblAccordionPane")},addChild:function(a,b){this.inherited(arguments);this._started&&(this._setupChild(a),a._at.startup(),a.selected?(this.expand(a,!0),setTimeout(function(){a.domNode.style.height=""},0)):this.collapse(a))},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&a._at.destroy();this.inherited(arguments)},getChildren:function(){return k.filter(this.inherited(arguments),function(a){return!(a instanceof
h)})},getSelectedPanes:function(){return k.filter(this.getChildren(),function(a){return"none"!=a.domNode.style.display})},resize:function(){if(this.fixedHeight){var a=k.filter(this.getChildren(),function(a){return"none"!=a._at.domNode.style.display}),b=this.domNode.clientHeight;k.forEach(a,function(a){b-=a._at.domNode.offsetHeight});this._openSpace=0<b?b:0;a=this.getSelectedPanes()[0];a.domNode.style.webkitTransition="";a.domNode.style.height=this._openSpace+"px"}},_updateLast:function(){var a=this.getChildren();
k.forEach(a,function(b,c){l.toggle(b._at.domNode,"mblAccordionTitleLast",c===a.length-1&&!l.contains(b._at.domNode,"mblAccordionTitleSelected"))},this)},expand:function(b,c){if(b.lazy)a.instantiateLazyWidgets(b.containerNode,b.requires),b.lazy=!1;var d=this.getChildren();k.forEach(d,function(a){a.domNode.style.webkitTransition=c?"":"height "+this.duration+"s linear";if(a===b){a.domNode.style.display="";var d;if(this.fixedHeight)d=this._openSpace;else if(d=parseInt(a.height||a.domNode.getAttribute("height")),
!d)a.domNode.style.height="",d=a.domNode.offsetHeight,a.domNode.style.height="0px";setTimeout(function(){a.domNode.style.height=d+"px"},0);this.select(b)}else this.singleOpen&&this.collapse(a,c)},this);this._updateLast()},collapse:function(a,b){if("none"!==a.domNode.style.display){a.domNode.style.webkitTransition=b?"":"height "+this.duration+"s linear";a.domNode.style.height="0px";if(!f("webkit")||b)a.domNode.style.display="none",this._updateLast();else{var c=this;setTimeout(function(){a.domNode.style.display=
"none";c._updateLast();if(!c.fixedHeight&&c.singleOpen)for(var b=c.getParent();b;b=b.getParent())if(l.contains(b.domNode,"mblView")){b&&b.resize&&b.resize();break}},1E3*this.duration)}this.deselect(a)}},select:function(a){a._at.set("selected",!0)},deselect:function(a){a._at.set("selected",!1)}});m.ChildWidgetProperties={alt:"",label:"",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,lazy:!1};g.extend(b,m.ChildWidgetProperties);return m})},"dojox/mobile/lazyLoadUtils":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/window,dojo/_base/Deferred,dojo/ready".split(","),
function(k,m,g,f,c,l){return new function(){this._lazyNodes=[];var o=this;g.parseOnLoad&&l(90,function(){var c=m.filter(f.body().getElementsByTagName("*"),function(a){return"true"===a.getAttribute("lazy")||(a.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/)}),e,b,d,a;for(e=0;e<c.length;e++)m.forEach(["dojoType","data-dojo-type"],function(f){d=m.filter(c[e].getElementsByTagName("*"),function(a){return a.getAttribute(f)});for(b=0;b<d.length;b++)a=d[b],a.setAttribute("__"+f,a.getAttribute(f)),
a.removeAttribute(f),o._lazyNodes.push(a)})});l(function(){for(var c=0;c<o._lazyNodes.length;c++){var e=o._lazyNodes[c];m.forEach(["dojoType","data-dojo-type"],function(b){e.getAttribute("__"+b)&&(e.setAttribute(b,e.getAttribute("__"+b)),e.removeAttribute("__"+b))})}delete o._lazyNodes});this.instantiateLazyWidgets=function(f,e,b){for(var d=new c,e=e?e.split(/,/):[],a=f.getElementsByTagName("*"),h=a.length,l=0;l<h;l++){var g=a[l].getAttribute("dojoType")||a[l].getAttribute("data-dojo-type");g&&(e.push(g),
g=(g=a[l].getAttribute("data-dojo-mixins"))?g.split(/, */):[],e=e.concat(g))}if(0===e.length)return!0;if(k.require)return m.forEach(e,function(a){k.require(a)}),k.parser.parse(f),b&&b(f),!0;e=m.map(e,function(a){return a.replace(/\./g,"/")});require(e,function(){k.parser.parse(f);b&&b(f);d.resolve(!0)});return d}}})},"kso/BaseStoreList":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojox/mobile/EdgeToEdgeStoreList"],function(k,m,g){return k([g],{constructor:function(f){this.inherited(arguments)},
onUpdate:function(f,c){var l=this.getChildren();c===l.length?this.addChild(this.createListItem(f)):l[c].set("item",f)},refresh:function(){if(!this.store)return null;var f=this,c=this.store.query(this.query,this.queryOptions);m.when(c,function(l){if(l.items)l=l.items;c.observe&&c.observe(function(c,l,e){if(-1==l)f.onUpdate(c,e);else if(-1==e)f.onDelete(c,l);else f.onUpdate(c,e)},!0);f.onComplete(l)},function(c){f.onError(c)});return c}})})},"dojox/mobile/EdgeToEdgeStoreList":function(){define(["dojo/_base/declare",
"./EdgeToEdgeList","./_StoreListMixin"],function(k,m,g){return k("dojox.mobile.EdgeToEdgeStoreList",[m,g],{})})},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(k,m){return k("dojox.mobile.EdgeToEdgeList",m,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList"}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase".split(","),
function(k,m,g,f,c,l,o,n,e){return m("dojox.mobile.RoundRectList",[e,n,o],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",buildRendering:function(){this.domNode=this.srcNodeRef||l.create(this.tag);this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],f.hitch(this,function(b){m.safeMixin(this,new b)}));this.connect(this.domNode,
"onselectstart",g.stop);if(this.syncWithViews){var b=function(b){var a=k.filter(this.getChildren(),function(a){return a.moveTo==="#"+b.id||a.moveTo===b.id})[0];a&&a.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",b);this.subscribe("/dojox/mobile/startView",b)}},resize:function(){k.forEach(this.getChildren(),function(b){b.resize&&b.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(b){this._set("stateful",b);this.selectOne=b;k.forEach(this.getChildren(),function(b){b.setArrow&&
b.setArrow()})},deselectItem:function(b){b.set("selected",!1)},deselectAll:function(){k.forEach(this.getChildren(),function(b){b.set("selected",!1)})},selectItem:function(b){b.set("selected",!0)}})})},"dojox/mobile/_StoreListMixin":function(){define(["dojo/_base/array","dojo/_base/declare","./_StoreMixin","./ListItem"],function(k,m,g,f){return m("dojox.mobile._StoreListMixin",g,{append:!1,itemMap:null,buildRendering:function(){this.inherited(arguments);if(this.store){var c=this.store;this.store=null;
this.setStore(c,this.query,this.queryOptions)}},createListItem:function(c){var l={};c.label||(l.label=c[this.labelProperty]);for(var g in c)l[this.itemMap&&this.itemMap[g]||g]=c[g];return new f(l)},generateList:function(c){this.append||k.forEach(this.getChildren(),function(c){c.destroyRecursive()});k.forEach(c,function(c){this.addChild(this.createListItem(c));c[this.childrenProperty]&&k.forEach(c[this.childrenProperty],function(c){this.addChild(this.createListItem(c))},this)},this)},onComplete:function(c){this.generateList(c)},
onError:function(){},onUpdate:function(c,f){f===this.getChildren().length?this.addChild(this.createListItem(c)):this.getChildren()[f].set(c)},onDelete:function(c,f){this.getChildren()[f].destroyRecursive()}})})},"dojox/mobile/_StoreMixin":function(){define(["dojo/_base/Deferred","dojo/_base/declare"],function(k,m){return m("dojox.mobile._StoreMixin",null,{store:null,query:null,queryOptions:null,labelProperty:"label",childrenProperty:"children",setStore:function(g,f,c){if(g===this.store)return null;
if(g)g.getValue=function(c,f){return c[f]};this.store=g;this._setQuery(f,c);return this.refresh()},setQuery:function(g,f){this._setQuery(g,f);return this.refresh()},_setQuery:function(g,f){this.query=g;this.queryOptions=f||this.queryOptions},refresh:function(){if(!this.store)return null;var g=this,f=this.store.query(this.query,this.queryOptions);k.when(f,function(c){if(c.items)c=c.items;f.observe&&f.observe(function(c,f,k){if(-1<f)g.onDelete(c,f);else if(-1<k)g.onUpdate(c,k)});g.onComplete(c)},function(c){g.onError(c)});
return f}})})},"kso/TabBar":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(k,m,g){return k("moch.dijit.TabBar",[m],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new g({moveTo:"kso_home_view","class":"tabBarButtonHome",icon1:"kso/images/btn_home.png"}));this.addChild(new g({moveTo:"kso_planlist_view","class":"tabBarButtonPlan",icon1:"kso/images/btn_plan.png"}));this.addChild(new g({moveTo:"kso_problemlist_view",
"class":"tabBarButtonProblem",icon1:"kso/images/btn_problem.png"}));this.addChild(new g({"class":"tabBarButtonOption",icon1:"kso/images/btn_option.png"}))}})})},"kso/SimpleDialog":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojox/mobile/ScrollableView,dojox/mobile/SimpleDialog,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/Slider".split(","),function(k,m,g,f,c,l,o,n){return k("moch.dijit.Dialog",[c],{confirm:function(c,b){var d=new f;g.create("div",{"class":"mblSimpleDialogTitle",
innerHTML:c},d.domNode);g.create("div",{"class":"mblSimpleDialogText",innerHTML:b},d.domNode);this.domNode.appendChild(d.domNode);this.domNode.appendChild((new l({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:m.hitch(this,function(){this.hide()})})).domNode)},datePicker:function(c,b){g.create("div",{"class":"mblSimpleDialogTitle",innerHTML:c},this.domNode);this.domNode.appendChild((new o({name:b})).domNode);this.domNode.appendChild((new l({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",
onClick:m.hitch(this,function(){this.hide()})})).domNode)},sliderPicker:function(){g.create("div",{"class":"mblSimpleDialogTitle",innerHTML:"test"},this.domNode);this.domNode.appendChild((new n({label:"Hvor sikker er du (0-10)?",name:"do_rating_",value:0,min:0,max:10,orientation:"H"})).domNode);this.domNode.appendChild((new l({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:m.hitch(this,function(){this.hide()})})).domNode)}})})},"dojox/mobile/SimpleDialog":function(){define("dojo/_base/declare,dojo/_base/window,dojo/dom-class,dojo/dom-construct,./Pane,./iconUtils".split(","),
function(k,m,g,f,c,l){return k("dojox.mobile.SimpleDialog",c,{top:"auto",left:"auto",modal:!0,closeButton:!1,closeButtonClass:"mblDomButtonSilverCircleRedCross",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSimpleDialog",_cover:[],buildRendering:function(){this.containerNode=f.create("div",{className:"mblSimpleDialogContainer"});if(this.srcNodeRef)for(var c=0,k=this.srcNodeRef.childNodes.length;c<k;c++)this.containerNode.appendChild(this.srcNodeRef.removeChild(this.srcNodeRef.firstChild));this.inherited(arguments);
g.add(this.domNode,"mblSimpleDialogDecoration");this.domNode.style.display="none";this.domNode.appendChild(this.containerNode);if(this.closeButton)this.closeButtonNode=f.create("div",{className:"mblSimpleDialogCloseBtn "+this.closeButtonClass},this.domNode),l.createDomButton(this.closeButtonNode),this._clickHandle=this.connect(this.closeButtonNode,"onclick","_onCloseButtonClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onKeyDown")},startup:function(){this._started||(this.inherited(arguments),
m.body().appendChild(this.domNode))},addCover:function(){this._cover[0]?this._cover[0].style.display="":this._cover[0]=f.create("div",{className:"mblSimpleDialogCover"},m.body())},removeCover:function(){this._cover[0].style.display="none"},_onCloseButtonClick:function(c){!1!==this.onCloseButtonClick(c)&&this.hide()},onCloseButtonClick:function(){},_onKeyDown:function(c){27==c.keyCode&&this.hide()},refresh:function(){var c=this.domNode;if(this.closeButton){var f=this.closeButtonNode,e=Math.round(f.offsetHeight/
2);f.style.top=-e+"px";f.style.left=c.offsetWidth-e+"px"}"auto"===this.top?(f=m.global.innerHeight||m.doc.documentElement.clientHeight,c.style.top=Math.round((f-c.offsetHeight)/2)+"px"):c.style.top=this.top;"auto"===this.left?(f=m.global.innerWidth||m.doc.documentElement.clientWidth,c.style.left=Math.round((f-c.offsetWidth)/2)+"px"):c.style.left=this.left},show:function(){if(""!==this.domNode.style.display)this.modal&&this.addCover(),this.domNode.style.display="",this.refresh(),this.domNode.focus()},
hide:function(){if("none"!==this.domNode.style.display)this.domNode.style.display="none",this.modal&&this.removeCover()}})})},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(k,m,g,f){return m("dojox.mobile.Pane",[f,g],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},resize:function(){k.forEach(this.getChildren(),function(c){c.resize&&c.resize()})}})})},
"dojox/mobile/DatePicker":function(){define(["dojo/_base/lang","./_PickerChooser!DatePicker"],function(k,m){return k.setObject("dojox.mobile.DatePicker",m)})},"dojox/mobile/_PickerChooser":function(){define(["dojo/_base/lang","dojo/_base/window"],function(k,m){return{load:function(g,f,c){var l=m.global._no_dojo_dm||k.getObject("dojox.mobile",!0);f([("android"===l.currentTheme?"./ValuePicker":"./SpinWheel")+g],c)}}})},"dojox/mobile/Slider":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/keys,dijit/_WidgetBase,dijit/form/_FormValueMixin".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a){return g("dojox.mobile.Slider",[d,a],{value:0,min:0,max:100,step:1,baseClass:"mblSlider",flip:!1,orientation:"auto",halo:"8pt",buildRendering:function(){this.focusNode=this.domNode=o.create("div",{});this.valueNode=o.create("input",this.srcNodeRef&&this.srcNodeRef.name?{type:"hidden",name:this.srcNodeRef.name}:{type:"hidden"},this.domNode,"last");var a=o.create("div",{style:{position:"relative",height:"100%",width:"100%"}},this.domNode,"last");this.progressBar=o.create("div",
{style:{position:"absolute"},"class":"mblSliderProgressBar"},a,"last");this.touchBox=o.create("div",{style:{position:"absolute"},"class":"mblSliderTouchBox"},a,"last");this.handle=o.create("div",{style:{position:"absolute"},"class":"mblSliderHandle"},a,"last");this.inherited(arguments)},_setValueAttr:function(a,b){a=Math.max(Math.min(a,this.max),this.min);this.valueNode.value=a;this.inherited(arguments);if(this._started){this.focusNode.setAttribute("aria-valuenow",a);var c=100*(a-this.min)/(this.max-
this.min);!0===b?(l.add(this.handle,"mblSliderTransition"),l.add(this.progressBar,"mblSliderTransition")):(l.remove(this.handle,"mblSliderTransition"),l.remove(this.progressBar,"mblSliderTransition"));e.set(this.handle,this._attrs.handleLeft,(this._reversed?100-c:c)+"%");e.set(this.progressBar,this._attrs.width,c+"%")}},postCreate:function(){function a(b){function h(a){d=l?a[this._attrs.pageX]:a.touches?a.touches[0][this._attrs.pageX]:a[this._attrs.clientX];g=d-H;g=Math.min(Math.max(g,0),D);a=this.step?
(this.max-this.min)/this.step:D;if(1>=a||Infinity==a)a=D;o=(this.max-this.min)*Math.round(g*a/D)/a;o=this._reversed?this.max-o:this.min+o}b.preventDefault();var l="mousedown"==b.type,s=n.position(w,!1),v=e.get(c.body(),"zoom")||1;isNaN(v)&&(v=1);var t=e.get(w,"zoom")||1;isNaN(t)&&(t=1);var H=s[this._attrs.x]*t*v+n.docScroll()[this._attrs.x],D=s[this._attrs.w]*t*v;f.hitch(this,h)(b);b.target==this.touchBox&&this.set("value",o,!0);k.forEach(I,m.disconnect);var b=c.doc.documentElement,I=[this.connect(b,
l?"onmousemove":"ontouchmove",function(a){a.preventDefault();f.hitch(this,h)(a);this.set("value",o,!1)}),this.connect(b,l?"onmouseup":"ontouchend",function(a){a.preventDefault();k.forEach(I,f.hitch(this,"disconnect"));I=[];this.set("value",this.value,!0)})]}this.inherited(arguments);var d,g,o,w=this.domNode;if("auto"==this.orientation)this.orientation=w.offsetHeight<=w.offsetWidth?"H":"V";l.add(this.domNode,k.map(this.baseClass.split(" "),f.hitch(this,function(a){return a+this.orientation})));var t=
"V"!=this.orientation,v=t?this.isLeftToRight():!1,s=!!this.flip;this._reversed=!(t&&(v&&!s||!v&&s)||!t&&s);this._attrs=t?{x:"x",w:"w",l:"l",r:"r",pageX:"pageX",clientX:"clientX",handleLeft:"left",left:this._reversed?"right":"left",width:"width"}:{x:"y",w:"h",l:"t",r:"b",pageX:"pageY",clientX:"clientY",handleLeft:"top",left:this._reversed?"bottom":"top",width:"height"};this.progressBar.style[this._attrs.left]="0px";this.connect(this.touchBox,"ontouchstart",a);this.connect(this.touchBox,"onmousedown",
a);this.connect(this.handle,"ontouchstart",a);this.connect(this.handle,"onmousedown",a);this.connect(this.domNode,"onkeypress",function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){var c=this.step,d=1;switch(a.keyCode){case b.HOME:c=this.min;break;case b.END:c=this.max;break;case b.RIGHT_ARROW:d=-1;case b.LEFT_ARROW:c=this.value+d*(s&&t?c:-c);break;case b.DOWN_ARROW:d=-1;case b.UP_ARROW:c=this.value+d*(!s||t?c:-c);break;default:return}a.preventDefault();this._setValueAttr(c,
!1)}});this.connect(this.domNode,"onkeyup",function(a){!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&this._setValueAttr(this.value,!0)});this.startup();this.set("value",this.value)}})})},"kso/views/PlanList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t){return g([o],{id:"kso_planlist_view",postCreate:function(){var h=this,g=new t;g.confirm("Hj\u00e6lp til handleplan",'Siden viser alle handleplaner.<br /><br />Tryk p\u00e5 "+" knappen for at oprette en ny handleplan.<br /><br />Tryk p\u00e5 en handleplan for se dagbogen eller rediger handleplanen.');this.addChild(g);sview=new n;var k=new d({label:"handleplaner","class":"headingPlan"});k.addChild(new a({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",
style:{"float":"right"},onClick:function(){g.show()}}));k.addChild(new a({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){l.toggle("headingActionPlanList","headingAction-closed");h.resize()}}));this.addChild(k);k=new d({id:"headingActionPlanList",baseClass:"headingActionPlan headingAction-closed"});k.addChild(new a({label:"Opret",onClick:function(){f.publish("plan/create",h,null)}}));this.addChild(k);k=q.getInstance().getStore("kso_plan","kso_plan");
this.addChild(new b({label:"Alle handleplaner:","class":"categoryPlan"}));var m=new Boolean(!0);m.test=function(){return!0};k=new r({store:k,query:{diary_include:m,hidden:!1},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"do_evaluate",descending:!0},{attribute:"id",descending:!0}]},createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,onClick:function(){a.active?f.publish("diary/list",h,this.item):f.publish("plan/diary",h,this.item)},_setItemAttr:function(a){this.set("label",
a.do_what);a.active?this.set("rightText",""):this.set("rightText","Afsluttet");this.item=a}})}});sview.addChild(k);this.addChild(sview);this.addChild(new w);f.subscribe("plan/list",c.hitch(this,function(a){a.performTransition("kso_planlist_view",1,"slide")}))},onStartView:function(){}})})},"kso/views/PlanCreate":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C){return g([p],{id:"kso_plancreate_view",_form:null,_item:null,_date_start:null,_do_in_days:null,_do_success:null,postCreate:function(){var b=this,d=new C,l;d.confirm("Hj\u00e6lp til handleplan",'Siden viser oprettelse af handleplan.<br /><br />Angiv hvor sikker du er p\u00e5 handleplanen med skala fra en til ti.<br /><br />Tryk p\u00e5 "aktiv/sluk" knappen for at aktivere handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette en handleplan.');
this.addChild(d);var g=new C;g.confirm("Hj\u00e6lp til vurdering af succes","Du b\u00f8r v\u00e6rer mere sikker p\u00e5 din handleplan.<br/ ><br/ >Vurderingen b\u00f8r ligger p\u00e5 minimum syv.<br/ ><br/ >Juster venligst igen.");this.addChild(g);l=new C;l.datePicker("V\u00e6lg en start dato","_date_start");this.addChild(l);l=new C;l.sliderPicker();this.addChild(l);sview=new q;l=new v({label:"Opret handleplan","class":"headingPlan"});var k=new s({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",
style:{"float":"left"},moveTo:"kso_home_view"});l.addChild(k);l.addChild(new s({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));l.addChild(new s({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionPlanCreate","headingAction-closed");b.resize()}}));this.addChild(l);l=new v({id:"headingActionPlanCreate",baseClass:"headingActionPlan"});var n=new s({label:"Annuller",
moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});l.addChild(n);l.addChild(new s({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(l);l=new h({orientation:"vert"});this._date_start=new G({name:"date_start",label:"Start dato?"});l.addChild(this._date_start);var m=new H({label:"Hvor mange dage (1-21)?"});this._do_in_days=new D({labelFrom:1,labelTo:21,style:{width:"40px"},value:7});m.addChild(this._do_in_days);l.addChild(m);m=new t({name:"do_what",label:"Hvad?","class":"mochInput",
placeHolder:"fx. G\u00e5 en tur rundt om boligblokken",trim:!0});l.addChild(m);m=new t({name:"do_how_much",label:"Hvor meget?","class":"mochInput",placeHolder:"fx. 3 gange",trim:!0});l.addChild(m);m=new t({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"fx. F\u00f8r frokost",trim:!0});l.addChild(m);m=new t({name:"do_how_often",label:"Hvor ofte?","class":"mochInput",placeHolder:"fx. 3 gange om ugen",trim:!0});l.addChild(m);m=new H({label:"Vurdering for succes (0-10)?",onValueChanged:function(){7>
b._do_success.get("value")&&g.show()}});this._do_success=new D({labelFrom:0,labelTo:10,style:{width:"40px"},value:10});m.addChild(this._do_success);l.addChild(m);this._form=new a;this._form.domNode.appendChild(l.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new B);f.subscribe("plan/create",c.hitch(this,function(a,b){k.set("moveTo",a.id);n.set("moveTo",a.id);this._item=c.clone(b);b&&(this._item.do_what+=" KOPI");this._form.set("value",this._item);a.performTransition("kso_plancreate_view",
1,"slide")}))},onSubmit:function(a){l.stop(a);var a=z.getInstance().getStore("kso_plan","kso_plan"),d=this._form.get("value"),d=c.mixin(this._item,d);d.active=!0;d.do_in_days=this._do_in_days.get("value");d.do_success=this._do_success.get("value");d.diary_include=!0;d.diary=[];for(var e=new Date(this._date_start.get("value")),h=0;h<parseInt(d.do_in_days);h++){var g=E.date_to_iso(b.add(e,"day",h));d.diary.push({use_at:g})}a.add(d);f.publish("plan/list",this)},onStartView:function(){}})})},"dojo/date":function(){define(["./has",
"./_base/lang"],function(k,m){var g={};g.getDaysInMonth=function(f){var c=f.getMonth(),l=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==c&&g.isLeapYear(f)?29:l[c]};g.isLeapYear=function(f){f=f.getFullYear();return!(f%400)||!(f%4)&&!!(f%100)};g.getTimezoneName=function(f){var c=f.toString(),l="",g=c.indexOf("(");if(-1<g)l=c.substring(++g,c.indexOf(")"));else if(g=/([A-Z\/]+) \d{4}$/,c=c.match(g))l=c[1];else if(c=f.toLocaleString(),g=/ ([A-Z\/]+)$/,c=c.match(g))l=c[1];return"AM"==l||"PM"==l?"":l};
g.compare=function(f,c,l){f=new Date(+f);c=new Date(+(c||new Date));"date"==l?(f.setHours(0,0,0,0),c.setHours(0,0,0,0)):"time"==l&&(f.setFullYear(0,0,0),c.setFullYear(0,0,0));return f>c?1:f<c?-1:0};g.add=function(f,c,l){var g=new Date(+f),k=!1,e="Date";switch(c){case "day":break;case "weekday":var b;(c=l%5)?b=parseInt(l/5):(c=0<l?5:-5,b=0<l?(l-5)/5:(l+5)/5);var d=f.getDay(),a=0;6==d&&0<l?a=1:0==d&&0>l&&(a=-1);d+=c;if(0==d||6==d)a=0<l?2:-2;l=7*b+c+a;break;case "year":e="FullYear";k=!0;break;case "week":l*=
7;break;case "quarter":l*=3;case "month":k=!0;e="Month";break;default:e="UTC"+c.charAt(0).toUpperCase()+c.substring(1)+"s"}if(e)g["set"+e](g["get"+e]()+l);k&&g.getDate()<f.getDate()&&g.setDate(0);return g};g.difference=function(f,c,l){var c=c||new Date,l=l||"day",k=c.getFullYear()-f.getFullYear(),n=1;switch(l){case "quarter":f=f.getMonth();c=c.getMonth();f=Math.floor(f/3)+1;c=Math.floor(c/3)+1;n=c+4*k-f;break;case "weekday":k=Math.round(g.difference(f,c,"day"));l=parseInt(g.difference(f,c,"week"));
if(0==k%7)k=5*l;else{var n=0,e=f.getDay(),b=c.getDay(),l=parseInt(k/7),c=k%7,f=new Date(f);f.setDate(f.getDate()+7*l);f=f.getDay();if(0<k)switch(!0){case 6==e:n=-1;break;case 0==e:n=0;break;case 6==b:n=-1;break;case 0==b:n=-2;break;case 5<f+c:n=-2}else if(0>k)switch(!0){case 6==e:n=0;break;case 0==e:n=1;break;case 6==b:n=2;break;case 0==b:n=1;break;case 0>f+c:n=2}k=k+n-2*l}n=k;break;case "year":n=k;break;case "month":n=c.getMonth()-f.getMonth()+12*k;break;case "week":n=parseInt(g.difference(f,c,"day")/
7);break;case "day":n/=24;case "hour":n/=60;case "minute":n/=60;case "second":n/=1E3;case "millisecond":n*=c.getTime()-f.getTime()}return Math.round(n)};m.mixin(m.getObject("dojo.date",!0),g);return g})},"dojox/mobile/Switch":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/touch,dijit/_Contained,dijit/_WidgetBase,./sniff".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a){return g("dojox.mobile.Switch",
[d,b],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",_createdMasks:[],buildRendering:function(){this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:o.create("span");this.inherited(arguments);var a=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];if(a=a.match(/mblSw.*Shape\d*/))this.shape=a;l.add(this.domNode,this.shape);this.domNode.innerHTML='<div class="mblSwitchInner"><div class="mblSwitchBg mblSwitchBgLeft"><div class="mblSwitchText mblSwitchTextLeft"></div></div><div class="mblSwitchBg mblSwitchBgRight"><div class="mblSwitchText mblSwitchTextRight"></div></div><div class="mblSwitchKnob"></div><input type="hidden"'+
(this.name?' name="'+this.name+'"':"")+"></div></div>";a=this.inner=this.domNode.firstChild;this.left=a.childNodes[0];this.right=a.childNodes[1];this.knob=a.childNodes[2];this.input=a.childNodes[3]},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");this._startHandle=this.connect(this.domNode,e.press,"onTouchStart");this._initialValue=this.value},_changeState:function(a,b){var c="on"===a;this.left.style.display=
"";this.right.style.display="";this.inner.style.left="";b&&l.add(this.domNode,"mblSwitchAnimation");l.remove(this.domNode,c?"mblSwitchOff":"mblSwitchOn");l.add(this.domNode,c?"mblSwitchOn":"mblSwitchOff");var d=this;setTimeout(function(){d.left.style.display=c?"":"none";d.right.style.display=!c?"":"none";l.remove(d.domNode,"mblSwitchAnimation")},b?300:0)},_createMaskImage:function(){if(!this._hasMaskImage&&(this._width=this.domNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,a("webkit"))){var b=
n.get(this.left,"borderTopLeftRadius");if("0px"!=b){var d=b.split(" "),b=parseFloat(d[0]),d=1==d.length?b:parseFloat(d[1]),e=this.domNode.offsetWidth,f=this.domNode.offsetHeight,l=(this.shape+"Mask"+e+f+b+d).replace(/\./,"_");if(!this._createdMasks[l]){this._createdMasks[l]=1;var g=c.doc.getCSSCanvasContext("2d",l,e,f);g.fillStyle="#000000";g.beginPath();b==d?(g.moveTo(b,0),g.arcTo(0,0,0,b,b),g.lineTo(0,f-b),g.arcTo(0,f,b,f,b),g.lineTo(e-b,f),g.arcTo(e,f,e,b,b),g.lineTo(e,b),g.arcTo(e,0,e-b,0,b)):
(f=Math.PI,g.scale(1,d/b),g.moveTo(b,0),g.arc(b,b,b,1.5*f,0.5*f,!0),g.lineTo(e-b,2*b),g.arc(e-b,b,b,0.5*f,1.5*f,!0));g.closePath();g.fill()}this.domNode.style.webkitMaskImage="-webkit-canvas("+l+")"}}},_onClick:function(a){if(!(a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(a){this._moved=!1;this.innerStartX=
this.inner.offsetLeft;if(!this._conn)this._conn=[this.connect(this.inner,e.move,"onTouchMove"),this.connect(this.inner,e.release,"onTouchEnd")];this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.left.style.display="";this.right.style.display="";f.stop(a);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var b=this.innerStartX+a;b<=-(this._width-
10)&&(b=-this._width);-10<=b&&(b=0);this.inner.style.left=b+"px";if(10<Math.abs(a))this._moved=!0},onTouchEnd:function(){k.forEach(this._conn,m.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(a("touch")&&!(4.1<=a("android"))){var b=c.doc.createEvent("MouseEvents");b.initEvent("click",!0,!0);this.inner.dispatchEvent(b)}}else if(b=this.inner.offsetLeft<-(this._width/2)?"off":"on",this._changeState(b,!0),b!=this.value)this.value=this.input.value=b,this.onStateChanged(b)},onStateChanged:function(){},
_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}})})},"dojox/mobile/ValuePicker":function(){define(["dojo/_base/declare","./_PickerBase","./ValuePickerSlot"],function(k,
m){return k("dojox.mobile.ValuePicker",m,{baseClass:"mblValuePicker",onValueChanged:function(){}})})},"dojox/mobile/_PickerBase":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(k,m,g,f,c){return m("dojox.mobile._PickerBase",[c,f,g],{slotClasses:[],slotProps:[],slotOrder:[],buildRendering:function(){this.inherited(arguments);this.slots=[];for(var c=0;c<this.slotClasses.length;c++){var f=this.slotOrder.length?this.slotOrder[c]:
c,g=new this.slotClasses[f](this.slotProps[f]);this.addChild(g);this.slots[f]=g}},startup:function(){this._started||(this.inherited(arguments),this.reset())},getSlots:function(){return this.slots.length?this.slots:k.filter(this.getChildren(),function(c){return-1!==c.declaredClass.indexOf("Slot")})},_getValuesAttr:function(){return k.map(this.getSlots(),function(c){return c.get("value")})},_setValuesAttr:function(c){k.forEach(this.getSlots(),function(f,g){f.set("value",c[g])})},_setColorsAttr:function(c){k.forEach(this.getSlots(),
function(f,g){f.setColor&&f.setColor(c[g])})},reset:function(){k.forEach(this.getSlots(),function(c){c.setInitialValue()})}})})},"dojox/mobile/ValuePickerSlot":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/touch,dijit/_WidgetBase,./iconUtils".split(","),function(k,m,g,f,c,l,o,n,e,b){return m("dojox.mobile.ValuePickerSlot",e,{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,readOnly:!1,
tabIndex:"0",baseClass:"mblValuePickerSlot",buildRendering:function(){this.inherited(arguments);this.initLabels();if(0<this.labels.length){this.items=[];for(i=0;i<this.labels.length;i++)this.items.push([i,this.labels[i]])}this.plusBtnNode=o.create("div",{className:"mblValuePickerSlotPlusButton mblValuePickerSlotButton",title:"+"},this.domNode);this.plusIconNode=o.create("div",{className:"mblValuePickerSlotIcon"},this.plusBtnNode);b.createIcon("mblDomButtonGrayPlus",null,this.plusIconNode);this.inputAreaNode=
o.create("div",{className:"mblValuePickerSlotInputArea"},this.domNode);this.inputNode=o.create("input",{className:"mblValuePickerSlotInput",readonly:this.readOnly},this.inputAreaNode);this.minusBtnNode=o.create("div",{className:"mblValuePickerSlotMinusButton mblValuePickerSlotButton",title:"-"},this.domNode);this.minusIconNode=o.create("div",{className:"mblValuePickerSlotIcon"},this.minusBtnNode);b.createIcon("mblDomButtonGrayMinus",null,this.minusIconNode);if(""===this.value&&0<this.items.length)this.value=
this.items[0][1];this._initialValue=this.value},startup:function(){if(!this._started)this._handlers=[this.connect(this.plusBtnNode,n.press,"_onTouchStart"),this.connect(this.minusBtnNode,n.press,"_onTouchStart"),this.connect(this.plusBtnNode,"onkeydown","_onClick"),this.connect(this.minusBtnNode,"onkeydown","_onClick"),this.connect(this.inputNode,"onchange",f.hitch(this,function(b){this._onChange(b)}))],this.inherited(arguments)},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var b=this.labels=
[],a=this.zeroPad&&Array(this.zeroPad).join("0"),c=this.labelFrom;c<=this.labelTo;c+=this.step)b.push(this.zeroPad?(a+c).slice(-this.zeroPad):c+"")},spin:function(b){for(var a=-1,c=this.get("value"),e=this.items.length,f=0;f<e;f++)if(this.items[f][1]===c){a=f;break}-1!=c&&(a+=b,0>a&&(a+=(Math.abs(Math.ceil(a/e))+1)*e),this.set("value",this.items[a%e][1]))},setInitialValue:function(){this.set("value",this._initialValue)},_onClick:function(b){if(!(b&&"keydown"===b.type&&13!==b.keyCode||!1===this.onClick(b))){b=
b.currentTarget;if(b===this.plusBtnNode||b===this.minusBtnNode)this._btn=b;this.spin(this._btn===this.plusBtnNode?1:-1)}},onClick:function(){},_onChange:function(b){!1!==this.onChange(b)&&(b=this.validate(this.get("value")),this.set("value",b.length?b[0][1]:this.value))},onChange:function(){},validate:function(b){return k.filter(this.items,function(a){return(a[1]+"").toLowerCase()==(b+"").toLowerCase()})},_onTouchStart:function(b){this._conn=[this.connect(c.body(),n.move,"_onTouchMove"),this.connect(c.body(),
n.release,"_onTouchEnd")];this.touchStartX=b.touches?b.touches[0].pageX:b.clientX;this.touchStartY=b.touches?b.touches[0].pageY:b.clientY;l.add(b.currentTarget,"mblValuePickerSlotButtonSelected");this._btn=b.currentTarget;if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._interval)clearInterval(this._interval),this._interval=null;this._timer=setTimeout(f.hitch(this,function(){this._interval=setInterval(f.hitch(this,function(){this.spin(this._btn===this.plusBtnNode?1:-1)}),60);this._timer=
null}),1E3);g.stop(b)},_onTouchMove:function(b){var a=b.touches?b.touches[0].pageY:b.clientY;if(4<=Math.abs((b.touches?b.touches[0].pageX:b.clientX)-this.touchStartX)||4<=Math.abs(a-this.touchStartY)){if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._interval)clearInterval(this._interval),this._interval=null;k.forEach(this._conn,this.disconnect,this);l.remove(this._btn,"mblValuePickerSlotButtonSelected")}},_onTouchEnd:function(b){if(this._timer)clearTimeout(this._timer),this._timer=
null;k.forEach(this._conn,this.disconnect,this);l.remove(this._btn,"mblValuePickerSlotButtonSelected");this._interval?(clearInterval(this._interval),this._interval=null):this._onClick(b)},_getKeyAttr:function(){var b=this.get("value"),a=k.filter(this.items,function(a){return a[1]===b})[0];return a?a[0]:null},_getValueAttr:function(){return this.inputNode.value},_setValueAttr:function(b){this.inputNode.value=b;this._set("value",b);if((b=this.getParent())&&b.onValueChanged)b.onValueChanged(this)},_setTabIndexAttr:function(b){this.plusBtnNode.setAttribute("tabIndex",
b);this.minusBtnNode.setAttribute("tabIndex",b)}})})},"dojox/mobile/ComboBox":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-geometry,dojo/dom-style,dojo/window,dojo/touch,dijit/form/_AutoCompleterMixin,dijit/popup,./_ComboBoxMenu,./TextBox,./sniff".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h){k.experimental("dojox.mobile.ComboBox");return m("dojox.mobile.ComboBox",[a,e],{dropDownClass:"dojox.mobile._ComboBoxMenu",selectOnClick:!1,autoComplete:!1,
dropDown:null,maxHeight:-1,dropDownPosition:["below","above"],_throttleOpenClose:function(){this._throttleHandler&&this._throttleHandler.remove();this._throttleHandler=this.defer(function(){this._throttleHandler=null},500)},_onFocus:function(){this.inherited(arguments);!this._opened&&!this._throttleHandler&&this._startSearchAll()},onInput:function(a){this._onKey(a);this.inherited(arguments)},_setListAttr:function(a){this._set("list",a)},closeDropDown:function(){this._throttleOpenClose();if(this.endHandler)this.disconnect(this.startHandler),
this.disconnect(this.endHandler),this.disconnect(this.moveHandler),clearInterval(this.repositionTimer),this.repositionTimer=this.endHandler=null;this.inherited(arguments);b.close(this.dropDown);this._opened=!1},openDropDown:function(){var a=!this._opened,d=this.dropDown,e=d.domNode,k=this.domNode,m=this;h("touch")&&f.global.scrollBy(0,c.position(k,!1).y);if(!this._preparedNode){this._preparedNode=!0;if(e.style.width)this._explicitDDWidth=!0;if(e.style.height)this._explicitDDHeight=!0}var v={display:"",
overflow:"hidden",visibility:"hidden"};if(!this._explicitDDWidth)v.width="";if(!this._explicitDDHeight)v.height="";l.set(e,v);v=this.maxHeight;if(-1==v)var v=o.getBox(),s=c.position(k,!1),v=Math.floor(Math.max(s.y,v.h-(s.y+s.h)));b.moveOffScreen(d);d.startup&&!d._started&&d.startup();s=c.position(this.dropDown.containerNode,!1);if(v&&s.h>v)s.h=v;s.w=Math.max(s.w,k.offsetWidth);c.setMarginBox(e,s);e=b.open({parent:this,popup:d,around:k,orient:this.dropDownPosition,onExecute:function(){m.closeDropDown()},
onCancel:function(){m.closeDropDown()},onClose:function(){m._opened=!1}});this._opened=!0;if(a){var u=!1,x=!1,y=!1,A=d.domNode.parentNode,a=c.position(k,!1),v=c.position(A,!1),F=v.x-a.x,G=v.y-a.y,H=-1,D=-1;this.startHandler=this.connect(f.doc.documentElement,n.press,function(a){y=x=!0;u=!1;H=a.clientX;D=a.clientY});this.moveHandler=this.connect(f.doc.documentElement,n.move,function(a){x=!0;if(a.touches)y=u=!0;else if(y&&(a.clientX!=H||a.clientY!=D))u=!0});this.clickHandler=this.connect(d.domNode,
"onclick",function(){x=!0;y=u=!1});this.endHandler=this.connect(f.doc.documentElement,"onmouseup",function(){this.defer(function(){x=!0;!u&&y&&this.closeDropDown();y=!1})});this.repositionTimer=setInterval(g.hitch(this,function(){if(x)x=!1;else{var a=c.position(k,!1),b=c.position(A,!1),d=b.x-a.x,a=b.y-a.y;(1<=Math.abs(d-F)||1<=Math.abs(a-G))&&l.set(A,{left:parseInt(l.get(A,"left"))+F-d+"px",top:parseInt(l.get(A,"top"))+G-a+"px"})}}),50)}return e},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,
"onclick","_onClick")},destroy:function(){this.repositionTimer&&clearInterval(this.repositionTimer);this.inherited(arguments)},_onClick:function(){this._throttleHandler||(this.opened?this.closeDropDown():this._startSearchAll())}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),function(k,
m,g,f,c,l,o,n,e,b,d,a,h,p){return m("dijit.form._AutoCompleterMixin",p,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(e("ie")){var c=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=(""+a.text).replace(/\r/g,"").length}catch(d){}}return b},
_setCaretPos:function(a,b){b=parseInt(b);h.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==c.ALT||b==c.CTRL||b==c.META||b==c.SHIFT)){var d=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(e=d.getHighlightedOption()),b){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&
this._announceOption(e);f.stop(a);break;case c.ENTER:if(e){if(e==d.nextButton){this._nextSearch(1);f.stop(a);break}else if(e==d.previousButton){this._nextSearch(-1);f.stop(a);break}f.stop(a)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;e&&this._selectOption(e);case c.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=
this.focusNode;h.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length)b.value=a,h.selectInputText(b,c)}else b.value=a,h.selectInputText(b)},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=l.hitch(this,function(b){a.nextPage(-1!==
b);this.focus()}),this.dropDown.createOptions(a,c,l.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?
(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",g.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (l.isString(this.dropDownClass)?l.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:l.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},
_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new d({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=o('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",a[0].id)}this.inherited(arguments);
this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}"),b=n.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==
this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,
d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(k){var m={};k.setObject("dojo.data.util.filter",m);m.patternToRegExp=function(g,f){for(var c="^",l=null,k=0;k<g.length;k++)switch(l=g.charAt(k),l){case "\\":c+=l;k++;c+=g.charAt(k);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+=
"\\";default:c+=l}c+="$";return f?RegExp(c,"mi"):RegExp(c,"m")};return m})},"dijit/form/DataList":function(){define("dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),function(k,m,g,f,c,l){function o(c){return{id:c.value,value:c.value,name:g.trim(c.innerText||c.textContent||"")}}return k("dijit.form.DataList",c,{constructor:function(c,e){this.domNode=m.byId(e);g.mixin(this,c);this.id&&l.add(this);this.domNode.style.display="none";this.inherited(arguments,
[{data:f("option",this.domNode).map(o)}])},destroy:function(){l.remove(this.id)},fetchSelectedItem:function(){var c=f("> option[selected]",this.domNode)[0]||f("> option",this.domNode)[0];return c&&o(c)}})})},"dijit/form/_SearchMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),function(k,m,g,f,c,l,o,n,e,b){return m("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,
fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=
null}},_processInput:function(b){if(!this.disabled&&!this.readOnly){var a=b.charOrCode;if(!("type"in b&&"key"==b.type.substring(0,3)&&(b.altKey||(b.ctrlKey||b.metaKey)&&"x"!=a&&"v"!=a||a==f.SHIFT))){this._prev_key_backspace=b=!1;switch(a){case f.DELETE:case f.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:b="string"==typeof a||229==a}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,
"\\$1"))},_startSearch:function(b){this._abortQuery();var a=this,f=c.clone(this.query),l={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},g=n.substitute(this.queryExpr,[b]),m,o=function(){var b=a._fetchHandle=a.store.query(f,l);!a.disabled&&!(a.readOnly||m!==a._lastQuery)&&e(b,function(c){a._fetchHandle=null;!a.disabled&&!a.readOnly&&m===a._lastQuery&&e(b.total,function(b){c.total=b;var d=a.pageSize;if(isNaN(d)||d>c.total)d=c.total;c.nextPage=function(b){l.direction=
b=!1!==b;l.count=d;if(b){if(l.start+=c.length,l.start>=c.total)l.count=0}else if(l.start-=d,0>l.start)l.count=Math.max(d+l.start,0),l.start=0;0>=l.count?(c.length=0,a.onSearch(c,f,l)):o()};a.onSearch(c,f,l)})},function(b){a._fetchHandle=null;a._cancelingQuery||console.error(a.declaredClass+" "+b.toString())})};c.mixin(l,this.fetchProperties);this.store._oldAPI?m=g:(m=k.patternToRegExp(g,this.ignoreCase),m.toString=function(){return g});this._lastQuery=f[this.searchAttr]=m;this._queryDeferHandle=this.defer(o,
this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var c=this.list;if(c)this.store=b.byId(c)}this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,./place,./BackgroundIframe,./main".split(","),function(k,m,g,f,c,
l,o,n,e,b,d,a,h,p,q,r,w){function t(){this._popupWrapper&&(o.destroy(this._popupWrapper),delete this._popupWrapper)}f=f(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=o.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,m.after(a,"destroy",t,
!0);return b},moveOffScreen:function(a){a=this._createWrapper(a);e.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);e.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(e){for(var f=this._stack,k=e.popup,m=e.orient||["below","below-alt","above","above-alt"],o=e.parent?e.parent.isLeftToRight():n.isBodyLtr(k.ownerDocument),t=e.around,w=e.around&&e.around.id?
e.around.id+"_dropdown":"popup_"+this._idGen++;f.length&&(!e.parent||!c.isDescendant(e.parent.domNode,f[f.length-1].widget.domNode));)this.close(f[f.length-1].widget);var G=this._createWrapper(k);l.set(G,{id:w,style:{zIndex:this._beginZIndex+f.length},"class":"dijitPopup "+(k.baseClass||k["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:e.parent?e.parent.id:""});if(d("bgIframe")&&!k.bgIframe)k.bgIframe=new r(G);m=t?q.around(G,t,m,o,k.orient?h.hitch(k,"orient"):null):q.at(G,e,"R"==m?["TR","BR",
"TL","BL"]:["TL","BL","TR","BR"],e.padding);G.style.display="";G.style.visibility="visible";k.domNode.style.visibility="visible";o=[];o.push(p(G,g._keypress,h.hitch(this,function(c){if(c.charOrCode==a.ESCAPE&&e.onCancel)b.stop(c),e.onCancel();else if(c.charOrCode===a.TAB&&(b.stop(c),(c=this.getTopPopup())&&c.onCancel))c.onCancel()})));k.onCancel&&e.onCancel&&o.push(k.on("cancel",e.onCancel));o.push(k.on(k.onExecute?"execute":"change",h.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));
f.push({widget:k,parent:e.parent,onExecute:e.onExecute,onCancel:e.onCancel,onClose:e.onClose,handlers:o});if(k.onOpen)k.onOpen(m);return m},close:function(a){for(var b=this._stack;a&&k.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;if(d.onClose)d.onClose();for(var f;f=c.handlers.pop();)f.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return w.popup=new f})},"dijit/place":function(){define("dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),
function(k,m,g,f,c,l,o){function n(e,b,d,a){var f=l.getBox(e.ownerDocument);(!e.parentNode||"body"!=(""+e.parentNode.tagName).toLowerCase())&&c.body(e.ownerDocument).appendChild(e);var g=null;k.some(b,function(b){var c=b.corner,l=b.pos,k=0,n={w:{L:f.l+f.w-l.x,R:l.x-f.l,M:f.w}[c.charAt(1)],h:{T:f.t+f.h-l.y,B:l.y-f.t,M:f.h}[c.charAt(0)]},o=e.style;o.left=o.right="auto";d&&(k=d(e,b.aroundCorner,c,n,a),k="undefined"==typeof k?0:k);var q=e.style,y=q.display,A=q.visibility;if("none"==q.display)q.visibility=
"hidden",q.display="";o=m.position(e);q.display=y;q.visibility=A;y={L:l.x,R:l.x-o.w,M:Math.max(f.l,Math.min(f.l+f.w,l.x+(o.w>>1))-o.w)}[c.charAt(1)];A={T:l.y,B:l.y-o.h,M:Math.max(f.t,Math.min(f.t+f.h,l.y+(o.h>>1))-o.h)}[c.charAt(0)];l=Math.max(f.l,y);q=Math.max(f.t,A);y=Math.min(f.l+f.w,y+o.w);A=Math.min(f.t+f.h,A+o.h);y-=l;A-=q;k+=o.w-y+(o.h-A);if(null==g||k<g.overflow)g={corner:c,aroundCorner:b.aroundCorner,x:l,y:q,w:y,h:A,overflow:k,spaceAvailable:n};return!k});g.overflow&&d&&d(e,g.aroundCorner,
g.corner,g.spaceAvailable,a);var b=m.isBodyLtr(e.ownerDocument),n=e.style;n.top=g.y+"px";n[b?"left":"right"]=(b?g.x:f.w-g.x-g.w)+"px";n[b?"right":"left"]="auto";return g}return o.place={at:function(c,b,d,a){d=k.map(d,function(c){var d={corner:c,pos:{x:b.x,y:b.y}};a&&(d.pos.x+="L"==c.charAt(1)?a.x:-a.x,d.pos.y+="T"==c.charAt(0)?a.y:-a.y);return d});return n(c,d)},around:function(c,b,d,a,h){function l(a,b){F.push({aroundCorner:a,corner:b,pos:{x:{L:u,R:u+y,M:u+(y>>1)}[a.charAt(1)],y:{T:x,B:x+A,M:x+(A>>
1)}[a.charAt(0)]}})}var o="string"==typeof b||"offsetWidth"in b?m.position(b,!0):b;if(b.parentNode)for(var r="absolute"==g.getComputedStyle(b).position,b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){var w=m.position(b,!0),t=g.getComputedStyle(b);/relative|absolute/.test(t.position)&&(r=!1);if(!r&&/hidden|auto|scroll/.test(t.overflow)){var v=Math.min(o.y+o.h,w.y+w.h),s=Math.min(o.x+o.w,w.x+w.w);o.x=Math.max(o.x,w.x);o.y=Math.max(o.y,w.y);o.h=v-o.y;o.w=s-o.x}"absolute"==t.position&&(r=!0);b=
b.parentNode}var u=o.x,x=o.y,y="w"in o?o.w:o.w=o.width,A="h"in o?o.h:(f.deprecated("place.around: dijit/place.__Rectangle: { x:"+u+", y:"+x+", height:"+o.height+", width:"+y+" } has been deprecated.  Please use { x:"+u+", y:"+x+", h:"+o.height+", w:"+y+" }","","2.0"),o.h=o.height),F=[];k.forEach(d,function(b){var c=a;switch(b){case "above-centered":l("TM","BM");break;case "below-centered":l("BM","TM");break;case "after-centered":c=!c;case "before-centered":l(c?"ML":"MR",c?"MR":"ML");break;case "after":c=
!c;case "before":l(c?"TL":"TR",c?"TR":"TL");l(c?"BL":"BR",c?"BR":"BL");break;case "below-alt":c=!c;case "below":l(c?"BL":"BR",c?"TL":"TR");l(c?"BR":"BL",c?"TR":"TL");break;case "above-alt":c=!c;case "above":l(c?"TL":"TR",c?"BL":"BR");l(c?"TR":"TL",c?"BR":"BL");break;default:l(b.aroundCorner,b.corner)}});c=n(c,F,h,{w:y,h:A});c.aroundNodePos=o;return c}}})},"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),
function(k,m,g,f,c,l,o,n,e){n.add("bgIframe",n("ie")||n("mozilla"));var b=new function(){var b=[];this.pop=function(){var a;b.length?(a=b.pop(),a.style.display=""):(9>n("ie")?(a="<iframe src='"+(g.dojoBlankHtmlUrl||k.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",a=e.doc.createElement(a)):(a=f.create("iframe"),a.src='javascript:""',a.className="dijitBackgroundIframe",a.setAttribute("role",
"presentation"),c.set(a,"opacity",0.1)),a.tabIndex=-1);return a};this.push=function(a){a.style.display="none";b.push(a)}};m.BackgroundIframe=function(d){if(!d.id)throw Error("no id");if(n("bgIframe")){var a=this.iframe=b.pop();d.appendChild(a);7>n("ie")||n("quirks")?(this.resize(d),this._conn=o(d,"resize",l.hitch(this,function(){this.resize(d)}))):c.set(a,{width:"100%",height:"100%"})}};l.extend(m.BackgroundIframe,{resize:function(b){this.iframe&&c.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+
"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(b.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dojox/mobile/_ComboBoxMenu":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/form/_ComboBoxMenuMixin,dijit/_WidgetBase,./_ListTouchMixin,./scrollable".split(","),function(k,m,g,f,c,l,o,n){return m("dojox.mobile._ComboBoxMenu",[l,o,c],{baseClass:"mblComboBoxMenu",bgIframe:!0,buildRendering:function(){this.domNode=
this.focusNode=f.create("div",{"class":"mblReset"});this.containerNode=f.create("div",{style:{position:"absolute",top:0,left:0}},this.domNode);this.previousButton=f.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuPreviousButton",role:"option"},this.containerNode);this.nextButton=f.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuNextButton",role:"option"},this.containerNode);this.inherited(arguments)},_createMenuItem:function(){return f.create("div",{"class":"mblReset mblComboBoxMenuItem"+
(this.isLeftToRight()?"":" mblComboBoxMenuItemRtl"),role:"option"})},onSelect:function(c){g.add(c,"mblComboBoxMenuItemSelected")},onDeselect:function(c){g.remove(c,"mblComboBoxMenuItemSelected")},onOpen:function(){this.scrollable.init({domNode:this.domNode,containerNode:this.containerNode});this.scrollable.scrollTo({x:0,y:0})},onClose:function(){this.scrollable.cleanup()},destroyRendering:function(){this.bgIframe=!1;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.scrollable=
new n;this.scrollable.resize=function(){}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(k,m,g,f){return m("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=f.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;
this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(c){this.value=c;this.onChange(c)},onClick:function(c){if(c==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(c==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(c)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(c,f){var g=this._createMenuItem(),k=f(c);k.html?g.innerHTML=k.label:g.appendChild(g.ownerDocument.createTextNode(k.label));
if(""==g.innerHTML)g.innerHTML="&#160;";this.applyTextDir(g,g.innerText||g.textContent||"");return g},createOptions:function(c,f,m){this.items=c;this.previousButton.style.display=0==f.start?"none":"";g.set(this.previousButton,"id",this.id+"_prev");k.forEach(c,function(c,b){var d=this._createOption(c,m);d.setAttribute("item",b);g.set(d,"id",this.id+b);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var n=!1;c.total&&!c.total.then&&-1!=c.total?f.start+f.count<c.total?n=!0:f.start+
f.count>c.total&&f.count==c.length&&(n=!0):f.count==c.length&&(n=!0);this.nextButton.style.display=n?"":"none";g.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var c=this.containerNode;2<c.childNodes.length;)c.removeChild(c.childNodes[c.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==
this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dojox/mobile/_ListTouchMixin":function(){define(["dojo/_base/declare","dijit/form/_ListBase"],function(k,m){return k("dojox.mobile._ListTouchMixin",m,{postCreate:function(){this.inherited(arguments);this._listConnect("click","_onClick")},_onClick:function(g,f){this._setSelectedAttr(f);
this.onClick(f)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(k,m,g){return k("dijit.form._ListBase",null,{selected:null,_listConnect:function(f,c){var l=this;return l.own(m(l.containerNode,m.selector(function(c,f,e){return c.parentNode==e},f),function(f){f.preventDefault();l[c](f,this)}))},selectFirstNode:function(){for(var f=this.containerNode.firstChild;f&&"none"==f.style.display;)f=f.nextSibling;this._setSelectedAttr(f)},selectLastNode:function(){for(var f=
this.containerNode.lastChild;f&&"none"==f.style.display;)f=f.previousSibling;this._setSelectedAttr(f)},selectNextNode:function(){var f=this.selected;if(f){for(f=f.nextSibling;f&&"none"==f.style.display;)f=f.nextSibling;f?this._setSelectedAttr(f):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var f=this.selected;if(f){for(f=f.previousSibling;f&&"none"==f.style.display;)f=f.previousSibling;f?this._setSelectedAttr(f):this.selectLastNode()}else this.selectLastNode()},
_setSelectedAttr:function(f){if(this.selected!=f){var c=this.selected;if(c)this.onDeselect(c),this.selected=null;if(f)this.selected=f,g.scrollIntoView(f),this.onSelect(f)}else if(f)this.onSelect(f)}})})},"moch/app/util":function(){define(["dojo/_base/declare","dojo/string","dojox/date/posix"],function(k,m){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()};return{email_to_link:function(g){return"string"==typeof g?'<a class="link" href="mailto:'+
g+'">'+g+"</a>":g},array_to_string:function(g){return"object"==typeof g?g.join(", "):g},date_to_iso:function(g){"object"!=typeof g&&(g=new Date);var f=m.pad(g.getFullYear().toString(),4,"0",!1),f=f+m.pad((g.getMonth()+1).toString(),2,"0",!1),f=f+m.pad(g.getDate().toString(),2,"0",!1),f=f+"T"+(m.pad(g.getHours().toString(),2,"0",!1)+":"),f=f+(m.pad(g.getMinutes().toString(),2,"0",!1)+":");return f+=m.pad(g.getSeconds().toString(),2,"0",!1)},iso_to_date:function(g){if("string"==typeof g){var f=g.match(/(\d{4})(\d{2})(\d{2})T(\d{2}):(\d{2}):(\d{2})/);
f||(f=g.match(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/));if(f){var g=parseInt(f[1],10),c=parseInt(f[2],10)-1,l=parseInt(f[3],10),k=parseInt(f[4],10),m=parseInt(f[5],10),f=parseInt(f[6],10);return new Date(g,c,l,k,m,f)}}return null},Delayed:function(g,f){var c;return function(){"function"==typeof f&&(c&&clearTimeout(c),c=setTimeout(function(){f();clearTimeout(c);c=null},g))}}}})},"dojox/date/posix":function(){define(["dojo/_base/kernel","dojo/date","dojo/date/locale","dojo/string","dojo/cldr/supplemental"],
function(k,m,g,f,c){k.getObject("date.posix",!0,dojox);dojox.date.posix.strftime=function(c,k,n){for(var e=null,b=function(a,b){return f.pad(a,b||2,e||"0")},d=g._getGregorianBundle(n),a=function(f){switch(f){case "a":return g.getNames("days","abbr","format",n)[c.getDay()];case "A":return g.getNames("days","wide","format",n)[c.getDay()];case "b":case "h":return g.getNames("months","abbr","format",n)[c.getMonth()];case "B":return g.getNames("months","wide","format",n)[c.getMonth()];case "c":return g.format(c,
{formatLength:"full",locale:n});case "C":return b(Math.floor(c.getFullYear()/100));case "d":return b(c.getDate());case "D":return a("m")+"/"+a("d")+"/"+a("y");case "e":return null==e&&(e=" "),b(c.getDate());case "f":return null==e&&(e=" "),b(c.getMonth()+1);case "F":return a("Y")+"-"+a("m")+"-"+a("d");case "H":return b(c.getHours());case "I":return b(c.getHours()%12||12);case "j":return b(g._getDayOfYear(c),3);case "k":return null==e&&(e=" "),b(c.getHours());case "l":return null==e&&(e=" "),b(c.getHours()%
12||12);case "m":return b(c.getMonth()+1);case "M":return b(c.getMinutes());case "n":return"\n";case "p":return d["dayPeriods-format-wide-"+(12>c.getHours()?"am":"pm")];case "r":return a("I")+":"+a("M")+":"+a("S")+" "+a("p");case "R":return a("H")+":"+a("M");case "S":return b(c.getSeconds());case "t":return"\t";case "T":return a("H")+":"+a("M")+":"+a("S");case "u":return""+(c.getDay()||7);case "U":return b(g._getWeekOfYear(c));case "V":return b(dojox.date.posix.getIsoWeekOfYear(c));case "W":return b(g._getWeekOfYear(c,
1));case "w":return""+c.getDay();case "x":return g.format(c,{selector:"date",formatLength:"full",locale:n});case "X":return g.format(c,{selector:"time",formatLength:"full",locale:n});case "y":return b(c.getFullYear()%100);case "Y":return""+c.getFullYear();case "z":return f=c.getTimezoneOffset(),(0<f?"-":"+")+b(Math.floor(Math.abs(f)/60))+":"+b(Math.abs(f)%60);case "Z":return m.getTimezoneName(c);case "%":return"%"}},h="",p=0,q=0,r=null;-1!=(q=k.indexOf("%",p));){h+=k.substring(p,q++);switch(k.charAt(q++)){case "_":e=
" ";break;case "-":e="";break;case "0":e="0";break;case "^":r="upper";break;case "*":r="lower";break;case "#":r="swap";break;default:e=null,q--}p=a(k.charAt(q++));switch(r){case "upper":p=p.toUpperCase();break;case "lower":p=p.toLowerCase();break;case "swap":for(var r=p.toLowerCase(),w="",t="",v=0;v<p.length;v++)t=p.charAt(v),w+=t==r.charAt(v)?t.toUpperCase():t.toLowerCase();p=w}r=null;h+=p;p=q}return h+=k.substring(p)};dojox.date.posix.getStartOfWeek=function(f,g){isNaN(g)&&(g=c.getFirstDayOfWeek?
c.getFirstDayOfWeek():0);var k=g,k=f.getDay()>=g?k-f.getDay():k-(7-f.getDay()),e=new Date(f);e.setHours(0,0,0,0);return m.add(e,"day",k)};dojox.date.posix.setIsoWeekOfYear=function(c,f){if(!f)return c;var g=dojox.date.posix.getIsoWeekOfYear(c),e=f-g;0>f&&(e=dojox.date.posix.getIsoWeeksInYear(c)+f+1-g);return m.add(c,"week",e)};dojox.date.posix.getIsoWeekOfYear=function(c){var f=dojox.date.posix.getStartOfWeek(c,1),c=new Date(c.getFullYear(),0,4),c=dojox.date.posix.getStartOfWeek(c,1),c=f.getTime()-
c.getTime();return 0>c?dojox.date.posix.getIsoWeeksInYear(f):Math.ceil(c/6048E5)+1};dojox.date.posix.getIsoWeeksInYear=function(c){function f(c){return c+Math.floor(c/4)-Math.floor(c/100)+Math.floor(c/400)}c=c.getFullYear();return 4==f(c)%7||3==f(c-1)%7?53:52};return dojox.date.posix})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),function(k,m,g,f,c,l,o,n,e){function b(a,
b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var g,l,k=e.charAt(0),e=e.length,m=["abbr","wide","narrow"];switch(k){case "G":g=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":g=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){g=""+g;g=g.substr(g.length-2);break}default:l=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);l=!0;break;case "M":case "L":g=a.getMonth();3>e?(g+=1,l=!0):(k=["months","L"==k?"standAlone":"format",m[e-3]].join("-"),g=b[k][g]);break;
case "w":g=h._getWeekOfYear(a,0);l=!0;break;case "d":g=a.getDate();l=!0;break;case "D":g=h._getDayOfYear(a);l=!0;break;case "e":case "c":if(g=a.getDay(),2>e){g=(g-f.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":g=a.getDay();3>e?(g+=1,l=!0):(k=["days","c"==k?"standAlone":"format",m[e-3]].join("-"),g=b[k][g]);break;case "a":k=12>a.getHours()?"am":"pm";g=c[k]||b["dayPeriods-format-wide-"+k];break;case "h":case "H":case "K":case "k":l=a.getHours();switch(k){case "h":g=l%12||12;break;case "H":g=l;break;
case "K":g=l%12;break;case "k":g=l||24}l=!0;break;case "m":g=a.getMinutes();l=!0;break;case "s":g=a.getSeconds();l=!0;break;case "S":g=Math.round(a.getMilliseconds()*Math.pow(10,e-3));l=!0;break;case "v":case "z":if(g=h._getZone(a,!0,c))break;e=4;case "Z":k=h._getZone(a,!1,c);k=[0>=k?"+":"-",o.pad(Math.floor(Math.abs(k)/60),2),o.pad(Math.abs(k)%60,2)];4==e&&(k.splice(0,0,"GMT"),k.splice(3,0,":"));g=k.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}l&&(g=o.pad(g,
e));return g})}function d(a,b,c,d){var e=function(a){return a},b=b||e,c=c||e,d=d||e,f=a.match(/(''|[^'])+/g),h="'"==a.charAt(0);m.forEach(f,function(a,d){a?(f[d]=(h?c:b)(a.replace(/''/g,"'")),h=!h):f[d]=""});return d(f.join(""))}function a(a,b,c,d){d=l.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,h="",g="";c.strict?(1<f&&(h="0{"+(f-1)+"}"),2<f&&(g="0{"+(f-2)+"}")):(h="0?",g="0{0,2}");switch(e){case "y":e="\\d{2,4}";
break;case "M":case "L":e=2<f?"\\S+?":"1[0-2]|"+h+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+g+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":e="\\S+";break;case "h":e="1[0-2]|"+h+"[1-9]";break;case "k":e="1[01]|"+h+"\\d";break;case "H":e="1\\d|2[0-3]|"+h+"\\d";break;case "K":e="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";break;case "a":f=
c.am||b["dayPeriods-format-wide-am"];h=c.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+h;c.strict||(f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),h!=h.toLowerCase()&&(e+="|"+h.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var h={};k.setObject(e.id.replace(/\//g,"."),h);h._getZone=function(a,b){return b?g.getTimezoneName(a):a.getTimezoneOffset()};h.format=function(a,e){var e=
e||{},f=c.normalizeLocale(e.locale),g=e.formatLength||"short",f=h._getGregorianBundle(f),l=[],m=k.hitch(this,b,a,f,e);if("year"==e.selector)return d(f["dateFormatItem-yyyy"]||"yyyy",m);var n;"date"!=e.selector&&(n=e.timePattern||f["timeFormat-"+g])&&l.push(d(n,m));"time"!=e.selector&&(n=e.datePattern||f["dateFormat-"+g])&&l.push(d(n,m));return 1==l.length?l[0]:f["dateTimeFormat-"+g].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return l[b]})};h.regexp=function(a){return h._parseInfo(a).regexp};
h._parseInfo=function(b){var b=b||{},e=c.normalizeLocale(b.locale),e=h._getGregorianBundle(e),f=b.formatLength||"short",g=b.datePattern||e["dateFormat-"+f],l=b.timePattern||e["timeFormat-"+f],f="date"==b.selector?g:"time"==b.selector?l:e["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,b){return[l,g][b]}),m=[];return{regexp:d(f,k.hitch(this,a,m,e,b)),tokens:m,bundle:e}};h.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=h._parseInfo(b),e=d.tokens,f=d.bundle,c=RegExp("^"+d.regexp.replace(c,
"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var l=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],n="",c=m.every(c,function(a,c){if(!c)return!0;var d=e[c-1],h=d.length,d=d.charAt(0);switch(d){case "y":if(2!=h&&b.strict)k[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),h=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=a<d?h+a:h-100+a;else{if(b.strict)return!1;k[0]=a}break;case "M":case "L":if(2<h){if(h=f["months-"+("L"==d?"standAlone":"format")+
"-"+l[h-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),h=m.map(h,function(a){return a.replace(".","").toLowerCase()})),a=m.indexOf(h,a),-1==a)return!1}else a--;k[1]=a;break;case "E":case "e":case "c":h=f["days-"+("c"==d?"standAlone":"format")+"-"+l[h-3]].concat();b.strict||(a=a.toLowerCase(),h=m.map(h,function(a){return a.toLowerCase()}));a=m.indexOf(h,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":h=b.am||f["dayPeriods-format-wide-am"];d=b.pm||f["dayPeriods-format-wide-pm"];
if(!b.strict)var g=/\./g,a=a.replace(g,"").toLowerCase(),h=h.replace(g,"").toLowerCase(),d=d.replace(g,"").toLowerCase();if(b.strict&&a!=h&&a!=d)return!1;n=a==d?"p":a==h?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),d=+k[3];"p"===n&&12>d?k[3]=d+12:"a"===n&&12==d&&(k[3]=0);d=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);b.strict&&d.setFullYear(k[0]);var o=e.join(""),p=-1!=o.indexOf("d"),
o=-1!=o.indexOf("M");if(!c||o&&d.getMonth()>k[1]||p&&d.getDate()>k[2])return null;if(o&&d.getMonth()<k[1]||p&&d.getDate()<k[2])d=g.add(d,"hour",1);return d};var p=[];h.addCustomFormats=function(a,b){p.push({pkg:a,name:b})};h._getGregorianBundle=function(a){var b={};m.forEach(p,function(d){d=c.getLocalization(d.pkg,d.name,a);b=k.mixin(b,d)},this);return b};h.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");h.getNames=function(a,b,c,d){var e,d=h._getGregorianBundle(d),a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};h.isWeekend=function(a,b){var c=f.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};h._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};h._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((h._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&d++;return d};return h})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(k,m){var g={};k.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(f){f={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,
nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(f)];return void 0===f?1:f};g._region=function(f){var f=m.normalizeLocale(f),f=f.split("-"),c=f[1];c?4==c.length&&(c=f[2]):c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[f[0]];return c};g.getWeekend=function(f){var c=g._region(f),f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,
sy:5,tn:5}[c],c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[c];void 0===f&&(f=6);void 0===c&&(c=0);return{start:f,end:c}};return g})},"kso/views/PlanEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog,dojox/mobile/SpinWheelDatePicker".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C){return g([p],{id:"kso_planedit_view",_form:null,_item:null,postCreate:function(){var b=this,d=new C;d.confirm("Hj\u00e6lp til handleplan",'Siden viser redigering af handleplan.<br /><br />Angiv hvor sikker du er p\u00e5 handleplanen med skala fra en til ti.<br /><br />Tryk p\u00e5 "aktiv/sluk" knappen for at aktivere handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette eller redigere handleplan.');this.addChild(d);
sview=new q;var g=new v({label:"Rediger handleplan","class":"headingPlan"}),l=new s({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});g.addChild(l);g.addChild(new s({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));g.addChild(new s({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionPlanEdit","headingAction-closed");
b.resize()}}));this.addChild(g);var g=new v({id:"headingActionPlanEdit",baseClass:"headingActionPlan"}),k=new s({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});g.addChild(k);g.addChild(new s({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(g);g=new h({orientation:"vert"});l=new t({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"fx. G\u00e5 en tur rundt om boligblokken",trim:!0});g.addChild(l);l=new t({name:"do_how_much",label:"Hvor meget?",
"class":"mochInput",placeHolder:"fx. 3 gange",trim:!0});g.addChild(l);l=new t({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"fx. F\u00f8r frokost",trim:!0});g.addChild(l);l=new t({name:"do_how_often",label:"Hvor ofte?","class":"mochInput",placeHolder:"fx. 3 gange om ugen",trim:!0});g.addChild(l);l=new A({label:"Slet handleplanen?",name:"hidden",leftLabel:"Ja",rightLabel:"Nej"});g.addChild(l);this._form=new a;this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);
this.addChild(sview);this.addChild(new B);f.subscribe("plan/edit",c.hitch(this,function(a,b){k.set("moveTo",a.id);this._item=c.clone(b);if(this._item.active)this._item.active="on";this._form.set("value",this._item);a.performTransition("kso_planedit_view",1,"slide")}))},onSubmit:function(a){l.stop(a);var a=z.getInstance().getStore("kso_plan","kso_plan"),b=this._form.get("value");b.hidden="on"==b.hidden;b=c.mixin(this._item,b);b.id=this._item.id;b.rev=this._item.rev;b.active=!0;b.diary_include=!0;a.put(b);
f.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/SpinWheelDatePicker":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,./_DatePickerMixin,./SpinWheel,./SpinWheelSlot".split(","),function(k,m,g,f,c,l){return m("dojox.mobile.SpinWheelDatePicker",[c,f],{slotClasses:[l,l,l],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);g.add(this.domNode,"mblSpinWheelDatePicker");this._conn=[this.connect(this.slots[0],
"onFlickAnimationEnd","onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","onDaySet")]},disableValues:function(c){k.forEach(this.slots[2].panelNodes,function(f){for(var e=27;31>e;e++)g.toggle(f.childNodes[e],"mblSpinWheelSlotLabelGray",e>=c)})}})})},"dojox/mobile/_DatePickerMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/date,dojo/date/locale,dojo/date/stamp".split(","),function(k,m,g,f,c,l){var o=
{format:function(b){return c.format(b,{datePattern:this.pattern,selector:"date"})}},n=g.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var b=new Date(this.labelFrom,0,1),a,c;for(a=this.labelFrom,c=0;a<=this.labelTo;a++,c++)b.setFullYear(a),this.labels.push(this.format(b))}}},o),e=g.mixin({initLabels:function(){this.labels=[];for(var b=new Date(2E3,0,16),a=0;12>a;a++)b.setMonth(a),this.labels.push(this.format(b))}},o),b=g.mixin({initLabels:function(){this.labels=[];for(var b=
new Date(2E3,0,1),a=1;31>=a;a++)b.setDate(a),this.labels.push(this.format(b))}},o);return m("dojox.mobile._DatePickerMixin",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var c=this.slotClasses,a=this.slotProps;c[0]=m(c[0],n);c[1]=m(c[1],e);c[2]=m(c[2],b);a[0].pattern=this.yearPattern;a[1].pattern=this.monthPattern;a[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(!this.slotOrder.length){var b=c._parseInfo().bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,
3);this.slotOrder=k.map(b,function(a){return{y:0,m:1,d:2}[a.charAt(0)]})}},reset:function(){var b=new Date,a=k.map(this.slots,function(a){return a.format(b)});this.set("colors",a);this.disableValues(this.onDaySet());this.value?(this.set("value",this.value),this.value=null):this.values?(this.set("values",this.values),this.values=null):this.set("values",a)},onYearSet:function(){this.disableValues(this.onDaySet())},onMonthSet:function(){this.disableValues(this.onDaySet())},onDaySet:function(){var b=
this.get("values"),a=c.parse(b[0]+"/"+b[1],{datePattern:this.slots[0].pattern+"/"+this.slots[1].pattern,selector:"date"}),a=f.getDaysInMonth(a);a<b[2]&&this.slots[2].set("value",a);return a},_getDateAttr:function(){var b=this.get("values"),a=this.slots;return c.parse(b[0]+"/"+b[1]+"/"+b[2],{datePattern:a[0].pattern+"/"+a[1].pattern+"/"+a[2].pattern,selector:"date"})},_setValuesAttr:function(b){k.forEach(this.getSlots(),function(a,c){var e=b[c];if("number"==typeof e){var f=[1970,1,1];f.splice(c,1,
e-0);e=a.format(new Date(f[0],f[1]-1,f[2]))}a.set("value",e)})},_setValueAttr:function(b){var a=l.fromISOString(b);this.set("values",k.map(this.slots,function(b){return b.format(a)}))},_getValueAttr:function(){return l.toISOString(this.get("date"),{selector:"date"})}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(k,m){var g={};k.setObject("dojo.date.stamp",g);g.fromISOString=function(f,c){if(!g._isoRegExp)g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var l=g._isoRegExp.exec(f),k=null;if(l){l.shift();l[1]&&l[1]--;l[6]&&(l[6]*=1E3);c&&(c=new Date(c),m.forEach(m.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(b){return c["get"+b]()}),function(b,c){l[c]=l[c]||b}));k=new Date(l[0]||1970,l[1]||0,l[2]||1,l[3]||0,l[4]||0,l[5]||0,l[6]||0);100>l[0]&&k.setFullYear(l[0]||1970);var n=0,e=l[7]&&l[7].charAt(0);"Z"!=e&&(n=60*(l[8]||0)+(Number(l[9])||0),"-"!=e&&(n*=-1));e&&(n-=k.getTimezoneOffset());n&&k.setTime(k.getTime()+6E4*
n)}return k};g.toISOString=function(f,c){var g=function(b){return 10>b?"0"+b:b},c=c||{},k=[],m=c.zulu?"getUTC":"get",e="";"time"!=c.selector&&(e=f[m+"FullYear"](),e=["0000".substr((e+"").length)+e,g(f[m+"Month"]()+1),g(f[m+"Date"]())].join("-"));k.push(e);if("date"!=c.selector){e=[g(f[m+"Hours"]()),g(f[m+"Minutes"]()),g(f[m+"Seconds"]())].join(":");m=f[m+"Milliseconds"]();c.milliseconds&&(e+="."+(100>m?"0":"")+g(m));if(c.zulu)e+="Z";else if("time"!=c.selector)var m=f.getTimezoneOffset(),b=Math.abs(m),
e=e+((0<m?"-":"+")+g(Math.floor(b/60))+":"+g(b%60));k.push(e)}return k.join("T")};return g})},"dojox/mobile/SpinWheel":function(){define(["dojo/_base/declare","dojo/dom-construct","./_PickerBase","./SpinWheelSlot"],function(k,m,g){return k("dojox.mobile.SpinWheel",g,{baseClass:"mblSpinWheel",buildRendering:function(){this.inherited(arguments);m.create("div",{className:"mblSpinWheelBar"},this.domNode)},startup:function(){if(!this._started)this.centerPos=Math.round(this.domNode.offsetHeight/2),this.inherited(arguments)},
addChild:function(f,c){this.inherited(arguments);this._started&&f.setInitialValue()}})})},"dojox/mobile/SpinWheelSlot":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dijit/_Contained,dijit/_WidgetBase,./scrollable".split(","),function(k,m,g,f,c,l,o,n,e,b){return g("dojox.mobile.SpinWheelSlot",[e,n,b],{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSpinWheelSlot",
maxSpeed:500,minItems:15,centerPos:0,scrollBar:!1,constraint:!1,propagatable:!1,androidWorkaroud:!1,buildRendering:function(){this.inherited(arguments);this.initLabels();if(0<this.labels.length){this.items=[];for(i=0;i<this.labels.length;i++)this.items.push([i,this.labels[i]])}this.containerNode=o.create("div",{className:"mblSpinWheelSlotContainer"});this.containerNode.style.height=2*(c.global.innerHeight||c.doc.documentElement.clientHeight)+"px";this.panelNodes=[];for(var b=0;3>b;b++){this.panelNodes[b]=
o.create("div",{className:"mblSpinWheelSlotPanel"});var a=this.items.length,e=Math.ceil(this.minItems/a);for(j=0;j<e;j++)for(i=0;i<a;i++)o.create("div",{className:"mblSpinWheelSlotLabel",name:this.items[i][0],val:this.items[i][1],innerHTML:this._cv?this._cv(this.items[i][1]):this.items[i][1]},this.panelNodes[b]);this.containerNode.appendChild(this.panelNodes[b])}this.domNode.appendChild(this.containerNode);this.touchNode=o.create("div",{className:"mblSpinWheelSlotTouch"},this.domNode);this.setSelectable(this.domNode,
!1);if(""===this.value&&0<this.items.length)this.value=this.items[0][1];this._initialValue=this.value},startup:function(){if(!this._started)this.inherited(arguments),this.noResize=!0,this.init(),this.centerPos=this.getParent().centerPos,this._itemHeight=this.panelNodes[1].childNodes[0].offsetHeight,this.adjust(),this._keydownHandle=this.connect(this.domNode,"onkeydown","_onKeyDown")},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var b=this.labels=[],a=this.zeroPad&&Array(this.zeroPad).join("0"),
c=this.labelFrom;c<=this.labelTo;c+=this.step)b.push(this.zeroPad?(a+c).slice(-this.zeroPad):c+"")},adjust:function(){for(var b=this.panelNodes[1].childNodes,a,c=0,e=b.length;c<e;c++){var f=b[c];if(f.offsetTop<=this.centerPos&&this.centerPos<f.offsetTop+f.offsetHeight){a=this.centerPos-(f.offsetTop+Math.round(f.offsetHeight/2));break}}b=this.panelNodes[0].offsetHeight;this.panelNodes[0].style.top=-b+a+"px";this.panelNodes[1].style.top=a+"px";this.panelNodes[2].style.top=b+a+"px"},setInitialValue:function(){this.set("value",
this._initialValue)},_onKeyDown:function(b){b&&"keydown"===b.type&&(40===b.keyCode?this.spin(-1):38===b.keyCode&&this.spin(1))},_getCenterPanel:function(){for(var b=this.getPos(),a=0,c=this.panelNodes.length;a<c;a++){var e=b.y+this.panelNodes[a].offsetTop;if(e<=this.centerPos&&this.centerPos<e+this.panelNodes[a].offsetHeight)return this.panelNodes[a]}return null},setColor:function(b,a){m.forEach(this.panelNodes,function(c){m.forEach(c.childNodes,function(c){l.toggle(c,a||"mblSpinWheelSlotLabelBlue",
c.innerHTML===b)},this)},this)},disableValues:function(){m.forEach(this.panelNodes,function(b){for(var a=27;31>a;a++)l.toggle(b.childNodes[a],"mblSpinWheelSlotLabelGray",a>=nDays)})},getCenterItem:function(){var b=this.getPos(),a=this._getCenterPanel();if(a)for(var b=b.y+a.offsetTop,a=a.childNodes,c=0,e=a.length;c<e;c++)if(b+a[c].offsetTop<=this.centerPos&&this.centerPos<b+a[c].offsetTop+a[c].offsetHeight)return a[c];return null},_getKeyAttr:function(){var b=this.getCenterItem();return b&&b.getAttribute("name")},
_getValueAttr:function(){var b=this.getCenterItem();return b&&b.getAttribute("val")},_setValueAttr:function(b){var a,c,e=this.get("value");if(e){this._penddingValue=void 0;this._set("value",b);for(var f=this.items.length,g=0;g<f&&!(this.items[g][1]===""+e&&(a=g),this.items[g][1]===""+b&&(c=g),void 0!==a&&void 0!==c);g++);b=c-(a||0);this.spin(0<b?b<f-b?-b:f-b:-b<f+b?-b:-(f+b))}else this._penddingValue=b},stopAnimation:function(){this.inherited(arguments);this._set("value",this.get("value"))},spin:function(b){if(this._started){var a=
this.getPos();a.y%this._itemHeight||(a.y+=b*this._itemHeight,this.slideTo(a,1))}},getSpeed:function(){var b=0,a=this._time.length,c=(new Date).getTime()-this.startTime-this._time[a-1];2<=a&&200>c&&(b=this.calcSpeed(this._posY[a-1]-this._posY[0<=a-6?a-6:0],this._time[a-1]-this._time[0<=a-6?a-6:0]));return{x:0,y:b}},calcSpeed:function(b,a){var c=this.inherited(arguments);if(!c)return 0;var e=Math.abs(c),f=c;e>this.maxSpeed&&(f=this.maxSpeed*(c/e));return f},adjustDestination:function(b){var a=this._itemHeight,
c=b.y+Math.round(a/2);Math.abs(c);b.y=c-(0<=c?c%a:c%a+a);return!0},resize:function(){this._penddingValue&&this.set("value",this._penddingValue)},slideTo:function(b,a,c){var e=this.getPos(),f=e.y+this.panelNodes[1].offsetTop,g=f+this.panelNodes[1].offsetHeight,l=this.domNode.parentNode.offsetHeight;if(e.y<b.y){if(g>l)e=this.panelNodes[2],e.style.top=this.panelNodes[0].offsetTop-this.panelNodes[0].offsetHeight+"px",this.panelNodes[2]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[0],this.panelNodes[0]=
e}else if(e.y>b.y&&0>f)e=this.panelNodes[0],e.style.top=this.panelNodes[2].offsetTop+this.panelNodes[2].offsetHeight+"px",this.panelNodes[0]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[2],this.panelNodes[2]=e;this._initialized?40>Math.abs(this._speed.y)&&(a=0.2):(a=0,this._initialized=!0);this.inherited(arguments,[b,a,c])}})})},"kso/views/PlanEval":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/ExpandingTextArea,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojox/mobile/RadioButton,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C,J,M){return g([p],{id:"kso_planeval_view",_form:null,_item:null,postCreate:function(){var b=this,d=new M;d.confirm("Hj\u00e6lp til afslut handleplan",'Siden viser afslutning af handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at afslutte en handleplan.<br /><br />Angiv din evaluering af handleplanen.');this.addChild(d);sview=new q;var g=new s({label:"Afslut handleplan","class":"headingPlan"}),l=new u({icon:"/kso/kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});g.addChild(l);g.addChild(new u({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));g.addChild(new u({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionPlanEval","headingAction-closed");b.resize()}}));this.addChild(g);var g=new s({id:"headingActionPlanEval",baseClass:"headingActionPlan"}),
k=new u({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});g.addChild(k);g.addChild(new u({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(g);var g=new h({orientation:"vert"}),m=new t({label:"Evaluering af handleplan:",name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});g.addChild(m);m=new h;m.addChild(new z({label:"Succes",name:"do_evaluate_tmp",value:1}));m.addChild(new z({label:"Delvis-succes",
name:"do_evaluate_tmp",value:2}));m.addChild(new z({label:"Ikke-succes",name:"do_evaluate_tmp",value:3}));this._form=new a;this._form.domNode.appendChild(g.domNode);this._form.domNode.appendChild(m.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new J);f.subscribe("plan/eval",c.hitch(this,function(a,b){l.set("moveTo",a.id);k.set("moveTo",a.id);this._item=c.clone(b);this._form.set("value",this._item);a.performTransition("kso_planeval_view",1,"slide")}))},onSubmit:function(a){l.stop(a);
var a=B.getInstance().getStore("kso_plan","kso_plan"),b=this._form.get("value");b.active=!1;b.do_evaluate=b.do_evaluate_tmp;b=c.mixin(this._item,b);a.put(b);f.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/ExpandingTextArea":function(){define(["dojo/_base/declare","dijit/form/_ExpandingTextAreaMixin","./TextArea"],function(k,m,g){return k("dojox.mobile.ExpandingTextArea",[g,m],{baseClass:"mblTextArea mblExpandingTextArea"})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/has,dojo/_base/lang,dojo/on,dojo/_base/window,../Viewport".split(","),
function(k,m,g,f,c,l,o){g.add("textarea-needs-help-shrinking",function(){var c=l.body(),e=m.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),b=e.scrollHeight>=e.clientHeight;c.removeChild(e);return b});return k("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(c(g,"focus, resize",f.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(o.on("resize",f.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function c(){var a=!1;if(""===e.value)e.value=" ",a=!0;var b=e.scrollHeight;if(a)e.value="";return b}var e=this.textbox;if("hidden"==e.style.overflowY)e.scrollTop=0;if(!this.busyResizing){this.busyResizing=!0;if(c()||e.offsetHeight){var b=c()+Math.max(e.offsetHeight-e.clientHeight,0),d=b+"px";if(d!=e.style.height)e.style.height=d,e.rows=1;if(g("textarea-needs-help-shrinking")){var a=c(),f=e.style.minHeight,l=4,k=e.scrollTop;e.style.minHeight=d;for(e.style.height="auto";0<b;){e.style.minHeight=
Math.max(b-l,4)+"px";d=c();a-=d;b-=a;if(a<l)break;a=d;l<<=1}e.style.height=b+"px";e.style.minHeight=f;e.scrollTop=k}e.style.overflowY=c()>e.clientHeight?"auto":"hidden";if("hidden"==e.style.overflowY)e.scrollTop=0}else this._estimateHeight();this.busyResizing=!1}}})})},"dojox/mobile/TextArea":function(){define(["dojo/_base/declare","dojo/dom-construct","./TextBox"],function(k,m,g){return k("dojox.mobile.TextArea",g,{baseClass:"mblTextArea",postMixInProperties:function(){if(!this.value&&this.srcNodeRef)this.value=
this.srcNodeRef.value;this.inherited(arguments)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=m.create("textarea",{});this.inherited(arguments)}})})},"dojox/mobile/RadioButton":function(){define(["dojo/_base/declare","dijit/form/_RadioButtonMixin","./CheckBox"],function(k,m,g){return k("dojox.mobile.RadioButton",[g,m],{_setTypeAttr:null,baseClass:"mblRadioButton"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/lang,dojo/query,../registry".split(","),
function(k,m,g,f,c,l,o){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var f=[];l("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(c.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=o.getEnclosingWidget(c))&&f.push(c)}));return f},_setCheckedAttr:function(f){this.inherited(arguments);this._created&&f&&k.forEach(this._getRelatedWidgets(),c.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(c){return null==
c?"on":c},_onClick:function(l){if(this.checked||this.disabled)return f.stop(l),!1;return this.readOnly?(f.stop(l),k.forEach(this._getRelatedWidgets(),c.hitch(this,function(c){g.set(this.focusNode||this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dojox/mobile/CheckBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/_CheckBoxMixin","./ToggleButton"],function(k,m,g,f){return k("dojox.mobile.CheckBox",[f,g],{baseClass:"mblCheckBox",_setTypeAttr:function(){},
buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=m.create("input",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},_getValueAttr:function(){return this.checked?this.value:!1}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(k,m,g){return k("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(f){this._set("readOnly",f);m.set(this.focusNode,
"readOnly",f)},_setLabelAttr:void 0,_getSubmitValue:function(f){return null==f||""===f?"on":f},_setValueAttr:function(f){f=this._getSubmitValue(f);this._set("value",f);m.set(this.focusNode,"value",f)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(f){return this.readOnly?(g.stop(f),!1):this.inherited(arguments)}})})},"dojox/mobile/ToggleButton":function(){define(["dojo/_base/declare",
"dojo/dom-class","dijit/form/_ToggleButtonMixin","./Button"],function(k,m,g,f){return k("dojox.mobile.ToggleButton",[f,g],{baseClass:"mblToggleButton",_setCheckedAttr:function(){this.inherited(arguments);var c=(this.baseClass+" "+this["class"]).replace(/(\S+)\s*/g,"$1Checked ").split(" ");m[this.checked?"add":"remove"](this.focusNode||this.domNode,c)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(k,m){return k("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(g){var f=this.checked;this._set("checked",!f);var c=this.inherited(arguments);this.set("checked",c?this.checked:f);return c},_setCheckedAttr:function(g,f){this._set("checked",g);var c=this.focusNode||this.domNode;this._created&&m.get(c,"checked")!=!!g&&m.set(c,"checked",!!g);c.setAttribute(this._aria_attr,""+g);this._handleOnChange(g,f)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&g.setAttribute("checked",
"checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"kso/views/Plan":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y){return g([e],{id:"kso_plan_view",_item:null,postCreate:function(){var e=this,g=new y;g.confirm("Hj\u00e6lp til dagbog","Siden viser afsluttet handleplan samt dagbog.<br /><br />Man kan til h\u00f8jre i listen se hvilke dage handleplanen er udf\u00f8rt.");this.addChild(g);sview=new b;var k=new w({label:"Handleplan","class":"headingPlan"}),m=new p({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_planlist_view"});
k.addChild(m);k.addChild(new p({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));k.addChild(new p({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){o.toggle("headingActionPlan","headingAction-closed");e.resize()}}));this.addChild(k);k=new w({id:"headingActionPlan",baseClass:"headingActionPlan headingAction-closed"});k.addChild(new p({label:"Kopier",transition:"slide",onClick:function(){f.publish("plan/create",
e,e._item)}}));this.addChild(k);k=new a({label:"Handleplan","class":"categoryPlan"});sview.addChild(k);k=new h;sview.addChild(k);var n=new d({label:""});k.addChild(n);var q=new d({label:""});k.addChild(q);var t=new d({label:""});k.addChild(t);var r=new d({label:""});k.addChild(r);var E=new d({label:""});k.addChild(E);k=new a({label:"Evaluering","class":"categoryPlan"});sview.addChild(k);k=new h;sview.addChild(k);var B=new d({label:""});k.addChild(B);var C=new d({label:""});k.addChild(C);k=v.getInstance().getStore("diary",
"kso_diary");m=new a({label:"Dagbog"});sview.addChild(m);var J=new u({store:k,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new d({clickable:!1,item:a,variableHeight:!0,_setItemAttr:function(a){var b=s.iso_to_date(a.use_at);this.set("label",l.format(new Date(b),{datePattern:"EEE dd/MM",selector:"date"})+" "+(a.info?a.info:""));this.set("rightText",a.success?"Udf\u00f8rt":"");this.item=a}})}});sview.addChild(J);this.addChild(sview);this.addChild(new x);
f.subscribe("plan/diary",c.hitch(this,function(a,b){this._item=b;J.setQuery({plan_id:b.id});n.set("label","Hvad: "+b.do_what);q.set("label","Hvor meget: "+b.do_how_much);t.set("label","Hvorn\u00e5r: "+b.do_when);r.set("label","Hvor ofte: "+b.do_how_often);E.set("label","Vurdering for succes (0-10): "+b.do_success);if(1==b.do_evaluate)b.do_evaluate="Succes";else if(2==b.do_evaluate)b.do_evaluate="Delvis-succes";else if(3==b.do_evaluate)b.do_evaluate="Ikke-succes";B.set("label","Bed\u00f8mmelse: "+
b.do_evaluate);C.set("label","Tekst: "+b.do_evaluate_txt);a.performTransition("kso_plan_view",1,"slide")}))},onStartView:function(){}})})},"kso/views/DiaryList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y){return g([e],{id:"kso_diarylist_view",_item:null,postCreate:function(){var e=this,g=new y;g.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for valgte handleplan.<br /><br />Tryk p\u00e5 "Rediger plan" for \u00e6ndre handleplanen.<br /><br />Listen indeholder antal dage, f.eks. 14 dage.<br /><br />Man kan til h\u00f8jre i listen se hvilke dage handleplanen er udf\u00f8rt.<br /><br />Tryk p\u00e5 en dag for at redigere i dagbogen.');this.addChild(g);
sview=new b;var k=new w({label:"Handleplan","class":"headingPlan"}),m=new p({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});k.addChild(m);k.addChild(new p({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));k.addChild(new p({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){o.toggle("headingActionDiaryList","headingAction-closed");
e.resize()}}));this.addChild(k);var n=new w({id:"headingActionDiaryList",baseClass:"headingActionPlan headingAction-closed"});n.addChild(new p({label:"Rediger",transition:"slide",onClick:function(){f.publish("plan/edit",e,e._item)}}));n.addChild(new p({label:"Kopier",transition:"slide",onClick:function(){f.publish("plan/create",e,e._item)}}));n.addChild(new p({label:"Afslut",transition:"slide",onClick:function(){f.publish("plan/eval",e,e._item)}}));this.addChild(n);n=new a({label:"Planlagt handling:",
"class":"categoryPlan"});sview.addChild(n);n=new h;sview.addChild(n);var q=new d({label:""});n.addChild(q);var t=new d({label:""});n.addChild(t);var r=new d({label:""});n.addChild(r);var E=new d({label:""});n.addChild(E);var B=new d({label:""});n.addChild(B);var n=v.getInstance().getStore("diary","kso_diary"),C=new a({label:"Dagbog:","class":"categoryPlan"});sview.addChild(C);var J=new u({store:n,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new d({clickable:!0,
item:a,onClick:function(){f.publish("diary/edit",e,this.item)},_setItemAttr:function(a){var b=s.iso_to_date(a.use_at);this.set("label",l.format(new Date(b),{datePattern:"EEE dd/MM",selector:"date"})+" "+(a.info?a.info:""));this.set("rightText",a.success?"Udf\u00f8rt":"");this.item=a}})}});sview.addChild(J);this.addChild(sview);this.addChild(new x);f.subscribe("diary/list",c.hitch(this,function(a,b){this._item=b;k.set("label",b.do_what);m.set("moveTo",a.id);q.set("label","Hvad: "+b.do_what);t.set("label",
"Hvor meget: "+b.do_how_much);r.set("label","Hvorn\u00e5r: "+b.do_when);E.set("label","Hvor ofte: "+b.do_how_often);B.set("label","Vurdering for succes (0-10): "+b.do_success);J.setQuery({plan_id:b.id});a.performTransition("kso_diarylist_view",1,"slide")}))},onStartView:function(){}})})},"kso/views/DiaryEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/ScrollableView,dojox/mobile/View,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/ExpandingTextArea,dojox/mobile/Heading,dojox/mobile/Button,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog,dojo/domReady!".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I){return g([p],{id:"kso_diaryedit_view",_form:null,_item:null,postCreate:function(){var e=this,g=new I;g.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for den valgte dag.<br /><br />Tryk p\u00e5 "Gem" knappen for at gemme "Udf\u00f8rt" og "Kommentarer" for denne dag');this.addChild(g);sview=new h;var l=new t({label:"Rediger dagbog","class":"headingPlan"}),k=new s({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",
style:{"float":"left"},moveTo:"kso_home_view"});l.addChild(k);l.addChild(new s({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));l.addChild(new s({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.toggle("headingActionDiaryEdit","headingAction-closed");e.resize()}}));this.addChild(l);var l=new t({id:"headingActionDiaryEdit",baseClass:"headingActionPlan"}),m=new s({label:"Annuller",
moveTo:"kso_diarylist_view",transition:"slide",transitionDir:-1});l.addChild(m);l.addChild(new s({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(l);l=new a({orientation:"vert"});m=new w({label:"Dagbogs tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});l.addChild(m);m=new A({label:"Handleplanen udf\u00f8rt?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});l.addChild(m);this._form=new d;this._form.domNode.appendChild(l.domNode);
sview.addChild(this._form);this.addChild(sview);this.addChild(new D);f.subscribe("diary/edit",c.hitch(this,function(a,b){k.set("moveTo",a.id);a.performTransition("kso_diaryedit_view",1,"slide");this._item=c.clone(b);if(this._item.success)this._item.success="on";this._form.set("value",this._item)}))},onSubmit:function(a){o.stop(a);var a=F.getInstance().getStore("diary","kso_diary"),b=this._form.get("value");b.success="on"==b.success;b.id=this._item.id;b.plan_id=this._item.plan_id;b.rev=this._item.rev;
a.put(b);f.publish("diary/list",this)},onStartView:function(){}})})},"kso/views/ProblemList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,
w,t){return g([o],{id:"kso_problemlist_view",postCreate:function(){var h=this,g=new t;g.confirm("Hj\u00e6lp til probleml\u00f8sning",'Siden viser alle probleml\u00f8sninger.<br /><br />Tryk p\u00e5 "+" knappen for at oprette en ny probleml\u00f8sning.<br /><br />Tryk p\u00e5 en probleml\u00f8sning se eller rediger.');this.addChild(g);sview=new n;var k=new d({label:"Probleml\u00f8sning","class":"headingProblem"});k.addChild(new a({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},
onClick:function(){g.show()}}));k.addChild(new a({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){l.toggle("headingActionProblemList","headingAction-closed");h.resize()}}));this.addChild(k);k=new d({id:"headingActionProblemList",baseClass:"headingActionProblem headingAction-closed"});k.addChild(new a({label:"Opret",transition:"slide",onClick:function(){f.publish("problem/create",h,null)}}));this.addChild(k);k=q.getInstance().getStore("kso_problem",
"kso_problem");this.addChild(new b({label:"Alle probleml\u00f8sninger:","class":"categoryProblem"}));(new Boolean(!0)).test=function(){return!0};k=new r({store:k,query:{hidden:!1},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,onClick:function(){a.do_evaluate?f.publish("problem",h,this.item):f.publish("problem/edit",h,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);a.do_evaluate?this.set("rightText",
"Afsluttet"):a.active?this.set("rightText","Aktiv"):this.set("rightText","");this.item=a}})}});sview.addChild(k);this.addChild(sview);this.addChild(new w);f.subscribe("problem/list",c.hitch(this,function(a){a.performTransition("kso_problemlist_view",1,"slide")}))},onStartView:function(){}})})},"kso/views/ProblemCreate":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C){return g([p],{id:"kso_problemcreate_view",_form:null,_item:null,postCreate:function(){var b=this,d=new C;d.confirm("Hj\u00e6lp til probleml\u00f8sning",'Siden viser oprettelse af probleml\u00f8sning.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette probleml\u00f8sning.');this.addChild(d);sview=new q;var g=new v({label:"Opret probleml\u00f8sning","class":"headingProblem"}),l=new s({icon:"/kso/kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},moveTo:"kso_problemlist_view"});g.addChild(l);g.addChild(new s({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));g.addChild(new s({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionProblemCreate","headingAction-closed");b.resize()}}));this.addChild(g);var g=new v({id:"headingActionProblemCreate",baseClass:"headingActionProblem"}),
k=new s({label:"Annuller",moveTo:"kso_problemlist_view",transition:"slide",transitionDir:-1});g.addChild(k);g.addChild(new s({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(g);g=new h({orientation:"vert"});k=new t({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",trim:!0});g.addChild(k);k=new t({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});g.addChild(k);k=new t({name:"do_solution",
label:"Har du selv ideer til at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. G\u00e5 en tur om aften",trim:!0});g.addChild(k);k=new t({name:"do_help",label:"Hvem kan hj\u00e6lpe dig med at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. Evt nabo, der ogs\u00e5 g\u00e5r tur om aften",trim:!0});g.addChild(k);this._form=new a;this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new B);f.subscribe("problem/create",c.hitch(this,
function(a,b){l.set("moveTo",a.id);this._item=c.clone(b);this._form.set("value",this._item);a.performTransition("kso_problemcreate_view",1,"slide")}))},onSubmit:function(a){l.stop(a);var a=z.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value");b.active=!0;b=c.mixin(this._item,b);a.add(b);f.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C){return g([p],{id:"kso_problemedit_view",_form:null,_item:null,postCreate:function(){var b=this,d=new C;d.confirm("Hj\u00e6lp til probleml\u00f8sning",'Siden viser redigering af probleml\u00f8sning.<br /><br />Tryk p\u00e5 "aktiv/sluk" knappen for at aktivere handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at oprette eller redigere handleplan.');this.addChild(d);sview=new q;var g=new v({label:"Rediger probleml\u00f8sning",
"class":"headingProblem"}),k=new s({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_home_view"});g.addChild(k);g.addChild(new s({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));g.addChild(new s({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionProblemEdit","headingAction-closed");b.resize()}}));this.addChild(g);
var g=new v({id:"headingActionProblemEdit",baseClass:"headingActionProblem"}),l=new s({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});g.addChild(l);g.addChild(new s({label:"Afslut",transition:"slide",onClick:function(){f.publish("problem/eval",b,b._item)}}));g.addChild(new s({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(g);var g=new h({orientation:"vert"}),m=new t({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",
trim:!0});g.addChild(m);m=new t({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});g.addChild(m);m=new t({name:"do_solution",label:"Har du selv ideer til at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. G\u00e5 en tur om aften",trim:!0});g.addChild(m);m=new t({name:"do_help",label:"Hvem kan hj\u00e6lpe dig med at l\u00f8se problemet?","class":"mochInput",placeHolder:"fx. Evt nabo, der ogs\u00e5 g\u00e5r tur om aften",
trim:!0});g.addChild(m);m=new A({label:"Slet probleml\u00f8sning?",name:"hidden",leftLabel:"Ja",rightLabel:"Nej"});g.addChild(m);this._form=new a;this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new B);f.subscribe("problem/edit",c.hitch(this,function(a,b){k.set("moveTo",a.id);l.set("moveTo",a.id);this._item=c.clone(b);if(this._item.active)this._item.active="on";this._form.set("value",this._item);a.performTransition("kso_problemedit_view",1,"slide")}))},
onSubmit:function(a){l.stop(a);var a=z.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value");b.hidden="on"==b.hidden;b=c.mixin(this._item,b);b.id=this._item.id;b.rev=this._item.rev;a.put(b);f.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEval":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/ExpandingTextArea,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojox/mobile/RadioButton,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z,E,B,C,J,M){return g([p],{id:"kso_problemeval_view",_form:null,_item:null,postCreate:function(){var b=new M;b.confirm("Hj\u00e6lp til afslut probleml\u00f8sning",'Siden viser afslutning af probleml\u00f8sning.<br /><br />Tryk p\u00e5 "Gem" knappen for at afslutte probleml\u00f8sningen.<br /><br />Angiv din evaluering af probleml\u00f8sningen.');this.addChild(b);sview=new q;var d=new s({label:"Afslut probleml\u00f8sning","class":"headingProblem"}),
g=new u({icon:"/kso/kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},moveTo:"kso_problemlist_view"});d.addChild(g);d.addChild(new u({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));d.addChild(new u({icon:"/kso/kso/images/btn_action.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){e.toggle("headingActionProblemEval","headingAction-closed");self.resize()}}));this.addChild(d);var d=new s({id:"headingActionProblemEval",
baseClass:"headingActionProblem"}),k=new u({label:"Annuller",moveTo:"kso_planlist_view",transition:"slide",transitionDir:-1});d.addChild(k);d.addChild(new u({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(d);var d=new h({orientation:"vert"}),l=new t({label:"Evaluering af probleml\u00f8sning:",name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});d.addChild(l);l=new h;l.addChild(new z({label:"Succes",name:"do_evaluate_tmp",
value:1}));l.addChild(new z({label:"Delvis-succes",name:"do_evaluate_tmp",value:2}));l.addChild(new z({label:"Ikke-succes",name:"do_evaluate_tmp",value:3}));this._form=new a;this._form.domNode.appendChild(d.domNode);this._form.domNode.appendChild(l.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new J);f.subscribe("problem/eval",c.hitch(this,function(a,b){g.set("moveTo",a.id);k.set("moveTo",a.id);this._item=c.clone(b);this._form.set("value",this._item);a.performTransition("kso_problemeval_view",
1,"slide")}))},onSubmit:function(a){l.stop(a);var a=B.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value");b.active=!1;b.do_evaluate=b.do_evaluate_tmp;b=c.mixin(this._item,b);a.put(b);f.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/Problem":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x){return g([n],{id:"kso_problem_view",_item:null,postCreate:function(){var g=new x;g.confirm("Hj\u00e6lp til dagbog","Siden viser afsluttet probleml\u00f8sning.");this.addChild(g);sview=new e;var l=new r({label:"Probleml\u00f8sning",back:"Tilbage",moveTo:"kso_problemlist_view","class":"headingProblem"});l.addChild(new h({icon:"/kso/kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(l);
l=new d({label:"Overvejelser:","class":"categoryProblem"});sview.addChild(l);l=new a;sview.addChild(l);var k=new b({label:""});l.addChild(k);var m=new b({label:""});l.addChild(m);var n=new b({label:""});l.addChild(n);var o=new b({label:""});l.addChild(o);l=new d({label:"Evaluering:","class":"categoryProblem"});sview.addChild(l);l=new a;sview.addChild(l);var p=new b({label:""});l.addChild(p);var q=new b({label:""});l.addChild(q);this.addChild(sview);this.addChild(new u);f.subscribe("problem",c.hitch(this,
function(a,b){this._item=b;k.set("label","Hvad er problemet: "+b.do_what);m.set("label","Hvad forhindrer dig i at lykkes: "+b.do_prevent);n.set("label","Har du selv ideer til at l\u00f8se problemet: "+b.do_solution);o.set("label","Hvem kan hj\u00e6lpe dig med at l\u00f8se problemet: "+b.do_help);if(1==b.do_evaluate)b.do_evaluate="Succes";else if(2==b.do_evaluate)b.do_evaluate="Delvis-succes";else if(3==b.do_evaluate)b.do_evaluate="Ikke-succes";p.set("label","Bed\u00f8mmelse: "+b.do_evaluate);q.set("label",
"Tekst: "+b.do_evaluate_txt);a.performTransition("kso_problem_view",1,"slide")}))},onStartView:function(){}})})},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/_base/sniff"],function(k,m){var g=k.getObject("dojox.mobile",!0);m("webkit")||require(["dojox/mobile/_compat"]);return g})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(k,m){var g=document.createElement("div"),f=g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||
g.oMatchesSelector,c=g.querySelectorAll,l=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;k.add("dom-matches-selector",!!f);k.add("dom-qsa",!!c);var o=function(d,a){if(b&&-1<d.indexOf(","))return b(d,a);var f=a?a.ownerDocument||a:m.doc||document,g=(c?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(d),a=a||f;if(g){if(g[2]){var l=m.byId?m.byId(g[2]):f.getElementById(g[2]);if(!l||g[1]&&g[1]!=l.tagName.toLowerCase())return[];
if(a!=f)for(f=l;f!=a;)if(f=f.parentNode,!f)return[];return g[3]?o(g[3],l):[l]}if(g[3]&&a.getElementsByClassName)return a.getElementsByClassName(g[4]);if(g[5])if(l=a.getElementsByTagName(g[5]),g[4]||g[6])d=(g[4]||"")+g[6];else return l}if(c)return 1===a.nodeType&&"object"!==a.nodeName.toLowerCase()?n(a,d,a.querySelectorAll):a.querySelectorAll(d);l||(l=a.getElementsByTagName("*"));for(var g=[],f=0,k=l.length;f<k;f++){var w=l[f];1==w.nodeType&&e(w,d,a)&&g.push(w)}return g},n=function(b,a,c){var e=b,
f=b.getAttribute("id"),g=f||"__dojo__",k=b.parentNode,m=/^\s*[+~]/.test(a);if(m&&!k)return[];f?g=g.replace(/'/g,"\\$&"):b.setAttribute("id",g);if(m&&k)b=b.parentNode;a=a.match(l);for(k=0;k<a.length;k++)a[k]="[id='"+g+"'] "+a[k];a=a.join(",");try{return c.call(b,a)}finally{f||e.removeAttribute("id")}};if(!k("dom-matches-selector"))var e=function(){function b(a,c,d){var e=c.charAt(0);if('"'==e||"'"==e)c=c.slice(1,-1);var c=c.replace(/\\/g,""),f=k[d||""];return function(b){return(b=b.getAttribute(a))&&
f(b,c)}}function a(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function e(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var f="div"==g.tagName?"toLowerCase":"toUpperCase",l={"":function(a){a=a[f]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==
a}}},k={"^=":function(a,b){return 0==a.indexOf(b)},"*=":function(a,b){return-1<a.indexOf(b)},"$=":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~=":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|=":function(a,b){return 0==(a+"-").indexOf(b+"-")},"=":function(a,b){return a==b},"":function(){return!0}},m={};return function(f,g,k){var n=m[g];if(!n){if(g.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(f,g,k,m,o,q,t){m?n=e(n,l[k||""](m.replace(/\\/g,""))):g?n=(" "==g?a:c)(n):o&&(n=e(n,b(o,t,q)));return""}))throw Error("Syntax error in query");if(!n)return!0;m[g]=n}return n(f,k)}}();if(!k("dom-qsa"))var b=function(b,a){for(var c=b.match(l),e=[],f=0;f<c.length;f++){b=new String(c[f].replace(/\s*$/,""));b.indexOf=escape;for(var g=o(b,a),k=0,m=g.length;k<m;k++){var n=g[k];e[n.sourceIndex]=n}}c=[];for(f in e)c.push(e[f]);return c};o.match=f?function(b,a,c){return c&&9!=c.nodeType?n(c,a,function(a){return f.call(b,
a)}):f.call(b,a)}:e;return o})},"dojox/main":function(){define(["dojo/_base/kernel"],function(k){return k.dojox})},"moch/main":function(){define("dojo/_base/config,dijit/form/Form,dijit/Dialog,dojo/store/JsonRest,dojo/store/Observable,dojo/store/Cache,dojo/store/Memory,dojo/cookie,moch/data/ObjectStore,moch/mochx/FlashDetect,dojox/rpc/Service,dojox/rpc/JsonRPC,dojox/date/posix".split(","),function(k,m){if(void 0==m.domain_name)m.domain_name=parent.dojoConfig?parent.dojoConfig.domain_name:"essens"})},
"dijit/Dialog":function(){define("require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w,t,v,s,u,x,y,A,F,G,H,D,I,Q,z){var x=f("dijit._DialogBase",[A,G,H,F],{templateString:Q,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:x.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var b=a.getLocalization("dijit","common");p.mixin(this,b);this.inherited(arguments)},postCreate:function(){e.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&B.isTop(this)&&(this._getFocusItems(this.domNode),u.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=n.position(this.domNode),b=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==w("ie")?s:v)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):o.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else e.set(this.containerNode,{width:"auto",height:"auto"});var a=n.position(this.domNode),b=t.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var c=n.position(this.containerNode),
d=Math.min(a.w,b.w)-(a.w-c.w),a=Math.min(a.h,b.h)-(a.h-c.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:d,h:a})}else e.set(this.containerNode,{width:d+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!o.contains(this.ownerDocumentBody,
"dojoMove")){var a=this.domNode,b=t.getBox(this.ownerDocument),c=this._relativePosition,d=c?null:n.position(a);e.set(a,{left:Math.floor(b.l+(c?c.x:(b.w-d.w)/2))+"px",top:Math.floor(b.t+(c?c.y:(b.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var c=a.target;a.charOrCode===h.TAB&&this._getFocusItems(this.domNode);var d=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&a.shiftKey&&a.charOrCode===h.TAB)d||u.focus(this._lastFocusItem),b.stop(a);else if(c==this._lastFocusItem&&
a.charOrCode===h.TAB&&!a.shiftKey)d||u.focus(this._firstFocusItem),b.stop(a);else{for(;c;){if(c==this.domNode||o.contains(c,"dijitPopup"))if(a.charOrCode==h.ESCAPE)this.onCancel();else return;c=c.parentNode}if(a.charOrCode!==h.TAB)b.stop(a);else if(!w("opera"))try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=t.get(this.ownerDocument);
this._modalconnects.push(q(a,"scroll",p.hitch(this,"resize")));this._modalconnects.push(q(this.domNode,g._keypress,p.hitch(this,"_onKey")));e.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var b;this._fadeInDeferred=new c(p.hitch(this,function(){b.stop();delete this._fadeInDeferred}));b=d.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){B.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&
B.isTop(this)&&(this._getFocusItems(this.domNode),u.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new c(p.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(p.hitch(this,"onHide"));a=d.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,
function(){this.domNode.style.display="none";B.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(D._singleton&&D._singleton.layout(),w("touch")||this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();B.hide(this);this.inherited(arguments)}}),E=f("dijit.Dialog",[I,x],{});E._DialogBase=x;var B=E._DialogLevelManager={_beginZIndex:950,show:function(a,b){C[C.length-1].focus=u.curNode;var c=D._singleton;!c||c._destroyed?c=z._underlay=D._singleton=new D(b):c.set(a.underlayAttrs);var d=C[C.length-1].dialog?C[C.length-1].zIndex+2:
E._DialogLevelManager._beginZIndex;1==C.length&&c.show();e.set(D._singleton.domNode,"zIndex",d-1);e.set(a.domNode,"zIndex",d);C.push({dialog:a,underlayAttrs:b,zIndex:d})},hide:function(a){if(C[C.length-1].dialog==a){C.pop();var b=C[C.length-1];D._singleton._destroyed||(1==C.length?D._singleton.hide():(e.set(D._singleton.domNode,"zIndex",b.zIndex-1),D._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!l.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=m.indexOf(m.map(C,function(a){return a.dialog}),a),-1!=b&&C.splice(b,1)},isTop:function(a){return C[C.length-1].dialog==a}},C=E._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w("dijit-legacy-requires")&&r(0,function(){k(["dijit/TooltipDialog"])});return E})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(k,m,g,f,c,l,o,n,e){var b=g.mixin,
d={},a=d._Line=function(a,b){this.start=a;this.end=b};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var h=d.Animation=function(c){b(this,c);if(g.isArray(this.curve))this.curve=new a(this.curve[0],this.curve[1])};h.prototype=new f;g.extend(h,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,c);else try{this[a].apply(this,
c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=g.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();
this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,
b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/
this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var p=0,q=null,r={run:function(){}};g.extend(h,{_startTimer:function(){if(!this._timer)this._timer=l.connect(r,"run",this,"_cycle"),p++;q||(q=setInterval(g.hitch(r,"run"),this.rate))},_stopTimer:function(){if(this._timer)l.disconnect(this._timer),this._timer=null,p--;0>=p&&(clearInterval(q),q=null,p=0)}});var w=o("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==e.get(a,"width"))b.width="auto"}:function(){};d._fade=function(a){a.node=n.byId(a.node);var c=b({properties:{}},
a),a=c.properties.opacity={};a.start=!("start"in c)?function(){return+e.get(c.node,"opacity")||0}:c.start;a.end=c.end;a=d.animateProperty(c);l.connect(a,"beforeBegin",g.partial(w,c.node));return a};d.fadeIn=function(a){return d._fade(b({end:1},a))};d.fadeOut=function(a){return d._fade(b({end:0},a))};d._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var t=function(a){this._properties=a;for(var b in a){var d=a[b];if(d.start instanceof c)d.tempColor=new c}};t.prototype.getValue=function(a){var b=
{},d;for(d in this._properties){var e=this._properties[d],f=e.start;f instanceof c?b[d]=c.blendColors(f,e.end,a,e.tempColor).toCss():g.isArray(f)||(b[d]=(e.end-f)*a+f+("opacity"!=d?e.units||"px":0))}return b};d.animateProperty=function(a){var d=a.node=n.byId(a.node);if(!a.easing)a.easing=k._defaultEasing;a=new h(a);l.connect(a,"beforeBegin",a,function(){var a={},f;for(f in this.properties){if("width"==f||"height"==f)this.node.display="block";var h=this.properties[f];g.isFunction(h)&&(h=h(d));h=a[f]=
b({},g.isObject(h)?h:{end:h});if(g.isFunction(h.start))h.start=h.start(d);if(g.isFunction(h.end))h.end=h.end(d);var l=0<=f.toLowerCase().indexOf("color"),k=function(a,b){var c={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==c)return c;c=e.get(a,b);return"opacity"==b?+c:l?c:parseFloat(c)};if("end"in h){if(!("start"in h))h.start=k(d,f)}else h.end=k(d,f);l?(h.start=new c(h.start),h.end=new c(h.end)):h.start="opacity"==f?+h.start:parseFloat(h.start)}this.curve=new t(a)});l.connect(a,"onAnimate",
g.hitch(e,"set",a.node));return a};d.anim=function(a,b,c,e,f,g){return d.animateProperty({node:a,duration:c||h.prototype.duration,properties:b,easing:e,onEnd:f}).play(g||0)};b(k,d);k._Animation=h;return d})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(k,m,g,f){var c=k.Color=function(c){c&&this.setColor(c)};c.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,
255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:f.transparentColor||[0,0,0,0]};m.extend(c,{r:255,g:255,b:255,a:1,_set:function(c,f,g,e){this.r=c;this.g=f;this.b=g;this.a=e},setColor:function(f){m.isString(f)?c.fromString(f,this):m.isArray(f)?c.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof c||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,
this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+g.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var f=this.r+", "+this.g+", "+this.b;return(c?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});c.blendColors=k.blendColors=function(f,k,m,e){var b=e||new c;g.forEach(["r","g","b","a"],function(c){b[c]=f[c]+(k[c]-f[c])*m;"a"!=c&&(b[c]=Math.round(b[c]))});
return b.sanitize()};c.fromRgb=k.colorFromRgb=function(f,g){var k=f.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return k&&c.fromArray(k[1].split(/\s*,\s*/),g)};c.fromHex=k.colorFromHex=function(f,k){var m=k||new c,e=4==f.length?4:8,b=(1<<e)-1,f=Number("0x"+f.substr(1));if(isNaN(f))return null;g.forEach(["b","g","r"],function(c){var a=f&b;f>>=e;m[c]=4==e?17*a:a});m.a=1;return m};c.fromArray=k.colorFromArray=function(f,g){var k=g||new c;k._set(Number(f[0]),Number(f[1]),Number(f[2]),Number(f[3]));
if(isNaN(k.a))k.a=1;return k.sanitize()};c.fromString=k.colorFromString=function(f,g){var k=c.named[f];return k&&c.fromArray(k,g)||c.fromRgb(f,g)||c.fromHex(f,g)};return c})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h){return m("dojo.dnd.Moveable",[o],{handle:"",delay:0,skip:!1,constructor:function(d,e){this.node=
c.byId(d);e||(e={});this.handle=e.handle?c.byId(e.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<e.delay?e.delay:0;this.skip=e.skip;this.mover=e.mover?e.mover:a;this.events=[n(this.handle,b.press,f.hitch(this,"onMouseDown")),n(this.handle,"dragstart",f.hitch(this,"onSelectStart")),n(this.handle,"selectstart",f.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=
null},onMouseDown:function(a){if(!this.skip||!d.isFormElement(a)){if(this.delay)this.events.push(n(this.handle,b.move,f.hitch(this,"onMouseMove")),n(this.handle,b.release,f.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);g.stop(a)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);g.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();
g.stop(a)},onSelectStart:function(a){(!this.skip||!d.isFormElement(a))&&g.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){e.publish("/dnd/move/start",a);l.add(h.body(),"dojoMove");l.add(this.node,"dojoMoveItem")},onMoveStop:function(a){e.publish("/dnd/move/stop",a);l.remove(h.body(),"dojoMove");l.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,
b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(k,m,g,f){var c=g.getObject("dojo.dnd",!0);c.getCopyKeyState=k.isCopyKey;c._uniqueId=0;c.getUniqueId=function(){var g;do g=m._scopeName+"Unique"+ ++c._uniqueId;while(f.byId(g));return g};c._empty={};c.isFormElement=function(c){c=c.target;if(3==c.nodeType)c=c.parentNode;return 0<=" button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+
" ")};return c})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(k,m,g,f,c,l,o,n,e,b,d,a,h,p){return m("dojo.dnd.Mover",[b],{constructor:function(b,c,e){this.node=o.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=e;b=b.ownerDocument;this.events=[d(b,a.move,f.hitch(this,"onFirstMove")),
d(b,a.move,f.hitch(this,"onMouseMove")),d(b,a.release,f.hitch(this,"onMouseUp")),d(b,"dragstart",g.stop),d(b.body,"selectstart",g.stop)];p.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);g.stop(a)},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();g.stop(a)},onFirstMove:function(a){var b=this.node.style,
c,d=this.host;switch(b.position){case "relative":case "absolute":c=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=n.getMarginBox(this.node);c=l.doc.body;var f=e.getComputedStyle(c),g=n.getMarginBox(c,f),f=n.getContentBox(c,f);c=b.l-(f.l-g.l);b=b.t-(f.t-g.t)}this.marginBox.l=c-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(d&&d.onFirstMove)d.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){k.forEach(this.events,
function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(k,m,g,f,c,l){var o={};k.setObject("dojo.dnd.autoscroll",o);o.getViewport=l.getBox;o.V_TRIGGER_AUTOSCROLL=32;o.H_TRIGGER_AUTOSCROLL=32;o.V_AUTOSCROLL_VALUE=16;o.H_AUTOSCROLL_VALUE=16;var n,e=g.doc,b=Infinity,d=Infinity;o.autoScrollStart=function(a){e=
a;n=l.getBox(e);a=g.body(e).parentNode;b=Math.max(a.scrollHeight-n.h,0);d=Math.max(a.scrollWidth-n.w,0)};o.autoScroll=function(a){var c=n||l.getBox(e),f=g.body(e).parentNode,k=0,m=0;a.clientX<o.H_TRIGGER_AUTOSCROLL?k=-o.H_AUTOSCROLL_VALUE:a.clientX>c.w-o.H_TRIGGER_AUTOSCROLL&&(k=Math.min(o.H_AUTOSCROLL_VALUE,d-f.scrollLeft));a.clientY<o.V_TRIGGER_AUTOSCROLL?m=-o.V_AUTOSCROLL_VALUE:a.clientY>c.h-o.V_TRIGGER_AUTOSCROLL&&(m=Math.min(o.V_AUTOSCROLL_VALUE,b-f.scrollTop));window.scrollBy(k,m)};o._validNodes=
{div:1,p:1,td:1};o._validOverflow={auto:1,scroll:1};o.autoScrollNodes=function(a){for(var b,d,e,k,l,n,v=0,s=0,u=a.target;u;){if(1==u.nodeType&&u.tagName.toLowerCase()in o._validNodes){e=c.getComputedStyle(u);k=e.overflow.toLowerCase()in o._validOverflow;l=e.overflowX.toLowerCase()in o._validOverflow;n=e.overflowY.toLowerCase()in o._validOverflow;if(k||l||n)b=f.getContentBox(u,e),d=f.position(u,!0);if(k||l){e=Math.min(o.H_TRIGGER_AUTOSCROLL,b.w/2);l=a.pageX-d.x;if(m("webkit")||m("opera"))l+=g.body().scrollLeft;
v=0;0<l&&l<b.w&&(l<e?v=-e:l>b.w-e&&(v=e),u.scrollLeft+=v)}if(k||n){k=Math.min(o.V_TRIGGER_AUTOSCROLL,b.h/2);n=a.pageY-d.y;if(m("webkit")||m("opera"))n+=g.body().scrollTop;s=0;0<n&&n<b.h&&(n<k?s=-k:n>b.h-k&&(s=k),u.scrollTop+=s)}if(v||s)return}try{u=u.parentNode}catch(x){u=null}}o.autoScroll(a)};return o})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(k,m){var g=m.prototype.onMove;return k("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(f,c){c||
(c={});if(c.timeout&&"number"==typeof c.timeout&&0<=c.timeout)this.timeout=c.timeout},onMoveStop:function(f){f._timer&&(clearTimeout(f._timer),g.call(this,f,f._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(f,c){f._leftTop=c;if(!f._timer){var k=this;f._timer=setTimeout(function(){f._timer=null;g.call(k,f,f._leftTop)},this.timeout)}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(k,m,
g,f,c){var l={};k.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(c){l[c]=f[c]});g.mixin(l,{defaultDuration:m.defaultDuration||200});g.mixin(c,l);return c})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),function(k,m,g,f,c,l,o,n,e,b){m=m("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
k.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,l.hitch(this,"_setStateClass"))},this);for(var b in this.cssStateNodes)this._trackMouseState(this[b],this.cssStateNodes[b]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(b){if(!this.disabled)switch(b.type){case "mouseover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);
this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function b(c){a=a.concat(k.map(a,function(a){return a+c}),"dijit"+c)}var a=this.baseClass.split(" ");this.isLeftToRight()||b("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&b(c);this.state&&b(this.state);this.selected&&b("Selected");this._opened&&b("Opened");this.disabled?b("Disabled"):this.readOnly?
b("ReadOnly"):this.active?b("Active"):this.hovering&&b("Hover");this.focused&&b("Focused");var c=this.stateNode||this.domNode,e={};k.forEach(c.className.split(" "),function(a){e[a]=!0});"_stateClasses"in this&&k.forEach(this._stateClasses,function(a){delete e[a]});k.forEach(a,function(a){e[a]=!0});var f=[],g;for(g in e)f.push(g);c.className=f.join(" ");this._stateClasses=a},_subnodeCssMouseEvent:function(b,a,c){function e(c){f.toggle(b,a+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":f.toggle(b,
a+"Hover",!0);break;case "mouseout":f.toggle(b,a+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":e(!0);break;case "mouseup":case "touchend":e(!1);break;case "focus":case "focusin":f.toggle(b,a+"Focused",!0);break;case "blur":case "focusout":f.toggle(b,a+"Focused",!1)}},_trackMouseState:function(b,a){b._cssState=a}});n(function(){function d(a){if(!g.isDescendant(a.relatedTarget,a.target))for(var c=a.target;c&&c!=a.relatedTarget;c=c.parentNode)if(c._cssState){var d=b.getEnclosingWidget(c);
d&&(c==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(c,c._cssState,a))}}function a(a){a.target=a.srcElement;d(a)}var f=e.body(),l=(c("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);k.forEach(l,function(b){f.addEventListener?f.addEventListener(b,d,!0):f.attachEvent("on"+b,a)});o(f,"focusin, focusout",function(a){var c=a.target;c._cssState&&!c.getAttribute("widgetId")&&b.getEnclosingWidget(c)._subnodeCssMouseEvent(c,c._cssState,a)})});return m})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(k,m){return k("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=m._getTabNavigable(this.containerNode);this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),
function(k,m,g,f,c,l){return k("dijit.DialogUnderlay",[f,c],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(c){m.set(this.node,"id",c+"_underlay");this._set("dialogId",c)},_setClassAttr:function(c){this.node.className="dijitDialogUnderlay "+c;this._set("class",c)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var c=this.node.style,
f=this.domNode.style;f.display="none";var e=g.getBox(this.ownerDocument);f.top=e.t+"px";f.left=e.l+"px";c.width=e.w+"px";c.height=e.h+"px";f.display="block"},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new l(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r,w){return b("dijit.layout.ContentPane",[g,f,c],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:k._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(b,c){if((!b||!b.template)&&c&&!("href"in b)&&!("content"in b)){for(var c=a.byId(c),d=c.ownerDocument.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);b=m.delegate(b,{content:d})}this.inherited(arguments,[b,c])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=l.substitute(this.loadingMessage,a);this.errorMessage=l.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&e.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){e.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=
!0});this._contentSetter&&e.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){k.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&
this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){k.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},
cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,
"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||q.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();
delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;e.forEach(this.getChildren(),
function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(e.forEach(b.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete b.parseResults);a||p.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;if(!(c&&c instanceof o._ContentSetter))c=this._contentSetter=new o._ContentSetter({node:this.containerNode,
_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});var d=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(m.isObject(a)&&a.domNode?
a.domNode:a,d),e=this;return w(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},
"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(k,m,g,f,c,l,o){var n={};m.setObject("dojo.html",n);var e=0;n._secureForInnerHtml=function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};n._emptyNode=l.empty;n._setNodeContent=function(b,c){l.empty(b);if(c)if("string"==typeof c&&(c=l.toDom(c,b.ownerDocument)),!c.nodeType&&m.isArrayLike(c))for(var a=c.length,e=0;e<c.length;e=
a==c.length?e+1:0)l.place(c[e],b,"last");else l.place(c,b,"last");return b};n._ContentSetter=f("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:k._scopeName,startup:!0,constructor:function(b,d){m.mixin(this,b||{});d=this.node=c.byId(this.node||d);if(!this.id)this.id=["Setter",d?d.id||d.tagName:"",e++].join("_")},set:function(b,c){if(void 0!==b)this.content=b;c&&this._mixin(c);this.onBegin();this.setContent();var a=this.onEnd();
return a&&a.then?a:this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=n._setNodeContent(b,this.content)}catch(c){var a=this.onContentError(c);try{b.innerHTML=a}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=b},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&
this.parseResults.length&&(g.forEach(this.parseResults,function(b){b.destroy&&b.destroy()}),delete this.parseResults);l.empty(this.node)},onBegin:function(){var b=this.content;if(m.isString(b)&&(this.cleanContent&&(b=n._secureForInnerHtml(b)),this.extractContent)){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(b=c[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;
delete this.node;delete this.content},onContentError:function(b){return"Error occurred setting content: "+b},onExecError:function(b){return"Error occurred executing scripts: "+b},_mixin:function(b){var c={},a;for(a in b)a in c||(this[a]=b[a])},_parse:function(){var b=this.node;try{var c={};g.forEach(["dir","lang","textDir"],function(a){this[a]&&(c[a]=this[a])},this);var a=this;this.parseDeferred=o.parse({rootNode:b,noStart:!this.startup,inherited:c,scope:this.parserScope}).then(function(b){return a.parseResults=
b},function(b){a._onError("Content",b,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,c,a){b=this["on"+b+"Error"].call(this,c);a?console.error(a,c):b&&n._setNodeContent(this.node,b,!0)}});n.set=function(b,c,a){void 0==c&&(c="");return a?(new n._ContentSetter(m.mixin(a,{content:c,node:b}))).set():n._setNodeContent(b,c,!0)};return n})},"dojo/parser":function(){define("require,./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),
function(k,m,g,f,c,l,o,n,e,b,d,a,h,p,q,r){function w(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<v){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=v}return b}function t(a){var b=a.join();if(!s[b]){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];c[c.length]=s[f]=s[f]||g.getObject(f)||~f.indexOf("/")&&k(f)}a=c.shift();s[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return s[b]}var v=0;b.after(g,"extend",function(){v++},
!0);var s={},u={_clearCache:function(){v++;s={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);g&&g.length&&f.forEach(g.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||m._scopeName)+"Type",e="data-"+(c.scope||m._scopeName)+"-",g=e+"type",h=e+"mixins",k=[];f.forEach(a,function(a){var c=d in
b?b[d]:a.getAttribute(g)||a.getAttribute(d);if(c){var e=a.getAttribute(h),c=e?[c].concat(e.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,c)},_instantiate:function(a,b,c){a=f.map(a,function(a){var d=a.ctor||t(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&f.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},
construct:function(a,c,k,l,o,r){var x;var s=a&&a.prototype,l=l||{},t={};l.defaults&&g.mixin(t,l.defaults);r&&g.mixin(t,r);var v;h("dom-attributes-explicit")?v=c.attributes:h("dom-attributes-specified-flag")?v=f.filter(c.attributes,function(a){return a.specified}):(r=(/^input$|^img$/i.test(c.nodeName)?c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=f.map(r.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,
value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var u=l.scope||m._scopeName,r="data-"+u+"-",E={};"dojo"!==u&&(E[r+"props"]="data-dojo-props",E[r+"type"]="data-dojo-type",E[r+"mixins"]="data-dojo-mixins",E[u+"type"]="dojoType",E[r+"id"]="data-dojo-id");for(var u=0,B,C=[],J,M;B=v[u++];){var P=B.name,N=P.toLowerCase();B=B.value;switch(E[N]||N){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":M=B;break;case "data-dojo-id":case "jsid":J=
B;break;case "data-dojo-attach-point":case "dojoattachpoint":t.dojoAttachPoint=B;break;case "data-dojo-attach-event":case "dojoattachevent":t.dojoAttachEvent=B;break;case "class":t["class"]=c.className;break;case "style":t.style=c.style&&c.style.cssText;break;default:if(P in s||(P=w(a)[N]||P),P in s)switch(typeof s[P]){case "string":t[P]=B;break;case "number":t[P]=B.length?Number(B):NaN;break;case "boolean":t[P]="false"!=B.toLowerCase();break;case "function":t[P]=""===B||-1!=B.search(/[^\w\.]+/i)?
new Function(B):g.getObject(B,!1)||new Function(B);C.push(P);break;default:N=s[P],t[P]=N&&"length"in N?B?B.split(/\s*,\s*/):[]:N instanceof Date?""==B?new Date(""):"now"==B?new Date:d.fromISOString(B):N instanceof n?m.baseUrl+B:e.fromJson(B)}else t[P]=B}}for(u=0;u<C.length;u++)v=C[u].toLowerCase(),c.removeAttribute(v),c[v]=null;if(M)try{M=e.fromJson.call(l.propsThis,"{"+M+"}"),g.mixin(t,M)}catch(U){throw Error(U.toString()+" in data-dojo-props='"+M+"'");}g.mixin(t,k);o||(o=a&&(a._noScript||s._noScript)?
[]:p("> script[type^='dojo/']",c));k=[];l=[];M=[];C=[];if(o)for(u=0;u<o.length;u++){var L=o[u];c.removeChild(L);v=L.getAttribute(r+"event")||L.getAttribute("event");E=L.getAttribute(r+"prop");P=L.getAttribute(r+"method");N=L.getAttribute(r+"advice");B=L.getAttribute("type");L=this._functionFromScript(L,r);v?"dojo/connect"==B?k.push({method:v,func:L}):"dojo/on"==B?C.push({event:v,func:L}):t[v]=L:"dojo/aspect"==B?k.push({method:P,advice:N,func:L}):"dojo/watch"==B?M.push({prop:E,func:L}):l.push(L)}x=
(o=a.markupFactory||s.markupFactory)?o(t,c,a):new a(t,c),a=x;J&&g.setObject(J,a);for(u=0;u<k.length;u++)b[k[u].advice||"after"](a,k[u].method,g.hitch(a,k[u].func),!0);for(u=0;u<l.length;u++)l[u].call(a);for(u=0;u<M.length;u++)a.watch(M[u].prop,M[u].func);for(u=0;u<C.length;u++)q(a,C[u].event,C[u].func);return a},scan:function(b,c){function d(a){if(!a.inherited){a.inherited={};var b=a.node,c=d(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(p)||
c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],g=[],h={},l=(c.scope||m._scopeName)+"Type",n="data-"+(c.scope||m._scopeName)+"-",o=n+"type",p=n+"textdir",n=n+"mixins",q=b.firstChild,r=c.inherited;if(!r){var s=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&s(a.parentNode,b)},r={dir:s(b,"dir"),lang:s(b,"lang"),textDir:s(b,p)},w;for(w in r)r[w]||delete r[w]}for(var r={inherited:r},u,v;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(u&&"script"==
q.nodeName.toLowerCase())(N=q.getAttribute("type"))&&/^dojo\/\w/i.test(N)&&u.push(q),q=q.nextSibling;else if(v)q=q.nextSibling;else{var N=q.getAttribute(o)||q.getAttribute(l);w=q.firstChild;if(!N&&(!w||3==w.nodeType&&!w.nextSibling))q=q.nextSibling;else{v=null;if(N){var U=q.getAttribute(n);u=U?[N].concat(U.split(/\s*,\s*/)):[N];try{v=t(u)}catch(L){}v||f.forEach(u,function(a){~a.indexOf("/")&&!h[a]&&(h[a]=!0,g[g.length]=a)});U=v&&!v.prototype._noScript?[]:null;r={types:u,ctor:v,parent:r,node:q,scripts:U};
r.inherited=d(r);e.push(r)}else r={node:q,scripts:u,parent:r};q=w;u=U;v=v&&v.prototype.stopParser&&!c.template}}else{if(!r||!r.node)break;q=r.node.nextSibling;v=!1;r=r.parent;u=r.scripts}var K=new a;g.length?k(g,function(){K.resolve(f.filter(e,function(a){if(!a.ctor)try{a.ctor=t(a.types)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):
K.resolve(e);return K.promise},_require:function(b){var b=e.fromJson("{"+b.innerHTML+"}"),c=[],d=[],f=new a,h;for(h in b)c.push(h),d.push(b[h]);k(d,function(){for(var a=0;a<c.length;a++)g.setObject(c[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(b){var c=new a,d=c.promise;c.resolve(!0);var e=this;p("script[type='dojo/require']",b).forEach(function(a){d=d.then(function(){return e._require(a)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var c;!b&&a&&a.rootNode?
(b=a,c=b.rootNode):a&&g.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?l.byId(c):o.body();var b=b||{},d=b.template?{template:!0}:{},e=[],f=this,h=this._scanAmd(c,b).then(function(){return f.scan(c,b)}).then(function(a){return e=e.concat(f._instantiate(a,d,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(e,h);return e}};m.parser=u;c.parseOnLoad&&r(100,u,"parse");return u})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(k,m,g,f,c,l,o,n){k.byId=m.byId;k.isDescendant=m.isDescendant;k.setSelectable=m.setSelectable;k.getAttr=f.get;k.setAttr=f.set;k.hasAttr=f.has;k.removeAttr=f.remove;k.getNodeProp=f.getNodeProp;k.attr=function(c,b,d){return 2==arguments.length?f["string"==typeof b?"get":"set"](c,b):f.set(c,b,d)};k.hasClass=l.contains;k.addClass=l.add;k.removeClass=l.remove;k.toggleClass=l.toggle;k.replaceClass=l.replace;k._toDom=k.toDom=o.toDom;k.place=o.place;k.create=o.create;k.empty=function(c){o.empty(c)};
k._destroyElement=k.destroy=function(c){o.destroy(c)};k._getPadExtents=k.getPadExtents=n.getPadExtents;k._getBorderExtents=k.getBorderExtents=n.getBorderExtents;k._getPadBorderExtents=k.getPadBorderExtents=n.getPadBorderExtents;k._getMarginExtents=k.getMarginExtents=n.getMarginExtents;k._getMarginSize=k.getMarginSize=n.getMarginSize;k._getMarginBox=k.getMarginBox=n.getMarginBox;k.setMarginBox=n.setMarginBox;k._getContentBox=k.getContentBox=n.getContentBox;k.setContentSize=n.setContentSize;k._isBodyLtr=
k.isBodyLtr=n.isBodyLtr;k._docScroll=k.docScroll=n.docScroll;k._getIeDocumentElementOffset=k.getIeDocumentElementOffset=n.getIeDocumentElementOffset;k._fixIeBiDiScrollLeft=k.fixIeBiDiScrollLeft=n.fixIeBiDiScrollLeft;k.position=n.position;k.marginBox=function(c,b){return b?n.setMarginBox(c,b):n.getMarginBox(c)};k.contentBox=function(c,b){return b?n.setContentSize(c,b):n.getContentBox(c)};k.coords=function(c,b){k.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var c=m.byId(c),
d=g.getComputedStyle(c),d=n.getMarginBox(c,d),a=n.position(c,b);d.x=a.x;d.y=a.y;return d};k.getProp=c.get;k.setProp=c.set;k.prop=function(e,b,d){return 2==arguments.length?c["string"==typeof b?"get":"set"](e,b):c.set(e,b,d)};k.getStyle=g.get;k.setStyle=g.set;k.getComputedStyle=g.getComputedStyle;k.__toPixelValue=k.toPixelValue=g.toPixelValue;k.style=function(c,b,d){switch(arguments.length){case 1:return g.get(c);case 2:return g["string"==typeof b?"get":"set"](c,b)}return g.set(c,b,d)};return k})},
"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"moch/mochx/FlashDetect":function(){define(["dojo/_base/declare","dojo/string"],function(k){return k([],{installed:!1,raw:"",major:-1,minor:-1,revision:-1,revisionStr:"",JS_RELEASE:"1.0.4",activeXDetectRules:[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(k){return getActiveXVersion(k)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(k){var g="6,0,21";try{k.AllowScriptAccess="always",g=getActiveXVersion(k)}catch(f){}return g}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(k){return getActiveXVersion(k)}}],
getActiveXVersion:function(k){var g=-1;try{g=k.GetVariable("$version")}catch(f){}return g},getActiveXObject:function(k){var g=-1;try{g=new ActiveXObject(k)}catch(f){g={activeXError:!0}}return g},parseActiveXVersion:function(k){var g=k.split(",");return{raw:k,major:parseInt(g[0].split(" ")[1],10),minor:parseInt(g[1],10),revision:parseInt(g[2],10),revisionStr:g[2]}},parseStandardVersion:function(k){var g=k.split(/ +/),f=g[2].split(/\./),g=g[3];return{raw:k,major:parseInt(f[0],10),minor:parseInt(f[1],
10),revisionStr:g,revision:this.parseRevisionStrToInt(g)}},parseRevisionStrToInt:function(k){return parseInt(k.replace(/[a-zA-Z]/g,""),10)||this.revision},majorAtLeast:function(k){return this.major>=k},minorAtLeast:function(k){return this.minor>=k},revisionAtLeast:function(k){return this.revision>=k},versionAtLeast:function(k){var g=[this.major,this.minor,this.revision],f=Math.min(g.length,arguments.length);for(i=0;i<f;i++)if(g[i]>=arguments[i]){if(!(i+1<f&&g[i]==arguments[i]))return!0}else return!1},
constructor:function(){if(navigator.plugins&&0<navigator.plugins.length){var k=navigator.mimeTypes;if(k&&k["application/x-shockwave-flash"]&&k["application/x-shockwave-flash"].enabledPlugin&&k["application/x-shockwave-flash"].enabledPlugin.description){var k=k["application/x-shockwave-flash"].enabledPlugin.description,g=this.parseStandardVersion(k);this.raw=g.raw;this.major=g.major;this.minor=g.minor;this.revisionStr=g.revisionStr;this.revision=g.revision;this.installed=!0}}else if(-1==navigator.appVersion.indexOf("Mac")&&
window.execScript)for(var k=-1,f=0;f<this.activeXDetectRules.length&&-1==k;f++)if(g=this.getActiveXObject(this.activeXDetectRules[f].name),!g.activeXError&&(this.installed=!0,k=this.activeXDetectRules[f].version(g),-1!=k))g=this.parseActiveXVersion(k),this.raw=g.raw,this.major=g.major,this.minor=g.minor,this.revision=g.revision,this.revisionStr=g.revisionStr}})})},"dojox/rpc/Service":function(){define("dojox/rpc/Service",["dojo","dojox","dojo/AdapterRegistry","dojo/_base/url"],function(k,m){k.declare("dojox.rpc.Service",
null,{constructor:function(g,f){function c(c){c._baseUrl=new k._Url(k.isBrowser?location.href:k.config.baseUrl,l||".")+"";m._smd=c;for(var b in m._smd.services){for(var c=b.split("."),d=m,a=0;a<c.length-1;a++)d=d[c[a]]||(d[c[a]]={});d[c[c.length-1]]=m._generateService(b,m._smd.services[b])}}var l,m=this;if(g)if(k.isString(g)||g instanceof k._Url){l=g instanceof k._Url?g+"":g;var n=k._getText(l);if(n)c(k.fromJson(n));else throw Error("Unable to load SMD from "+g);}else c(g);this._options=f?f:{};this._requestId=
0},_generateService:function(g,f){if(this[f])throw Error("WARNING: "+g+" already exists for service. Unable to generate function");f.name=g;var c=k.hitch(this,"_executeMethod",f),l=m.rpc.transportRegistry.match(f.transport||this._smd.transport);l.getExecutor&&(c=l.getExecutor(c,f,this));l=f.returns||(f._schema={});l._service=c;c.servicePath="/"+g+"/";c._schema=l;c.id=m.rpc.Service._nextId++;return c},_getRequest:function(g,f){var c=this._smd,l=m.rpc.envelopeRegistry.match(g.envelope||c.envelope||
"NONE"),o=(g.parameters||[]).concat(c.parameters||[]);if(l.namedParams){if(1==f.length&&k.isObject(f[0]))f=f[0];else{for(var n={},e=0;e<g.parameters.length;e++)if("undefined"!=typeof f[e]||!g.parameters[e].optional)n[g.parameters[e].name]=f[e];f=n}if(g.strictParameters||c.strictParameters)for(e in f){for(var n=!1,b=0;b<o.length;b++)o[e].name==e&&(n=!0);n||delete f[e]}for(e=0;e<o.length;e++)if(n=o[e],!n.optional&&n.name&&!f[n.name])if(n["default"])f[n.name]=n["default"];else if(!(n.name in f))throw Error("Required parameter "+
n.name+" was omitted");}else o&&o[0]&&o[0].name&&1==f.length&&k.isObject(f[0])&&(f=!1===l.namedParams?m.rpc.toOrdered(o,f):f[0]);k.isObject(this._options)&&(f=k.mixin(f,this._options));o=g._schema||g.returns;e=l.serialize.apply(this,[c,g,f]);e._envDef=l;return k.mixin(e,{sync:m.rpc._sync,contentType:g.contentType||c.contentType||e.contentType,headers:g.headers||c.headers||e.headers||{},target:e.target||m.rpc.getTarget(c,g),transport:g.transport||c.transport||e.transport,envelope:g.envelope||c.envelope||
e.envelope,timeout:g.timeout||c.timeout,callbackParamName:g.callbackParamName||c.callbackParamName,rpcObjectParamName:g.rpcObjectParamName||c.rpcObjectParamName,schema:o,handleAs:e.handleAs||"auto",preventCache:g.preventCache||c.preventCache,frameDoc:this._options.frameDoc||void 0})},_executeMethod:function(g){var f=[],c;for(c=1;c<arguments.length;c++)f.push(arguments[c]);var k=this._getRequest(g,f),f=m.rpc.transportRegistry.match(k.transport).fire(k);f.addBoth(function(c){return k._envDef.deserialize.call(this,
c)});return f}});m.rpc.getTarget=function(g,f){var c=g._baseUrl;g.target&&(c=new k._Url(c,g.target)+"");f.target&&(c=new k._Url(c,f.target)+"");return c};m.rpc.toOrdered=function(g,f){if(k.isArray(f))return f;for(var c=[],l=0;l<g.length;l++)c.push(f[g[l].name]);return c};m.rpc.transportRegistry=new k.AdapterRegistry(!0);m.rpc.envelopeRegistry=new k.AdapterRegistry(!0);m.rpc.envelopeRegistry.register("URL",function(g){return"URL"==g},{serialize:function(g,f,c){return{data:k.objectToQuery(c),transport:"POST"}},
deserialize:function(g){return g},namedParams:!0});m.rpc.envelopeRegistry.register("JSON",function(g){return"JSON"==g},{serialize:function(g,f,c){return{data:k.toJson(c),handleAs:"json",contentType:"application/json"}},deserialize:function(g){return g}});m.rpc.envelopeRegistry.register("PATH",function(g){return"PATH"==g},{serialize:function(g,f,c){var l,g=m.rpc.getTarget(g,f);if(k.isArray(c))for(l=0;l<c.length;l++)g+="/"+c[l];else for(l in c)g+="/"+l+"/"+c[l];return{data:"",target:g}},deserialize:function(g){return g}});
m.rpc.transportRegistry.register("POST",function(g){return"POST"==g},{fire:function(g){g.url=g.target;g.postData=g.data;return k.rawXhrPost(g)}});m.rpc.transportRegistry.register("GET",function(g){return"GET"==g},{fire:function(g){g.url=g.target+(g.data?"?"+(g.rpcObjectParamName?g.rpcObjectParamName+"=":"")+g.data:"");return k.xhrGet(g)}});m.rpc.transportRegistry.register("JSONP",function(g){return"JSONP"==g},{fire:function(g){g.url=g.target+(-1==g.target.indexOf("?")?"?":"&")+(g.rpcObjectParamName?
g.rpcObjectParamName+"=":"")+g.data;g.callbackParamName=g.callbackParamName||"callback";return k.io.script.get(g)}});m.rpc.Service._nextId=1;k._contentHandlers.auto=function(g){var f=k._contentHandlers,c=g.getResponseHeader("Content-Type");return!c?f.text(g):c.match(/\/.*json/)?f.json(g):c.match(/\/javascript/)?f.javascript(g):c.match(/\/xml/)?f.xml(g):f.text(g)};return m.rpc.Service})},"dojo/main":function(){define("dojo/main","./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,require,./_base/browser,./_base/loader".split(","),
function(k,m,g,f,c,l,o,n){o.isDebug&&g(["./_firebug/firebug"]);var e=o.require;e&&(e=l.map(c.isArray(e)?e:[e],function(b){return b.replace(/\./g,"/")}),k.isAsync?g(e):n(1,function(){g(e)}));return k})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(k){return k})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array",
"./html","../NodeList-dom"],function(k,m,g){var m=m.NodeList,f=m.prototype;f.connect=m._adaptAsForEach(function(){return k.connect.apply(this,arguments)});f.coords=m._adaptAsMap(k.coords);m.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");g.forEach(m.events,function(c){var g="on"+c;f[g]=function(c,f){return this.connect(g,c,f)}});return k.NodeList=m})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),
function(k,m,g,f,c,l,o,n,e){function b(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},a=function(a){var b=a.parentNode;b&&b.removeChild(a)},h=m.NodeList,p=h._adaptWithCondition,q=h._adaptAsForEach,r=h._adaptAsMap;f.extend(h,{_normalize:function(a,b){var c=!0===a.parse;if("string"==typeof a.template)var d=a.templateFunc||k.string&&k.string.substitute,a=d?d(a.template,a):a;d=typeof a;
"string"==d||"number"==d?(a=l.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?f._toArray(a.childNodes):[a]):f.isArrayLike(a)?f.isArray(a)||(a=f._toArray(a)):a=[a];if(c)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,c,d){if(!(1!=b.nodeType&&"only"==c))for(var e,f=a.length,g=f-1;0<=g;g--){var h=d?this._cloneNode(a[g]):a[g];if(a._runParse&&k.parser&&k.parser.parse){e||(e=b.ownerDocument.createElement("div"));e.appendChild(h);k.parser.parse(e);for(h=e.firstChild;e.firstChild;)e.removeChild(e.firstChild)}g==
f-1?l.place(h,b,c):b.parentNode.insertBefore(h,b);b=h}},position:r(o.position),attr:p(b(n),d),style:p(b(e),d),addClass:q(c.add),removeClass:q(c.remove),toggleClass:q(c.toggle),replaceClass:q(c.replace),empty:q(l.empty),removeAttr:q(n.remove),marginBox:r(o.getMarginBox),place:function(a,b){var c=m(a)[0];return this.forEach(function(a){l.place(a,c,b)})},orphan:function(b){return(b?m._filterResult(this,b):this).forEach(a)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;
var b=new h;this.map(function(c){m(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(g.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){for(var a=this._normalize(a,this[0]),c=0,d;d=this[c];c++)this._place(a,d,b,0<c);return this}});return h})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),
function(k,m,g,f,c,l,o){var n=function(a){return a.replace(/\./g,"/")},e=/\/\/>>built/,b=[],d=[],a=function(a,c,e){b.push(e);o.forEach(a.split(","),function(a){a=I(a,c.module);d.push(a);Q(a)});h()},h=function(){var a,c;for(c in H){a=H[c];if(void 0===a.noReqPluginCheck)a.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0;if(!a.executed&&!a.noReqPluginCheck&&a.injected==u)return}M(function(){var a=b;b=[];o.forEach(a,function(a){a(1)})})},p=function(a,b,c){var d=/\(|\)/g,e=1;for(d.lastIndex=
b;(b=d.exec(a))&&!(e=")"==b[0]?e-1:e+1,0==e););if(0!=e)throw"unmatched paren around character "+d.lastIndex+" in: "+a;return[k.trim(a.substring(c,d.lastIndex))+";\n",d.lastIndex]},q=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,r=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,w=/(^|\s)(require|define)\s*\(/m,t=function(a,b){var c,d,e,f=[],g=[];c=[];for(b=b||a.replace(q,function(a){r.lastIndex=w.lastIndex=0;return r.test(a)||w.test(a)?"":a});c=r.exec(b);)d=
r.lastIndex,e=d-c[0].length,d=p(b,d,e),"loadInit"==c[2]?f.push(d[0]):g.push(d[0]),r.lastIndex=d[1];c=f.concat(g);return c.length||!w.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),c]:0},v=g.initSyncLoader(a,h,function(a,b){var c,d,f=[],g=[];if(e.test(b)||!(c=t(b)))return 0;d=a.mid+"-*loadInit";for(var h in I("dojo",a).result.scopeMap)f.push(h),g.push('"'+h+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+d+"',{\n\tnames:"+k.toJson(f)+",\n\tdef:function("+
f.join(",")+"){"+c[1]+"}});\n\ndefine("+k.toJson(f.concat(["dojo/loadInit!"+d]))+", function("+f.join(",")+"){\n"+c[0]+"});"}),s=v.sync,u=v.requested,x=v.arrived,y=v.nonmodule,A=v.executing,F=v.executed,G=v.syncExecStack,H=v.modules,D=v.execQ,I=v.getModule,Q=v.injectModule,z=v.setArrived,E=v.signal,B=v.finishExec,C=v.execModule,J=v.getLegacyMode,M=v.guardCheckComplete,a=v.dojoRequirePlugin;k.provide=function(a){var b=G[0],c=l.mixin(I(n(a),g.module),{executed:A,result:l.getObject(a,!0)});z(c);if(b)(b.provides||
(b.provides=[])).push(function(){c.result=l.getObject(a);delete c.provides;c.executed!==F&&B(c)});return c.result};m.add("config-publishRequireResult",1,0,0);k.require=function(a,b){var c=function(a,b){var c=I(n(a),g.module);if(G.length&&G[0].finish)G[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=y);var d=J();Q(c);d=J();c.executed!==F&&c.injected===x&&v.guardCheckComplete(function(){C(c)});if(c.executed)return c.result;d==s?c.cjs?D.unshift(c):G.length&&(G[0].finish=[a]):D.push(c)}}(a,
b);m("config-publishRequireResult")&&!l.exists(a)&&void 0!==c&&l.setObject(a,c);return c};k.loadInit=function(a){a()};k.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;g({paths:c})};k.platformRequire=function(a){for(var a=(a.common||[]).concat(a[k._name]||a["default"]||[]),b;a.length;)l.isArray(b=a.shift())?k.require.apply(k,b):k.require(b)};k.requireIf=k.requireAfterIf=function(a,b,c){a&&k.require(b,c)};k.requireLocalization=function(a,b,c){g(["../i18n"],function(d){d.getLocalization(a,
b,c)})};return{extractLegacyApiApplications:t,require:a,loadInit:function(b,c,d){c([b],function(b){c(b.names,function(){for(var e="",g=[],h=0;h<arguments.length;h++)e+="var "+b.names[h]+"= arguments["+h+"]; ",g.push(arguments[h]);eval(e);var l=c.module,m=[],o,e={provide:function(a){a=n(a);a=I(a,l);a!==l&&z(a)},require:function(a,b){a=n(a);b&&(I(a,l).result=y);m.push(a)},requireLocalization:function(a,b,c){o||(o=["dojo/i18n"]);c=(c||k.locale).toLowerCase();a=n(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+
n(b);I(a,l).isXd&&o.push("dojo/i18n!"+a)},loadInit:function(a){a()}},h={},p;try{for(p in e)h[p]=k[p],k[p]=e[p];b.def.apply(null,g)}catch(q){E("error",[{src:f.id,id:"failedDojoLoadInit"},q])}finally{for(p in e)k[p]=h[p]}o&&(m=m.concat(o));m.length?a(m.join(","),c,d):d()})})}}})},"dojo/AdapterRegistry":function(){define(["./_base/kernel","./_base/lang"],function(k,m){var g=k.AdapterRegistry=function(f){this.pairs=[];this.returnWrappers=f||!1};m.extend(g,{register:function(f,c,g,k,m){this.pairs[m?"unshift":
"push"]([f,c,g,k])},match:function(){for(var f=0;f<this.pairs.length;f++){var c=this.pairs[f];if(c[1].apply(this,arguments))return c[3]||this.returnWrappers?c[2]:c[2].apply(this,arguments)}throw Error("No match found");},unregister:function(f){for(var c=0;c<this.pairs.length;c++)if(this.pairs[c][0]==f)return this.pairs.splice(c,1),!0;return!1}});return g})},"dojox/rpc/JsonRPC":function(){define("dojox/rpc/JsonRPC",["dojo","dojox","dojox/rpc/Service","dojo/errors/RequestError"],function(k,m,g,f){function c(c){return{serialize:function(f,
g,e){f={id:this._requestId++,method:g.name,params:e};if(c)f.jsonrpc=c;return{data:k.toJson(f),handleAs:"json",contentType:"application/json",transport:"POST"}},deserialize:function(c){if("Error"==c.name||c instanceof f)c=k.fromJson(c.responseText);if(c.error){var g=Error(c.error.message||c.error);g._rpcErrorObject=c.error;return g}return c.result}}}m.rpc.envelopeRegistry.register("JSON-RPC-1.0",function(c){return"JSON-RPC-1.0"==c},k.mixin({namedParams:!1},c()));m.rpc.envelopeRegistry.register("JSON-RPC-2.0",
function(c){return"JSON-RPC-2.0"==c},c("2.0"))})},"*now":function(k){k(['dojo/i18n!*preload*kso/nls/main*["en-gb","en-us","da","no","sv","ROOT"]'])}}});(function(){var k=this.require;k({cache:{}});!k.async&&k(["dojo"]);k.boot&&k.apply(null,k.boot)})();