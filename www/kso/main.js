//>>built
(function(h,o){var l,k,c=function(){},g=function(a){for(var f in a)return 0;return 1},q={}.toString,n=function(a){return"[object Function]"==q.call(a)},e=function(a){return"[object String]"==q.call(a)},b=function(a){return"[object Array]"==q.call(a)},d=function(a,f){if(a)for(var b=0;b<a.length;)f(a[b++])},a=function(a,f){for(var b in f)a[b]=f[b];return a},f=function(f,b){return a(Error(f),{src:"dojoLoader",info:b})},p=1,r=function(){return"_"+p++},s=function(a,f,b){return Pa(a,f,b,0,s)},w=this,u=
w.document,x=u&&u.createElement("DiV"),t=s.has=function(a){return n(y[a])?y[a]=y[a](w,u,x):y[a]},y=t.cache=o.hasCache;t.add=function(a,f,b,d){(void 0===y[a]||d)&&(y[a]=f);return b&&t(a)};for(var v in h.has)t.add(v,h.has[v],0,1);var A=1,z=2,E=3,D=4,G=5,A="requested",z="arrived",E="not-a-module",D="executing",G="executed",C=0,H=[],P=0,B=c,I=c,J;s.isXdUrl=c;s.initSyncLoader=function(a,f,b){P||(P=a,B=f,I=b);return{sync:"sync",requested:A,arrived:z,nonmodule:E,executing:D,executed:G,syncExecStack:H,modules:Q,
execQ:T,getModule:V,injectModule:qa,setArrived:da,signal:L,finishExec:fa,execModule:ga,dojoRequirePlugin:P,getLegacyMode:function(){return C},guardCheckComplete:ha}};var F=location.protocol,K=location.host;s.isXdUrl=function(a){if(/^\./.test(a))return!1;return/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=F||K&&a[2]!=K)};t.add("dojo-force-activex-xhr",!u.addEventListener&&"file:"==window.location.protocol);t.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(t("native-xhr")&&
!t("dojo-force-activex-xhr"))J=function(){return new XMLHttpRequest};else{var M=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],W;for(l=0;3>l;)try{if(W=M[l++],new ActiveXObject(W))break}catch(X){}J=function(){return new ActiveXObject(W)}}s.getXhr=J;t.add("dojo-gettext-api",1);s.getText=function(a,b,d){var p=J();p.open("GET",ra(a),!1);p.send(null);if(200==p.status||!location.host&&!p.status)d&&d(p.responseText,b);else throw f("xhrFailed",p.status);return p.responseText};var N=new Function("return eval(arguments[0]);");
s.eval=function(a,f){return N(a+"\r\n////@ sourceURL="+f)};var R={},L=s.signal=function(a,f){var p=R[a];d(p&&p.slice(0),function(a){a.apply(null,b(f)?f:[f])})},Y=s.on=function(a,f){var b=R[a]||(R[a]=[]);b.push(f);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===f){b.splice(a,1);break}}}},O=[],S={},Qa=[],Z={},Ra=s.map={},sa=[],Q={},Ea="",$={},ta={},ia={},ua=function(a){var f,b,d,p;for(f in ta)b=ta[f],(d=f.match(/^url\:(.+)/))?$["url:"+Sa(d[1],a)]=b:"*now"==f?p=b:"*noref"!=f&&(d=ja(f,a),
$[d.mid]=$["url:"+d.url]=b);p&&p(Fa(a));ta={}},Ta=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Ga=function(a,f){f.splice(0,f.length);for(var b in a)f.push([b,a[b],RegExp("^"+Ta(b)+"(/|$)"),b.length]);f.sort(function(a,f){return f[3]-a[3]});return f},Ua=function(f){var b=f.name;b||(b=f,f={name:b});f=a({main:"main"},f);f.location=f.location?f.location:b;if(f.packageMap)Ra[b]=f.packageMap;if(!f.main.indexOf("./"))f.main=f.main.substring(2);Z[b]=f},Va=[],ka=
function(f,b,p){for(var c in f){if("waitSeconds"==c)s.waitms=1E3*(f[c]||0);"cacheBust"==c&&(Ea=f[c]?e(f[c])?f[c]:(new Date).getTime()+"":"");if("baseUrl"==c||"combo"==c)s[c]=f[c];if("async"==c){var g=f[c];s.legacyMode=C=e(g)&&/sync|legacyAsync/.test(g)?g:!g?"sync":!1;s.async=!C}f[c]!==y&&(s.rawConfig[c]=f[c],"has"!=c&&t.add("config-"+c,f[c],0,b))}if(!s.baseUrl)s.baseUrl="./";/\/$/.test(s.baseUrl)||(s.baseUrl+="/");for(c in f.has)t.add(c,f.has[c],0,b);d(f.packages,Ua);for(k in f.packagePaths)d(f.packagePaths[k],
function(a){var f=k+"/"+a;e(a)&&(a={name:a});a.location=f;Ua(a)});Ga(a(Ra,f.map),sa);d(sa,function(a){a[1]=Ga(a[1],[]);if("*"==a[0])sa.star=a});Ga(a(S,f.paths),Qa);d(f.aliases,function(a){e(a[0])&&(a[0]=RegExp("^"+Ta(a[0])+"$"));O.push(a)});if(b)Va.push({config:f.config});else for(c in f.config)b=V(c,p),b.config=a(b.config||{},f.config[c]);if(f.cache)ua(),ta=f.cache,f.cache["*noref"]&&ua();L("config",[f,s.rawConfig])};t("dojo-cdn");var Wa=u.getElementsByTagName("script");l=0;for(var va,ba,wa,la;l<
Wa.length;)if(va=Wa[l++],(wa=va.getAttribute("src"))&&(la=wa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){ba=la[3]||"";o.baseUrl=o.baseUrl||ba;(wa=va.getAttribute("data-dojo-config")||va.getAttribute("djConfig"))&&(ia=s.eval("({ "+wa+" })","data-dojo-config"));break}s.rawConfig={};ka(o,1);if(t("dojo-cdn"))(Z.dojo.location=ba)&&(ba+="/"),Z.dijit.location=ba+"../dijit/",Z.dojox.location=ba+"../dojox/";ka(h,1);ka(ia,1);var ma=function(a){ha(function(){d(a.deps,qa)})},Pa=function(d,p,g,n,k){var q;if(e(d)){if((q=
V(d,n,!0))&&q.executed)return q.result;throw f("undefinedModule",d);}b(d)||(ka(d,0,n),d=p,p=g);if(b(d))if(d.length){for(var g="require*"+r(),h,l=[],w=0;w<d.length;)h=d[w++],l.push(V(h,n));q=a(xa("",g,0,""),{injected:z,deps:l,def:p||c,require:n?n.require:s,gc:1});Q[q.mid]=q;ma(q);var o=na&&"sync"!=C;ha(function(){ga(q,o)});q.executed||T.push(q);ea()}else p&&p();return k},Fa=function(f){if(!f)return s;var b=f.require;if(!b)b=function(a,d,p){return Pa(a,d,p,f,b)},f.require=a(b,s),b.module=f,b.toUrl=
function(a){return Sa(a,f)},b.toAbsMid=function(a){return Ha(a,f)},b.syncLoadNls=function(a){var a=ja(a,f),b=Q[a.mid];if(!b||!b.executed)if(aa=$[a.mid]||$["url:"+a.url])ya(aa),b=Q[a.mid];return b&&b.executed&&b.result};return b},T=[],za=[],U={},hb=function(a){a.injected=A;U[a.mid]=1;a.url&&(U[a.url]=a.pack||1);Xa()},da=function(a){a.injected=z;delete U[a.mid];a.url&&delete U[a.url];g(U)&&(Aa(),"xd"==C&&(C="sync"))},ib=s.idle=function(){return!za.length&&g(U)&&!T.length&&!na},Ia=function(a,f){if(f)for(var b=
0;b<f.length;b++)if(f[b][2].test(a))return f[b];return 0},Ya=function(a){for(var f=[],b,d,a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&f.length&&".."!=d?(f.pop(),d=f[f.length-1]):"."!=b&&f.push(d=b);return f.join("/")},xa=function(a,f,b,d){var p=s.isXdUrl(d);return{pid:a,mid:f,pack:b,url:d,executed:0,def:0,isXd:p,isAmd:!!(p||Z[a]&&Z[a].isAmd)}},Za=function(a,b,p,e,c,g,k,r){var q,s,h,l;l=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||l&&!b)return xa(0,a,0,a);a=Ya(l?b.mid+"/../"+
a:a);if(/^\./.test(a))throw f("irrationalPath",a);b&&(h=Ia(b.mid,g));(h=(h=h||g.star)&&Ia(a,h[1]))&&(a=h[1]+a.substring(h[3]));b=(la=a.match(/^([^\/]+)(\/(.+))?$/))?la[1]:"";(q=p[b])?a=b+"/"+(s=la[3]||q.main):b="";var w=0;d(O,function(f){var b=a.match(f[0]);b&&0<b.length&&(w=n(f[1])?a.replace(f[0],f[1]):f[1])});if(w)return Za(w,0,p,e,c,g,k,r);if(p=e[a])return r?xa(p.pid,p.mid,p.pack,p.url):e[a];e=(h=Ia(a,k))?h[1]+a.substring(h[3]):b?q.location+"/"+s:t("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(e)||
(e=c+e);return xa(b,a,q,Ya(e+".js"))},ja=function(a,f){return Za(a,f,Z,Q,s.baseUrl,sa,Qa)},$a=function(a,f,b){return a.normalize?a.normalize(f,function(a){return Ha(a,b)}):Ha(f,b)},ab=0,V=function(a,f,b){var d,p;(d=a.match(/^(.+?)\!(.*)$/))?(p=V(d[1],f,b),"sync"==C&&!p.executed&&(qa(p),p.injected===z&&!p.executed&&ha(function(){ga(p)}),p.executed?Ba(p):T.unshift(p)),p.executed===G&&!p.load&&Ba(p),p.load?(d=$a(p,d[2],f),a=p.mid+"!"+(p.dynamic?++ab+"!":"")+d):(d=d[2],a=p.mid+"!"+ ++ab+"!waitingForPlugin"),
a={plugin:p,mid:a,req:Fa(f),prid:d}):a=ja(a,f);return Q[a.mid]||!b&&(Q[a.mid]=a)},Ha=s.toAbsMid=function(a,f){return ja(a,f).mid},Sa=s.toUrl=function(a,f){var b=ja(a+"/x",f),d=b.url;return ra(0===b.pid?a:d.substring(0,d.length-5))},bb={injected:z,executed:G,def:E,result:E},Ja=function(f){return Q[f]=a({mid:f},bb)},jb=Ja("require"),kb=Ja("exports"),lb=Ja("module"),Ca={},Ka=0,Ba=function(a){var f=a.result;a.dynamic=f.dynamic;a.normalize=f.normalize;a.load=f.load;return a},mb=function(f){var b={};d(f.loadQ,
function(d){var p=$a(f,d.prid,d.req.module),e=f.dynamic?d.mid.replace(/waitingForPlugin$/,p):f.mid+"!"+p,p=a(a({},d),{mid:e,prid:p,injected:0});Q[e]||cb(Q[e]=p);b[d.mid]=Q[e];da(d);delete Q[d.mid]});f.loadQ=0;var p=function(a){for(var f=a.deps||[],d=0;d<f.length;d++)(a=b[f[d].mid])&&(f[d]=a)},e;for(e in Q)p(Q[e]);d(T,p)},fa=function(a){s.trace("loader-finish-exec",[a.mid]);a.executed=G;a.defOrder=Ka++;d(a.provides,function(a){a()});a.loadQ&&(Ba(a),mb(a));for(l=0;l<T.length;)T[l]===a?T.splice(l,1):
l++;/^require\*/.test(a.mid)&&delete Q[a.mid]},oa=[],ga=function(a,b){if(a.executed===D)return s.trace("loader-circular-dependency",[oa.concat(a.mid).join("->")]),!a.def||b?Ca:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Ca;var d=a.mid,p=a.deps||[],e,c=[],g=0;oa.push(d);s.trace("loader-exec-module",["exec",oa.length,d]);for(a.executed=D;g<p.length;){e=p[g++];e=e===jb?Fa(a):e===kb?a.cjs.exports:e===lb?a.cjs:ga(e,b);if(e===Ca)return a.executed=0,s.trace("loader-exec-module",["abort",d]),oa.pop(),
Ca;c.push(e)}s.trace("loader-run-factory",[a.mid]);var d=a.def,k;H.unshift(a);if(t("config-dojo-loader-catches"))try{k=n(d)?d.apply(null,c):d}catch(r){L("error",a.result=f("factoryThrew",[a,r]))}else k=n(d)?d.apply(null,c):d;a.result=void 0===k&&a.cjs?a.cjs.exports:k;H.shift(a);fa(a);oa.pop()}return a.result},na=0,ha=function(a){try{na++,a()}finally{na--}ib()&&L("idle",[])},ea=function(){na||ha(function(){B();for(var a,f,b=0;b<T.length;)a=Ka,f=T[b],ga(f),a!=Ka?(B(),b=0):b++})};void 0===t("dojo-loader-eval-hint-url")&&
t.add("dojo-loader-eval-hint-url",1);var ra=function(a){a+="";return a+(Ea?(/\?/.test(a)?"&":"?")+Ea:"")},cb=function(a){var f=a.plugin;f.executed===G&&!f.load&&Ba(f);var b=function(f){a.result=f;da(a);fa(a);ea()};f.load?f.load(a.prid,a.req,b):f.loadQ?f.loadQ.push(a):(f.loadQ=[a],T.unshift(f),qa(f))},aa=0,pa=0,La=0,ya=function(a,b){t("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));La=1;if(t("config-dojo-loader-catches"))try{a===aa?aa.call(null):s.eval(a,t("dojo-loader-eval-hint-url")?b.url:
b.mid)}catch(d){L("error",f("evalModuleThrew",b))}else a===aa?aa.call(null):s.eval(a,t("dojo-loader-eval-hint-url")?b.url:b.mid);La=0},qa=function(b){var p=b.mid,e=b.url;if(!b.executed&&!b.injected&&!(U[p]||b.url&&(b.pack&&U[b.url]===b.pack||1==U[b.url])))if(hb(b),b.plugin)cb(b);else{var c=function(){db(b);b.injected!==z&&(da(b),a(b,bb),s.trace("loader-define-nonmodule",[b.url]));C?!H.length&&ea():ea()};if(aa=$[p]||$["url:"+b.url])s.trace("loader-inject",["cache",b.mid,e]),ya(aa,b),c();else{if(C)if(b.isXd)"sync"==
C&&(C="xd");else if(!(b.isAmd&&"sync"!=C)){var g=function(a){if("sync"==C){H.unshift(b);ya(a,b);H.shift();db(b);b.cjs||(da(b),fa(b));if(b.finish){var a=p+"*finish",f=b.finish;delete b.finish;Ma(a,["dojo",("dojo/require!"+f.join(",")).replace(/\./g,"/")],function(a){d(f,function(f){a.require(f)})});T.unshift(V(a))}c()}else(a=I(b,a))?(ya(a,b),c()):(pa=b,s.injectUrl(ra(e),c,b),pa=0)};s.trace("loader-inject",["xhr",b.mid,e,"sync"!=C]);if(t("config-dojo-loader-catches"))try{s.getText(e,"sync"!=C,g)}catch(n){L("error",
f("xhrInjectFailed",[b,n]))}else s.getText(e,"sync"!=C,g);return}s.trace("loader-inject",["script",b.mid,e]);pa=b;s.injectUrl(ra(e),c,b);pa=0}}},Na=function(b,d,p){s.trace("loader-define-module",[b.mid,d]);var e=b.mid;if(b.injected===z)return L("error",f("multipleDefine",b)),b;a(b,{deps:d,def:p,cjs:{id:b.mid,uri:b.url,exports:b.result={},setExports:function(a){b.cjs.exports=a},config:function(){return b.config}}});for(var c=0;c<d.length;c++)d[c]=V(d[c],b);C&&!U[e]&&(ma(b),T.push(b),ea());da(b);if(!n(p)&&
!d.length)b.result=p,fa(b);return b},db=function(a,f){for(var b=[],p,e;za.length;)e=za.shift(),f&&(e[0]=f.shift()),p=e[0]&&V(e[0])||a,b.push([p,e[1],e[2]]);ua(a);d(b,function(a){ma(Na.apply(null,a))})},Da=0,Aa=c,Xa=c;Aa=function(){Da&&clearTimeout(Da);Da=0};Xa=function(){Aa();s.waitms&&(Da=window.setTimeout(function(){Aa();L("error",f("timeout",U))},s.waitms))};t.add("ie-event-behavior",!!u.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Oa=function(a,f,b,d){if(t("ie-event-behavior"))return a.attachEvent(b,
d),function(){a.detachEvent(b,d)};a.addEventListener(f,d,!1);return function(){a.removeEventListener(f,d,!1)}},nb=Oa(window,"load","onload",function(){s.pageLoaded=1;"complete"!=u.readyState&&(u.readyState="complete");nb()}),eb=u.getElementsByTagName("script")[0],ob=eb.parentNode;s.injectUrl=function(a,b,d){var d=d.node=u.createElement("script"),p=Oa(d,"load","onreadystatechange",function(a){var a=a||window.event,f=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(f.readyState))p(),
e(),b&&b()}),e=Oa(d,"error","onerror",function(b){p();e();L("error",f("scriptError",[a,b]))});d.type="text/javascript";d.charset="utf-8";d.src=a;ob.insertBefore(d,eb);return d};s.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(f){}};var ca=s.trace=function(a,f){if(ca.on&&ca.group[a]){L("trace",[a,f]);for(var b,d=[],p="trace:"+a+(f.length?":"+f[0]:""),c=1;c<f.length;)b=f[c++],e(b)?p+=", "+b:d.push(b);s.log(p);d.length&&d.push(".");s.log.apply(s,d)}};a(ca,{on:1,group:{},set:function(f,
b){e(f)?ca.group[f]=b:a(ca.group,f)}});ca.set(a(a(a({},o.trace),h.trace),ia.trace));Y("config",function(a){a.trace&&ca.set(a.trace)});var Ma=function(a,b,d){var p=arguments.length,c=["require","exports","module"],g=[0,a,b];1==p?g=[0,n(a)?c:[],a]:2==p&&e(a)?g=[a,n(b)?c:[],b]:3==p&&(g=[a,b,d]);s.trace("loader-define",g.slice(0,2));if((p=g[0]&&V(g[0]))&&!U[p.mid])ma(Na(p,g[1],g[2]));else if(!t("ie-event-behavior")||La)za.push(g);else{p=p||pa;if(!p)for(a in U)if((c=Q[a])&&c.node&&"interactive"===c.node.readyState){p=
c;break}p?(ua(p),ma(Na(p,g[1],g[2]))):L("error",f("ieDefineFailed",g[0]));ea()}};Ma.amd={vendor:"dojotoolkit.org"};a(a(s,o.loaderPatch),h.loaderPatch);Y("error",function(a){try{if(console.error(a),a instanceof Error)for(var f in a);}catch(b){}});a(s,{uid:r,cache:$,packs:Z});if(w.define)L("error",f("defineAlreadyDefined",0));else{w.define=Ma;w.require=s;d(Va,function(a){ka(a)});var fb=ia.deps||h.deps||o.deps,gb=ia.callback||h.callback||o.callback;s.boot=fb||gb?[fb||[],gb]:0}})(this.dojoConfig||this.djConfig||
this.require||{},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":!0,"dojo-loader":!0,dom:!0,"host-browser":!0},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../moch",name:"moch"},{location:"../site",name:"site"},{location:"../mobile",main:"index",name:"mobile"},{location:"../cms",name:"cms"},{location:"../front",name:"front"},{location:"../kso",name:"kso"}]});
require({cache:{"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,require,./_base/browser,./_base/loader".split(","),function(h,o,l,k,c,g,q,n){q.isDebug&&l(["./_firebug/firebug"]);var e=q.require;e&&(e=g.map(c.isArray(e)?e:[e],function(b){return b.replace(/\./g,"/")}),h.isAsync?l(e):n(1,function(){l(e)}));return h})},"dojo/_base/kernel":function(){define(["../has",
"./config","require","module"],function(h,o,l,k){var c,h={},g={},q={config:o,global:this,dijit:h,dojox:g},h={dojo:["dojo",q],dijit:["dijit",h],dojox:["dojox",g]},k=l.map&&l.map[k.id.match(/[^\/]+/)[0]];for(c in k)h[c]?h[c][0]=k[c]:h[c]=[k[c],{}];for(c in h)k=h[c],k[1]._scopeName=k[0],o.noGlobals||(this[k[0]]=k[1]);q.scopeMap=h;q.baseUrl=q.config.baseUrl=l.baseUrl;q.isAsync=l.async;q.locale=o.locale;k="$Rev: 30226 $".match(/\d+/);q.version={major:1,minor:8,patch:3,flag:"",revision:k?+k[0]:NaN,toString:function(){var e=
q.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(q);q.exit=function(){};"undefined"!=typeof console||(console={});for(var h="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),n,k=0;n=h[k++];)console[n]||function(){var e=n+"";console[e]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(e+
":");console.log(b.join(" "))}:function(){};console[e]._fake=!0}();q.deprecated=q.experimental=function(){};if(o.modulePaths){q.deprecated("dojo.modulePaths","use paths configuration");k={};for(c in o.modulePaths)k[c.replace(/\./g,"/")]=o.modulePaths[c];l({paths:k})}q.moduleUrl=function(e,b){q.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;e&&(d=l.toUrl(e.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return d};q._hasResource={};return q})},"dojo/has":function(){define(["require",
"module"],function(h){var o=h.has||function(){};o.add("dom-addeventlistener",!!document.addEventListener);o.add("touch","ontouchstart"in document);o.add("device-width",screen.availWidth||innerWidth);h=document.createElement("form");o.add("dom-attributes-explicit",0==h.attributes.length);o.add("dom-attributes-specified-flag",0<h.attributes.length&&40>h.attributes.length);o.clearElement=function(h){h.innerHTML="";return h};o.normalize=function(h,k){var c=h.match(/[\?:]|[^:\?]*/g),g=0,q=function(n){var e=
c[g++];if(":"==e)return 0;if("?"==c[g++]){if(!n&&o(e))return q();q(!0);return q(n)}return e||0};return(h=q())&&k(h)};o.load=function(h,k,c){h?k([h],c):c()};return o})},"dojo/_base/config":function(){define(["../has","require"],function(h,o){var l={},k=o.rawConfig,c;for(c in k)l[c]=k[c];return l})},"dojo/sniff":function(){define(["./has"],function(h){var o=navigator,l=o.userAgent,o=o.appVersion,k=parseFloat(o);h.add("air",0<=l.indexOf("AdobeAIR"));h.add("khtml",0<=o.indexOf("Konqueror")?k:void 0);
h.add("webkit",parseFloat(l.split("WebKit/")[1])||void 0);h.add("chrome",parseFloat(l.split("Chrome/")[1])||void 0);h.add("safari",0<=o.indexOf("Safari")&&!h("chrome")?parseFloat(o.split("Version/")[1]):void 0);h.add("mac",0<=o.indexOf("Macintosh"));h.add("quirks","BackCompat"==document.compatMode);h.add("ios",/iPhone|iPod|iPad/.test(l));h.add("android",parseFloat(l.split("Android ")[1])||void 0);if(!h("webkit")){0<=l.indexOf("Opera")&&h.add("opera",9.8<=k?parseFloat(l.split("Version/")[1])||k:k);
0<=l.indexOf("Gecko")&&!h("khtml")&&!h("webkit")&&h.add("mozilla",k);h("mozilla")&&h.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0);if(document.all&&!h("opera"))l=parseFloat(o.split("MSIE ")[1])||void 0,(o=document.documentMode)&&5!=o&&Math.floor(l)!=o&&(l=o),h.add("ie",l);h.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return h})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(h,o){o.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;
return 1});var l=o("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],k=l.length,c=function(b,d,a){var f,p=0,e=h.global;if(!a)if(b.length){f=b[p++];try{a=h.scopeMap[f]&&h.scopeMap[f][1]}catch(c){}a=a||(f in e?e[f]:d?e[f]={}:void 0)}else return e;for(;a&&(f=b[p++]);)a=f in a?a[f]:d?a[f]={}:void 0;return a},g=Object.prototype.toString,q=function(b,d,a){return(a||[]).concat(Array.prototype.slice.call(b,d||0))},n=
/\{([^\}]+)\}/g,e={_extraNames:l,_mixin:function(b,d,a){var f,p,e,c={};for(f in d)if(p=d[f],!(f in b)||b[f]!==p&&(!(f in c)||c[f]!==p))b[f]=a?a(p):p;if(o("bug-for-in-skips-shadowed")&&d)for(e=0;e<k;++e)if(f=l[e],p=d[f],!(f in b)||b[f]!==p&&(!(f in c)||c[f]!==p))b[f]=a?a(p):p;return b},mixin:function(b,d){b||(b={});for(var a=1,f=arguments.length;a<f;a++)e._mixin(b,arguments[a]);return b},setObject:function(b,d,a){var f=b.split("."),b=f.pop();return(a=c(f,!0,a))&&b?a[b]=d:void 0},getObject:function(b,
d,a){return c(b.split("."),d,a)},exists:function(b,d){return void 0!==e.getObject(b,!1,d)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(b){return b&&(b instanceof Array||"array"==typeof b)},isFunction:function(b){return"[object Function]"===g.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||e.isArray(b)||e.isFunction(b))},isArrayLike:function(b){return b&&void 0!==b&&!e.isString(b)&&!e.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&
(e.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!e.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(""+b)},extend:function(b,d){for(var a=1,f=arguments.length;a<f;a++)e._mixin(b.prototype,arguments[a]);return b},_hitchArgs:function(b,d){var a=e._toArray(arguments,2),f=e.isString(d);return function(){var p=e._toArray(arguments),c=f?(b||h.global)[d]:d;return c&&c.apply(b||this,a.concat(p))}},hitch:function(b,d){if(2<arguments.length)return e._hitchArgs.apply(h,arguments);d||(d=b,b=
null);if(e.isString(d)){b=b||h.global;if(!b[d])throw['lang.hitch: scope["',d,'"] is null (scope="',b,'")'].join("");return function(){return b[d].apply(b,arguments||[])}}return!b?d:function(){return d.apply(b,arguments||[])}},delegate:function(){function b(){}return function(d,a){b.prototype=d;var f=new b;b.prototype=null;a&&e._mixin(f,a);return f}}(),_toArray:o("ie")?function(){function b(b,a,f){f=f||[];for(a=a||0;a<b.length;a++)f.push(b[a]);return f}return function(d){return(d.item?b:q).apply(this,
arguments)}}():q,partial:function(b){return e.hitch.apply(h,[null].concat(e._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||e.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return RegExp(b);var d,a,f;if(e.isArray(b)){d=[];for(a=0,f=b.length;a<f;++a)a in b&&d.push(e.clone(b[a]))}else d=b.constructor?new b.constructor:{};return e._mixin(d,b,e.clone)},trim:String.prototype.trim?
function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,d,a){return b.replace(a||n,e.isFunction(d)?d:function(a,b){return e.getObject(b,!1,d)})}};e.mixin(h,e);return e})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(h,o,l){function k(b){return q[b]=new Function("item","index","array",b)}function c(b){var d=!b;return function(a,f,p){var e=0,c=a&&a.length||0,g;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof f&&
(f=q[f]||k(f));if(p)for(;e<c;++e){if(g=!f.call(p,a[e],e,a),b^g)return!g}else for(;e<c;++e)if(g=!f(a[e],e,a),b^g)return!g;return d}}function g(b){var d=1,a=0,f=0;b||(d=a=f=-1);return function(p,c,g,k){if(k&&0<d)return e.lastIndexOf(p,c,g);var k=p&&p.length||0,q=b?k+f:a;g===n?g=b?a:k+f:0>g?(g=k+g,0>g&&(g=a)):g=g>=k?k+f:g;for(k&&"string"==typeof p&&(p=p.split(""));g!=q;g+=d)if(p[g]==c)return g;return-1}}var q={},n,e={every:c(!1),some:c(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(b,d,a){var f=
0,p=b&&b.length||0;p&&"string"==typeof b&&(b=b.split(""));"string"==typeof d&&(d=q[d]||k(d));if(a)for(;f<p;++f)d.call(a,b[f],f,b);else for(;f<p;++f)d(b[f],f,b)},map:function(b,d,a,f){var p=0,e=b&&b.length||0,f=new (f||Array)(e);e&&"string"==typeof b&&(b=b.split(""));"string"==typeof d&&(d=q[d]||k(d));if(a)for(;p<e;++p)f[p]=d.call(a,b[p],p,b);else for(;p<e;++p)f[p]=d(b[p],p,b);return f},filter:function(b,d,a){var f=0,p=b&&b.length||0,e=[],c;p&&"string"==typeof b&&(b=b.split(""));"string"==typeof d&&
(d=q[d]||k(d));if(a)for(;f<p;++f)c=b[f],d.call(a,c,f,b)&&e.push(c);else for(;f<p;++f)c=b[f],d(c,f,b)&&e.push(c);return e},clearCache:function(){q={}}};l.mixin(h,e);return e})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(h,o,l,k,c){var g=0,q,n=[],e=0,b=function(){if(g&&!e&&n.length){e=1;var a=n.shift();try{a()}finally{e=0}e=0;n.length&&q(b)}};l.on("idle",b);q=function(){l.idle()&&b()};var o=h.ready=h.addOnLoad=function(a,f,b){var d=c._toArray(arguments);
"number"!=typeof a?(b=f,f=a,a=1E3):d.shift();b=b?c.hitch.apply(h,d):function(){f()};b.priority=a;for(d=0;d<n.length&&a>=n[d].priority;d++);n.splice(d,0,b);q()},d=h.config.addOnLoad;if(d)o[c.isArray(d)?"apply":"call"](h,d);h.config.parseOnLoad&&!h.isAsync&&o(99,function(){h.parser||(h.deprecated("Add explicit require(['dojo/parser']);","","2.0"),l(["dojo/parser"]))});k(function(){g=1;h._postLoad=h.config.afterOnLoad=!0;n.length&&q(b)});return o})},"dojo/domReady":function(){define(["./has"],function(h){function o(a){q?
a(k):n.push(a)}var l=this,k=document,c={loaded:1,complete:1},g="string"!=typeof k.readyState,q=!!c[k.readyState];if(g)k.readyState="loading";if(!q){var n=[],e=[],b=function(a){a=a||l.event;if(!(q||"readystatechange"==a.type&&!c[k.readyState])){q=1;if(g)k.readyState="complete";for(;n.length;)n.shift()(k)}},d=function(a,f){a.addEventListener(f,b,!1);n.push(function(){a.removeEventListener(f,b,!1)})};if(!h("dom-addeventlistener")){var d=function(a,f){f="on"+f;a.attachEvent(f,b);n.push(function(){a.detachEvent(f,
b)})},a=k.createElement("div");try{a.doScroll&&null===l.frameElement&&e.push(function(){try{return a.doScroll("left"),1}catch(f){}})}catch(f){}}d(k,"DOMContentLoaded");d(l,"load");"onreadystatechange"in k?d(k,"readystatechange"):g||e.push(function(){return c[k.readyState]});if(e.length){var p=function(){if(!q){for(var a=e.length;a--;)if(e[a]()){b("poller");return}setTimeout(p,30)}};p()}}o.load=function(a,f,b){o(b)};return o})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],
function(h,o,l){function k(a,f){throw Error("declare"+(f?" "+f:"")+": "+a);}function c(a,f,b){var d,p,e,c,g,n,q,r=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=f,f=b);b=0;c=a.callee;(d=d||c.nom)||k("can't deduce a name to call inherited()",this.declaredClass);g=this.constructor._meta;e=g.bases;q=r.p;if(d!=z){if(r.c!==c&&(q=0,n=e[0],g=n._meta,g.hidden[d]!==c)){(p=g.chains)&&"string"==typeof p[d]&&k("calling chained method with inherited: "+d,this.declaredClass);do if(g=n._meta,p=n.prototype,
g&&(p[d]===c&&p.hasOwnProperty(d)||g.hidden[d]===c))break;while(n=e[++q]);q=n?q:-1}if(n=e[++q])if(p=n.prototype,n._meta&&p.hasOwnProperty(d))b=p[d];else{c=t[d];do if(p=n.prototype,(b=p[d])&&(n._meta?p.hasOwnProperty(d):b!==c))break;while(n=e[++q])}b=n&&b||t[d]}else{if(r.c!==c&&(q=0,(g=e[0]._meta)&&g.ctor!==c)){p=g.chains;for((!p||"manual"!==p.constructor)&&k("calling chained constructor with inherited",this.declaredClass);(n=e[++q])&&!((g=n._meta)&&g.ctor===c););q=n?q:-1}for(;(n=e[++q])&&!(b=(g=n._meta)?
g.ctor:n););b=n&&b}r.c=b;r.p=q;if(b)return!0===f?b:b.apply(this,f||a)}function g(a,f){return"string"==typeof a?this.__inherited(a,f,!0):this.__inherited(a,!0)}function q(a,f,b){var d=this.getInherited(a,f);if(d)return d.apply(this,b||f||a)}function n(a){for(var f=this.constructor._meta.bases,b=0,d=f.length;b<d;++b)if(f[b]===a)return!0;return this instanceof a}function e(a,f){for(var b in f)b!=z&&f.hasOwnProperty(b)&&(a[b]=f[b]);if(o("bug-for-in-skips-shadowed"))for(var d=l._extraNames,p=d.length;p;)b=
d[--p],b!=z&&f.hasOwnProperty(b)&&(a[b]=f[b])}function b(a){u.safeMixin(this.prototype,a);return this}function d(a){return u([this].concat(a))}function a(a,f){return function(){var B;var b=arguments,d=b,p=b[0],e,c;c=a.length;var g;if(!(this instanceof b.callee))return w(b);if(f&&(p&&p.preamble||this.preamble)){g=Array(a.length);g[0]=b;for(e=0;;){if(p=b[0])(p=p.preamble)&&(b=p.apply(this,b)||b);p=a[e].prototype;(p=p.hasOwnProperty("preamble")&&p.preamble)&&(b=p.apply(this,b)||b);if(++e==c)break;g[e]=
b}}for(e=c-1;0<=e;--e)p=a[e],(B=(c=p._meta)?c.ctor:p,p=B)&&p.apply(this,g?g[e]:b);(p=this.postscript)&&p.apply(this,d)}}function f(a,b){return function(){var f=arguments,d=f,p=f[0];if(!(this instanceof f.callee))return w(f);if(b){if(p)(p=p.preamble)&&(d=p.apply(this,d)||d);(p=this.preamble)&&p.apply(this,d)}a&&a.apply(this,f);(p=this.postscript)&&p.apply(this,f)}}function p(a){return function(){var B;var f=arguments,b=0,d,p;if(!(this instanceof f.callee))return w(f);for(;d=a[b];++b)if(B=(p=d._meta)?
p.ctor:d,d=B){d.apply(this,f);break}(d=this.postscript)&&d.apply(this,f)}}function r(a,f,b){return function(){var d,p,e=0,c=1;b&&(e=f.length-1,c=-1);for(;d=f[e];e+=c)p=d._meta,(d=(p?p.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function s(a){v.prototype=a.prototype;a=new v;v.prototype=null;return a}function w(a){var f=a.callee,b=s(f);f.apply(b,a);return b}function u(q,h,w){"string"!=typeof q&&(w=h,h=q,q="");var w=w||{},o,v,B,I,J,F,K,M=1,W=h;if("[object Array]"==y.call(h)){M=q;B=[];I=[{cls:0,
refs:[]}];F={};for(var X=1,N=h.length,R=0,L,Y,O,S;R<N;++R){(L=h[R])?"[object Function]"!=y.call(L)&&k("mixin #"+R+" is not a callable constructor.",M):k("mixin #"+R+" is unknown. Did you use dojo.require to pull it in?",M);Y=L._meta?L._meta.bases:[L];O=0;for(L=Y.length-1;0<=L;--L){S=Y[L].prototype;if(!S.hasOwnProperty("declaredClass"))S.declaredClass="uniqName_"+A++;S=S.declaredClass;F.hasOwnProperty(S)||(F[S]={count:0,refs:[],cls:Y[L]},++X);S=F[S];O&&O!==S&&(S.refs.push(O),++O.count);O=S}++O.count;
I[0].refs.push(O)}for(;I.length;){O=I.pop();B.push(O.cls);for(--X;v=O.refs,1==v.length;){O=v[0];if(!O||--O.count){O=0;break}B.push(O.cls);--X}if(O)for(R=0,N=v.length;R<N;++R)O=v[R],--O.count||I.push(O)}X&&k("can't build consistent linearization",M);L=h[0];B[0]=L?L._meta&&L===B[B.length-L._meta.bases.length]?L._meta.bases.length:1:0;F=B;B=F[0];M=F.length-B;h=F[M]}else F=[0],h?"[object Function]"==y.call(h)?(B=h._meta,F=F.concat(B?B.bases:h)):k("base class is not a callable constructor.",q):null!==
h&&k("unknown base class. Did you use dojo.require to pull it in?",q);if(h)for(v=M-1;;--v){o=s(h);if(!v)break;B=F[v];(B._meta?e:x)(o,B.prototype);I=new Function;I.superclass=h;I.prototype=o;h=o.constructor=I}else o={};u.safeMixin(o,w);B=w.constructor;if(B!==t.constructor)B.nom=z,o.constructor=B;for(v=M-1;v;--v)(B=F[v]._meta)&&B.chains&&(K=x(K||{},B.chains));o["-chains-"]&&(K=x(K||{},o["-chains-"]));B=!K||!K.hasOwnProperty(z);F[0]=I=K&&"manual"===K.constructor?p(F):1==F.length?f(w.constructor,B):a(F,
B);I._meta={bases:F,hidden:w,chains:K,parents:W,ctor:w.constructor};I.superclass=h&&h.prototype;I.extend=b;I.createSubclass=d;I.prototype=o;o.constructor=I;o.getInherited=g;o.isInstanceOf=n;o.inherited=E;o.__inherited=c;if(q)o.declaredClass=q,l.setObject(q,I);if(K)for(J in K)if(o[J]&&"string"==typeof K[J]&&J!=z)B=o[J]=r(J,F,"after"===K[J]),B.nom=J;return I}var x=l.mixin,t=Object.prototype,y=t.toString,v=new Function,A=0,z="constructor",E=h.config.isDebug?q:c;h.safeMixin=u.safeMixin=function(a,f){var b,
d;for(b in f)if(d=f[b],(d!==t[b]||!(b in t))&&b!=z){if("[object Function]"==y.call(d))d.nom=b;a[b]=d}if(o("bug-for-in-skips-shadowed"))for(var p=l._extraNames,e=p.length;e;)if(b=p[--e],d=f[b],(d!==t[b]||!(b in t))&&b!=z){if("[object Function]"==y.call(d))d.nom=b;a[b]=d}return a};return h.declare=u})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(h,o,l,k,c,g,q,n){function e(a,b,f,d,e){d=n.hitch(f,d);if(!a||!a.addEventListener&&
!a.attachEvent)return k.after(a||h.global,b,d,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=h.global;if(!e)switch(b){case "keypress":b=p;break;case "mouseenter":b=g.enter;break;case "mouseleave":b=g.leave}return o(a,b,d,e)}function b(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}q.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,
"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!q("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},a=q("mac")?"metaKey":"ctrlKey",f=function(a,f){var d=n.mixin({},a,f);b(d);d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()};return d},p;p=q("events-keypress-typed")?function(a,b){var p=o(a,"keydown",function(a){var p=a.keyCode,e=13!=p&&32!=p&&(27!=p||!q("ie"))&&
(48>p||90<p)&&(96>p||111<p)&&(186>p||192<p)&&(219>p||222<p)&&229!=p;if(e||a.ctrlKey){e=e?0:p;if(a.ctrlKey){if(3==p||13==p)return b.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:d[e]||e}p=f(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,p);if(q("ie"))try{a.keyCode=p.keyCode}catch(c){}}}),e=o(a,"keypress",function(a){var d=a.charCode,a=f(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){p.remove();e.remove()}}}:q("opera")?function(a,
b){return o(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return b.call(this,f(a,{charCode:d}))})}:function(a,f){return o(a,"keypress",function(a){b(a);return f.call(this,a)})};var r={_keypress:p,connect:function(a,b,f,d,p){var c=arguments,g=[],n=0;g.push("string"==typeof c[0]?null:c[n++],c[n++]);var k=c[n+1];g.push("string"==typeof k||"function"==typeof k?c[n++]:null,c[n++]);for(k=c.length;n<k;n++)g.push(c[n]);return e.apply(this,
g)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,f){return l.subscribe(a,n.hitch(b,f))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,f){var d=function(){r.publish(a,arguments)};return f?r.connect(b,f,d):r.connect(b,d)},isCopyKey:function(b){return b[a]}};r.unsubscribe=r.disconnect;n.mixin(h,r);return r})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(h,o,l){function k(b,f,d,c,g){if(c=
f.match(/(.*):(.*)/))return f=c[2],c=c[1],n.selector(c,f).call(g,b,d);l("touch")&&(e.test(f)&&(d=A(d)),!l("event-orientationchange")&&"orientationchange"==f&&(f="resize",b=window,d=A(d)));p&&(d=p(d));if(b.addEventListener){var k=f in a,q=k?a[f]:f;b.addEventListener(q,d,k);return{remove:function(){b.removeEventListener(q,d,k)}}}if(u&&b.attachEvent)return u(b,"on"+f,d);throw Error("Target must be an event emitter");}function c(){this.cancelable=!1}function g(){this.bubbles=!1}var q=window.ScriptEngineMajorVersion;
l.add("jscript",q&&q()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var n=function(a,b,f,d){return"function"==typeof a.on&&"function"!=typeof b?a.on(b,f):n.parse(a,b,f,k,d,this)};n.pausable=function(a,b,f,d){var p,a=n(a,b,function(){if(!p)return f.apply(this,arguments)},d);a.pause=function(){p=!0};a.resume=function(){p=!1};return a};
n.once=function(a,b,f){var d=n(a,b,function(){d.remove();return f.apply(this,arguments)});return d};n.parse=function(a,b,f,d,p,e){if(b.call)return b.call(e,a,f);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),c=[],g=0,n;n=b[g++];)c.push(d(a,n,f,p,e));c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c}return d(a,b,f,p,e)};var e=/^touch/;n.selector=function(a,b,f){return function(d,p){function e(b){for(c=c&&c.matches?c:o.query;!c.matches(b,a,d);)if(b==d||!1===f||!(b=b.parentNode)||
1!=b.nodeType)return;return b}var c="function"==typeof a?{matches:a}:this,g=b.bubble;return g?n(d,g(e),p):n(d,b,function(a){var b=e(a.target);return b&&p.call(b,a)})}};var b=[].slice,d=n.emit=function(a,f,d){var p=b.call(arguments,2),e="on"+f;if("parentNode"in a){var n=p[0]={},k;for(k in d)n[k]=d[k];n.preventDefault=c;n.stopPropagation=g;n.target=a;n.type=f;d=n}do a[e]&&a[e].apply(a,p);while(d&&d.bubbles&&(a=a.parentNode));return d&&d.cancelable&&d},a={};if(!l("event-stopimmediatepropagation"))var f=
function(){this.modified=this.immediatelyStopped=!0},p=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=f,a.apply(this,arguments)}};if(l("dom-addeventlistener"))a={focusin:"focus",focusout:"blur"},n.emit=function(a,b,f){if(a.dispatchEvent&&document.createEvent){var p=a.ownerDocument.createEvent("HTMLEvents");p.initEvent(b,!!f.bubbles,!!f.cancelable);for(var e in f)e in p||(p[e]=f[e]);return a.dispatchEvent(p)&&p}return d.apply(n,arguments)};else{n._fixEvent=
function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;r&&a.type==r.type&&(a=r);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=x,a.preventDefault=t;switch(a.type){case "keypress":var f="charCode"in a?a.charCode:a.keyCode;10==f?(f=0,a.keyCode=13):13==f||27==f?f=0:3==f&&(f=99);a.charCode=f;f=
a;f.keyChar=f.charCode?String.fromCharCode(f.charCode):"";f.charOrCode=f.keyChar||f.keyCode}}return a};var r,s=function(a){this.handle=a};s.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var w=function(a){return function(b){var b=n._fixEvent(b,this),f=a.call(this,b);b.modified&&(r||setTimeout(function(){r=null}),r=b);return f}},u=function(a,b,f){f=w(f);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==
typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var p=d,d=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=[];a[b]=d;d.global=this;p&&d.listeners.push(_dojoIEListeners_.push(p)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(f)-1);return new s(a)}return h.after(a,b,f,!0)},x=function(){this.cancelBubble=
!0},t=n._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(l("touch"))var y=function(){},v=window.orientation,A=function(a){return function(b){var f=b.corrected;if(!f){var d=b.type;try{delete b.type}catch(p){}b.type?(y.prototype=b,f=new y,f.preventDefault=function(){b.preventDefault()},f.stopPropagation=function(){b.stopPropagation()}):(f=b,f.type=d);b.corrected=f;if("resize"==d){if(v==window.orientation)return null;
v=window.orientation;f.type="orientationchange";return a.call(this,f)}if(!("rotation"in f))f.rotation=0,f.scale=1;var d=f.changedTouches[0],e;for(e in d)delete f[e],f[e]=d[e]}return a.call(this,f)}};return n})},"dojo/topic":function(){define(["./Evented"],function(h){var o=new h;return{publish:function(h,k){return o.emit.apply(o,arguments)},subscribe:function(h,k){return o.on.apply(o,arguments)}}})},"dojo/Evented":function(){define("dojo/Evented",["./aspect","./on"],function(h,o){function l(){}var k=
h.after;l.prototype={on:function(c,g){return o.parse(this,c,g,function(c,n){return k(c,"on"+n,g,!0)})},emit:function(c,g){var k=[this];k.push.apply(k,arguments);return o.emit.apply(o,k)}};return l})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function h(c,e,b,d){var a=c[e],f="around"==e,p;if(f){var g=b(function(){return a.advice(this,arguments)});p={remove:function(){p.cancelled=!0},advice:function(b,f){return p.cancelled?a.advice(b,f):g.apply(b,f)}}}else p={remove:function(){var a=
p.previous,b=p.next;if(!b&&!a)delete c[e];else if(a?a.next=b:c[e]=b,b)b.previous=a},id:k++,advice:b,receiveArguments:d};if(a&&!f)if("after"==e){for(;a.next&&(a=a.next););a.next=p;p.previous=a}else{if("before"==e)c[e]=p,p.next=a,a.previous=p}else c[e]=p;return p}function o(c){return function(e,b,d,a){var f=e[b],p;if(!f||f.target!=e){e[b]=p=function(){for(var a=k,b=arguments,f=p.before;f;)b=f.advice.apply(this,b)||b,f=f.next;if(p.around)var d=p.around.advice(this,b);for(f=p.after;f&&f.id<a;){if(f.receiveArguments)var e=
f.advice.apply(this,b),d=e===l?d:e;else d=f.advice.call(this,d,b);f=f.next}return d};if(f)p.around={advice:function(a,b){return f.apply(a,b)}};p.target=e}e=h(p||f,c,d,a);d=null;return e}}var l,k=0,c=o("after"),g=o("before"),q=o("around");return{before:g,around:q,after:c}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(h,o,l,k){if(o._fixEvent){var c=o._fixEvent;o._fixEvent=function(g,n){(g=c(g,n))&&k.normalizeEvent(g);return g}}var g={fix:function(c,
g){return o._fixEvent?o._fixEvent(c,g):c},stop:function(c){l("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,o._preventDefault.call(c))}};h.fixEvent=g.fix;h.stopEvent=g.stop;return g})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(h,o,l,k){function c(b,d,a,f,p,e){e=e||"px";b=b.style;if(!isNaN(d))b.left=d+e;if(!isNaN(a))b.top=a+e;if(0<=f)b.width=f+e;if(0<=p)b.height=p+e}function g(b){return"button"==
b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function q(b){return"border-box"==n.boxModel||"table"==b.tagName.toLowerCase()||g(b)}var n={boxModel:"content-box"};if(h("ie"))n.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";n.getPadExtents=function(b,d){var b=l.byId(b),a=d||k.getComputedStyle(b),f=k.toPixelValue,p=f(b,a.paddingLeft),e=f(b,a.paddingTop),c=f(b,a.paddingRight),a=f(b,a.paddingBottom);return{l:p,t:e,
r:c,b:a,w:p+c,h:e+a}};n.getBorderExtents=function(b,d){var b=l.byId(b),a=k.toPixelValue,f=d||k.getComputedStyle(b),p="none"!=f.borderLeftStyle?a(b,f.borderLeftWidth):0,e="none"!=f.borderTopStyle?a(b,f.borderTopWidth):0,c="none"!=f.borderRightStyle?a(b,f.borderRightWidth):0,a="none"!=f.borderBottomStyle?a(b,f.borderBottomWidth):0;return{l:p,t:e,r:c,b:a,w:p+c,h:e+a}};n.getPadBorderExtents=function(b,d){var b=l.byId(b),a=d||k.getComputedStyle(b),f=n.getPadExtents(b,a),a=n.getBorderExtents(b,a);return{l:f.l+
a.l,t:f.t+a.t,r:f.r+a.r,b:f.b+a.b,w:f.w+a.w,h:f.h+a.h}};n.getMarginExtents=function(b,d){var b=l.byId(b),a=d||k.getComputedStyle(b),f=k.toPixelValue,p=f(b,a.marginLeft),e=f(b,a.marginTop),c=f(b,a.marginRight),a=f(b,a.marginBottom);return{l:p,t:e,r:c,b:a,w:p+c,h:e+a}};n.getMarginBox=function(b,d){var b=l.byId(b),a=d||k.getComputedStyle(b),f=n.getMarginExtents(b,a),p=b.offsetLeft-f.l,e=b.offsetTop-f.t,c=b.parentNode,g=k.toPixelValue;if(h("mozilla")){var q=parseFloat(a.left),a=parseFloat(a.top);!isNaN(q)&&
!isNaN(a)?(p=q,e=a):c&&c.style&&(c=k.getComputedStyle(c),"visible"!=c.overflow&&(p+="none"!=c.borderLeftStyle?g(b,c.borderLeftWidth):0,e+="none"!=c.borderTopStyle?g(b,c.borderTopWidth):0))}else if((h("opera")||8==h("ie")&&!h("quirks"))&&c)c=k.getComputedStyle(c),p-="none"!=c.borderLeftStyle?g(b,c.borderLeftWidth):0,e-="none"!=c.borderTopStyle?g(b,c.borderTopWidth):0;return{l:p,t:e,w:b.offsetWidth+f.w,h:b.offsetHeight+f.h}};n.getContentBox=function(b,d){var b=l.byId(b),a=d||k.getComputedStyle(b),f=
b.clientWidth,p=n.getPadExtents(b,a),e=n.getBorderExtents(b,a);f?(a=b.clientHeight,e.w=e.h=0):(f=b.offsetWidth,a=b.offsetHeight);h("opera")&&(p.l+=e.l,p.t+=e.t);return{l:p.l,t:p.t,w:f-p.w-e.w,h:a-p.h-e.h}};n.setContentSize=function(b,d,a){var b=l.byId(b),f=d.w,d=d.h;q(b)&&(a=n.getPadBorderExtents(b,a),0<=f&&(f+=a.w),0<=d&&(d+=a.h));c(b,NaN,NaN,f,d)};var e={l:0,t:0,w:0,h:0};n.setMarginBox=function(b,d,a){var b=l.byId(b),f=a||k.getComputedStyle(b),a=d.w,p=d.h,r=q(b)?e:n.getPadBorderExtents(b,f),f=n.getMarginExtents(b,
f);if(h("webkit")&&g(b)){var s=b.style;if(0<=a&&!s.width)s.width="4px";if(0<=p&&!s.height)s.height="4px"}0<=a&&(a=Math.max(a-r.w-f.w,0));0<=p&&(p=Math.max(p-r.h-f.h,0));c(b,d.l,d.t,a,p)};n.isBodyLtr=function(b){b=b||o.doc;return"ltr"==(o.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};n.docScroll=function(b){var b=b||o.doc,d=o.doc.parentWindow||o.doc.defaultView;return"pageXOffset"in d?{x:d.pageXOffset,y:d.pageYOffset}:(d=h("quirks")?o.body(b):b.documentElement)&&{x:n.fixIeBiDiScrollLeft(d.scrollLeft||
0,b),y:d.scrollTop||0}};if(h("ie"))n.getIeDocumentElementOffset=function(b){b=b||o.doc;b=b.documentElement;if(8>h("ie")){var d=b.getBoundingClientRect(),a=d.left,d=d.top;7>h("ie")&&(a+=b.clientLeft,d+=b.clientTop);return{x:0>a?0:a,y:0>d?0:d}}return{x:0,y:0}};n.fixIeBiDiScrollLeft=function(b,d){var d=d||o.doc,a=h("ie");if(a&&!n.isBodyLtr(d)){var f=h("quirks"),p=f?o.body(d):d.documentElement,e=o.global;6==a&&!f&&e.frameElement&&p.scrollHeight>p.clientHeight&&(b+=p.clientLeft);return 8>a||f?b+p.clientWidth-
p.scrollWidth:-b}return b};n.position=function(b,d){var b=l.byId(b),a=o.body(b.ownerDocument),f=b.getBoundingClientRect(),f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};if(9>h("ie")){var p=n.getIeDocumentElementOffset(b.ownerDocument);f.x-=p.x+(h("quirks")?a.clientLeft+a.offsetLeft:0);f.y-=p.y+(h("quirks")?a.clientTop+a.offsetTop:0)}d&&(a=n.docScroll(b.ownerDocument),f.x+=a.x,f.y+=a.y);return f};n.getMarginSize=function(b,d){var b=l.byId(b),a=n.getMarginExtents(b,d||k.getComputedStyle(b)),
f=b.getBoundingClientRect();return{w:f.right-f.left+a.w,h:f.bottom-f.top+a.h}};n.normalizeEvent=function(b){if(!("layerX"in b))b.layerX=b.offsetX,b.layerY=b.offsetY;if(!h("dom-addeventlistener")){var d=b.target,d=d&&d.ownerDocument||document,a=h("quirks")?d.body:d.documentElement,f=n.getIeDocumentElementOffset(d);b.pageX=b.clientX+n.fixIeBiDiScrollLeft(a.scrollLeft||0,d)-f.x;b.pageY=b.clientY+(a.scrollTop||0)-f.y}};return n})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],
function(h,o,l){var k={global:h.global,doc:this.document||null,body:function(c){c=c||h.doc;return c.body||c.getElementsByTagName("body")[0]},setContext:function(c,g){h.global=k.global=c;h.doc=k.doc=g},withGlobal:function(c,g,q,n){var e=h.global;try{return h.global=k.global=c,k.withDoc.call(null,c.document,g,q,n)}finally{h.global=k.global=e}},withDoc:function(c,g,q,n){var e=k.doc,b=l("quirks"),d=l("ie"),a,f,p;try{h.doc=k.doc=c;h.isQuirks=l.add("quirks","BackCompat"==h.doc.compatMode,!0,!0);if(l("ie")&&
(p=c.parentWindow)&&p.navigator)a=parseFloat(p.navigator.appVersion.split("MSIE ")[1])||void 0,(f=c.documentMode)&&5!=f&&Math.floor(a)!=f&&(a=f),h.isIE=l.add("ie",a,!0,!0);q&&"string"==typeof g&&(g=q[g]);return g.apply(q,n||[])}finally{h.doc=k.doc=e,h.isQuirks=l.add("quirks",b,!0,!0),h.isIE=l.add("ie",d,!0,!0)}}};o.mixin(h,k);return k})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(h,o){if(7>=h("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var k={};k.byId=
h("ie")?function(c,k){if("string"!=typeof c)return c;var n=k||o.doc,e=c&&n.getElementById(c);if(e&&(e.attributes.id.value==c||e.id==c))return e;n=n.all[c];if(!n||n.nodeName)n=[n];for(var b=0;e=n[b++];)if(e.attributes&&e.attributes.id&&e.attributes.id.value==c||e.id==c)return e}:function(c,k){return("string"==typeof c?(k||o.doc).getElementById(c):c)||null};k.isDescendant=function(c,q){try{c=k.byId(c);for(q=k.byId(q);c;){if(c==q)return!0;c=c.parentNode}}catch(n){}return!1};h.add("css-user-select",function(c,
k,n){if(!n)return!1;var c=n.style,k=["Khtml","O","ms","Moz","Webkit"],n=k.length,e="userSelect";do if("undefined"!==typeof c[e])return e;while(n--&&(e=k[n]+"UserSelect"));return!1});var c=h("css-user-select");k.setSelectable=c?function(g,q){k.byId(g).style[c]=q?"":"none"}:function(c,q){var c=k.byId(c),n=c.getElementsByTagName("*"),e=n.length;if(q)for(c.removeAttribute("unselectable");e--;)n[e].removeAttribute("unselectable");else for(c.setAttribute("unselectable","on");e--;)n[e].setAttribute("unselectable",
"on")};return k})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(h,o){function l(a,f,e){f=f.toLowerCase();if(h("ie")){if("auto"==e){if("height"==f)return a.offsetHeight;if("width"==f)return a.offsetWidth}if("fontweight"==f)switch(e){case 700:return"bold";default:return"normal"}}f in b||(b[f]=d.test(f));return b[f]?g(a,e):e}var k,c={};k=h("webkit")?function(a){var b;if(1==a.nodeType){var f=a.ownerDocument.defaultView;b=f.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",
b=f.getComputedStyle(a,null)}return b||{}}:h("ie")&&(9>h("ie")||h("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};c.getComputedStyle=k;var g;g=h("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var f=a.style,d=a.runtimeStyle,e=f.left,c=d.left;d.left=a.currentStyle.left;try{f.left=b,b=f.pixelLeft}catch(g){b=0}f.left=e;
d.left=c;return b}:function(a,b){return parseFloat(b)||0};c.toPixelValue=g;var q=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(f){return b?{}:null}},n=9>h("ie")||10>h("ie")&&h("quirks")?function(a){try{return q(a).Opacity/100}catch(b){return 1}}:function(a){return k(a).opacity},e=9>h("ie")||10>h("ie")&&h("quirks")?function(a,b){var f=100*b,d=1==b;a.style.zoom=d?"":1;if(q(a))q(a,1).Opacity=f;else{if(d)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+
f+")"}q(a,1).Enabled=!d;if("tr"==a.tagName.toLowerCase())for(f=a.firstChild;f;f=f.nextSibling)"td"==f.tagName.toLowerCase()&&e(f,b);return b}:function(a,b){return a.style.opacity=b},b={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,a=h("ie")?"styleFloat":"cssFloat",f={cssFloat:a,styleFloat:a,"float":a};c.get=function(a,b){var d=o.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return n(d);var b=f[b]||b,g=c.getComputedStyle(d);return 1==e?g:l(d,b,g[b]||d.style[b])};c.set=function(a,
b,d){var g=o.byId(a),n=arguments.length,k="opacity"==b,b=f[b]||b;if(3==n)return k?e(g,d):g.style[b]=d;for(var q in b)c.set(a,q,b[q]);return c.getComputedStyle(g)};return c})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(h,o,l,k,c){function g(c,n){var e=function(b,d){return o(b,c,function(a){if(n)return n(a,d);if(!k.isDescendant(a.relatedTarget,b))return d.call(this,a)})};e.bubble=function(b){return g(c,function(d,a){var f=b(d.target),e=d.relatedTarget;
if(f&&f!=(e&&1==e.nodeType&&b(e)))return a.call(f,d)})};return e}l.add("dom-quirks",c.doc&&"BackCompat"==c.doc.compatMode);l.add("events-mouseenter",c.doc&&"onmouseenter"in c.doc.createElement("div"));l.add("events-mousewheel",c.doc&&"onmousewheel"in c.doc);c=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,g){return c.button&g},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,
MIDDLE:1,RIGHT:2,isButton:function(c,g){return c.button==g},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};h.mouseButtons=c;h=l("events-mousewheel")?"mousewheel":function(c,g){return o(c,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail;g.call(this,e)})};return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:h,isLeft:c.isLeft,isMiddle:c.isMiddle,isRight:c.isRight}})},"dojo/_base/sniff":function(){define(["./kernel",
"./lang","../sniff"],function(h,o,l){h._name="browser";o.mixin(h,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});h.locale=h.locale||(l("ie")?navigator.userLanguage:navigator.language).toLowerCase();return l})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],
function(h,o){return h.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:o("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:o("mac")&&!o("air")?o("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(h,o,l,k,c,g,q){var n=function(){},e=Object.freeze||function(){},b=h.Deferred=
function(d){function a(a){if(q)throw Error("This deferred has already been resolved");p=a;q=!0;f()}function f(){for(var a;!a&&u;){var b=u;u=u.next;if(a=b.progress==n)q=!1;var f=h?b.error:b.resolved;c("config-useDeferredInstrumentation")&&h&&o.instrumentRejected&&o.instrumentRejected(p,!!f);if(f)try{var d=f(p);d&&"function"===typeof d.then?d.then(g.hitch(b.deferred,"resolve"),g.hitch(b.deferred,"reject"),g.hitch(b.deferred,"progress")):(f=a&&void 0===d,a&&!f&&(h=d instanceof Error),b.deferred[f&&h?
"reject":"resolve"](f?p:d))}catch(e){b.deferred.reject(e)}else h?b.deferred.reject(p):b.deferred.resolve(p)}}var p,q,h,w,u,x=this.promise=new l;this.resolve=this.callback=function(b){this.fired=0;this.results=[b,null];a(b)};this.reject=this.errback=function(b){h=!0;this.fired=1;c("config-useDeferredInstrumentation")&&o.instrumentRejected&&o.instrumentRejected(b,!!u);a(b);this.results=[null,b]};this.progress=function(a){for(var b=u;b;){var f=b.progress;f&&f(a);b=b.next}};this.addCallbacks=function(a,
b){this.then(a,b,n);return this};x.then=this.then=function(a,d,e){var c=e==n?this:new b(x.cancel),a={resolved:a,error:d,progress:e,deferred:c};u?w=w.next=a:u=w=a;q&&f();return c.promise};var t=this;x.cancel=this.cancel=function(){if(!q){var a=d&&d(t);if(!q)a instanceof Error||(a=new k(a)),a.log=!1,t.reject(a)}};e(x)};g.extend(b,{addCallback:function(b){return this.addCallbacks(g.hitch.apply(h,arguments))},addErrback:function(b){return this.addCallbacks(null,g.hitch.apply(h,arguments))},addBoth:function(b){var a=
g.hitch.apply(h,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=h.when=q;return b})},"dojo/Deferred":function(){define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(h,o,l,k,c){var g=Object.freeze||function(){},q=function(a,b,e,c,g){2===b&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(e,!1,c,g);for(g=0;g<a.length;g++)n(a[g],b,e,c)},n=function(a,f,c,g){var n=a[f],k=a.deferred;if(n)try{var q=n(c);if(0===
f)"undefined"!==typeof q&&b(k,f,q);else{if(q&&"function"===typeof q.then){a.cancel=q.cancel;q.then(e(k,1),e(k,2),e(k,0));return}b(k,1,q)}}catch(h){b(k,2,h)}else b(k,f,c);2===f&&d.instrumentRejected&&d.instrumentRejected(c,!!n,g,k.promise)},e=function(a,f){return function(d){b(a,f,d)}},b=function(a,b,d){if(!a.isCanceled())switch(b){case 0:a.progress(d);break;case 1:a.resolve(d);break;case 2:a.reject(d)}},d=function(a){var b=this.promise=new k,e=this,c,h,o,u=!1,x=[];Error.captureStackTrace&&(Error.captureStackTrace(e,
d),Error.captureStackTrace(b,d));this.isResolved=b.isResolved=function(){return 1===c};this.isRejected=b.isRejected=function(){return 2===c};this.isFulfilled=b.isFulfilled=function(){return!!c};this.isCanceled=b.isCanceled=function(){return u};this.progress=function(a,d){if(c){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}q(x,0,a,null,e);return b};this.resolve=function(a,d){if(c){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}q(x,c=1,h=a,
null,e);x=null;return b};var t=this.reject=function(a,d){if(c){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(o={},t);q(x,c=2,h=a,o,e);x=null;return b};this.then=b.then=function(a,e,p){var g=[p,a,e];g.cancel=b.cancel;g.deferred=new d(function(a){return g.cancel&&g.cancel(a)});c&&!x?n(g,c,h,o):x.push(g);return g.deferred.promise};this.cancel=b.cancel=function(b,f){if(c){if(!0===f)throw Error("This deferred has already been fulfilled.");
}else{if(a)var d=a(b),b="undefined"===typeof d?b:d;u=!0;if(c){if(2===c&&h===b)return b}else return"undefined"===typeof b&&(b=new l),t(b),b}};g(b)};d.prototype.toString=function(){return"[object Deferred]"};c&&c(d);return d})},"dojo/errors/CancelError":function(){define(["./create"],function(h){return h("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(h){return function(o,l,k,c){var k=k||Error,g=function(c){if(k===Error){Error.captureStackTrace&&
Error.captureStackTrace(this,g);var n=Error.call(this,c),e;for(e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);this.message=c;this.stack=n.stack}else k.apply(this,arguments);l&&l.apply(this,arguments)};g.prototype=h.delegate(k.prototype,c);g.prototype.name=o;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(h){function o(){throw new TypeError("abstract");}return h.extend(function(){},{then:function(){o()},cancel:function(){o()},isResolved:function(){o()},
isRejected:function(){o()},isFulfilled:function(){o()},isCanceled:function(){o()},always:function(h){return this.then(h,h)},otherwise:function(h){return this.then(null,h)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(h,o,l,k){function c(a,b,d){var c="";a&&a.stack&&(c+=a.stack);b&&b.stack&&(c+="\n    ----------------------------------------\n    rejected"+
b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));d&&d.stack&&(c+="\n    ----------------------------------------\n"+d.stack);console.error(a,c)}function g(a,b,d,e){b||c(a,d,e)}function q(a,f,c,g){f?k.some(e,function(b,f){if(b.error===a)return e.splice(f,1),!0}):k.some(e,function(b){return b.error===a})||e.push({error:a,rejection:c,deferred:g,timestamp:(new Date).getTime()});b||(b=setTimeout(n,d))}function n(){var a=(new Date).getTime(),f=a-d;e=k.filter(e,function(a){return a.timestamp<
f?(c(a.error,a.rejection,a.deferred),!1):!0});b=e.length?setTimeout(n,e[0].timestamp+d-a):!1}var e=[],b=!1,d=1E3;return function(a){var b=o("config-useDeferredInstrumentation");if(b){h.on("resolved",l.hitch(console,"log","resolved"));h.on("rejected",l.hitch(console,"log","rejected"));h.on("progress",l.hitch(console,"log","progress"));var c=[];"string"===typeof b&&(c=b.split(","),b=c.shift());if("report-rejections"===b)a.instrumentRejected=g;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=
q,d=parseInt(c[0],10)||d;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(h,o,l){function k(k){setTimeout(function(){g.apply(c,k)},0)}var c=new l,g=c.emit;c.emit=null;o.prototype.trace=function(){var c=h._toArray(arguments);this.then(function(g){k(["resolved",g].concat(c))},function(g){k(["rejected",g].concat(c))},function(g){k(["progress",g].concat(c))});return this};o.prototype.traceRejected=
function(){var c=h._toArray(arguments);this.otherwise(function(g){k(["rejected",g].concat(c))});return this};return c})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(h,o){return function(l,k,c,g){var q=l&&"function"===typeof l.then,n=q&&l instanceof o;if(q){if(!n)q=new h(l.cancel),l.then(q.resolve,q.reject,q.progress),l=q.promise}else return k?k(l):(new h).resolve(l);return k||c||g?l.then(k,c,g):l}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(h,
o){h.fromJson=function(h){return eval("("+h+")")};h._escapeString=o.stringify;h.toJsonIndentStr="\t";h.toJson=function(l,k){return o.stringify(l,function(c,g){if(g){var k=g.__json__||g.json;if("function"==typeof k)return k.call(g)}return g},k&&h.toJsonIndentStr)};return h})},"dojo/json":function(){define(["./has"],function(h){var o="undefined"!=typeof JSON;h.add("json-parse",o);h.add("json-stringify",o&&'{"a":1}'==JSON.stringify({a:0},function(k,c){return c||1}));if(h("json-stringify"))return JSON;
var l=function(k){return('"'+k.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:h("json-parse")?JSON.parse:function(k,c){if(c&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(k))throw new SyntaxError("Invalid characters in JSON");return eval("("+k+")")},stringify:function(k,c,g){function q(e,b,d){c&&(e=c(d,e));var a;a=typeof e;if("number"==
a)return isFinite(e)?e+"":"null";if("boolean"==a)return e+"";if(null===e)return"null";if("string"==typeof e)return l(e);if("function"==a||"undefined"==a)return n;if("function"==typeof e.toJSON)return q(e.toJSON(d),b,d);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,f){a=e["getUTC"+b]()+(f?1:0);return 10>a?"0"+a:a});if(e.valueOf()!==e)return q(e.valueOf(),b,d);var f=g?b+g:"",p=g?" ":"",k=g?"\n":"";if(e instanceof Array){for(var p=
e.length,h=[],d=0;d<p;d++)a=q(e[d],f,d),"string"!=typeof a&&(a="null"),h.push(k+f+a);return"["+h.join(",")+k+b+"]"}h=[];for(d in e){var o;if(e.hasOwnProperty(d)){if("number"==typeof d)o='"'+d+'"';else if("string"==typeof d)o=l(d);else continue;a=q(e[d],f,d);"string"==typeof a&&h.push(k+f+o+":"+p+a)}}return"{"+h.join(",")+k+b+"}"}var n;"string"==typeof c&&(g=c,c=null);return q(k,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(h,o,l,k){var c=h.Color=
function(c){c&&this.setColor(c)};c.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};o.extend(c,{r:255,g:255,b:255,a:1,_set:function(c,k,n,e){this.r=c;this.g=k;this.b=n;this.a=e},setColor:function(g){o.isString(g)?c.fromString(g,
this):o.isArray(g)?c.fromArray(g,this):(this._set(g.r,g.g,g.b,g.a),g instanceof c||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var k=this.r+", "+this.g+", "+this.b;return(c?"rgba("+k+", "+this.a:"rgb("+k)+")"},toString:function(){return this.toCss(!0)}});
c.blendColors=h.blendColors=function(g,k,n,e){var b=e||new c;l.forEach(["r","g","b","a"],function(d){b[d]=g[d]+(k[d]-g[d])*n;"a"!=d&&(b[d]=Math.round(b[d]))});return b.sanitize()};c.fromRgb=h.colorFromRgb=function(g,k){var n=g.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return n&&c.fromArray(n[1].split(/\s*,\s*/),k)};c.fromHex=h.colorFromHex=function(g,k){var n=k||new c,e=4==g.length?4:8,b=(1<<e)-1,g=Number("0x"+g.substr(1));if(isNaN(g))return null;l.forEach(["b","g","r"],function(d){var a=g&b;
g>>=e;n[d]=4==e?17*a:a});n.a=1;return n};c.fromArray=h.colorFromArray=function(g,k){var n=k||new c;n._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));if(isNaN(n.a))n.a=1;return n.sanitize()};c.fromString=h.colorFromString=function(g,k){var n=c.named[g];return n&&c.fromArray(n,k)||c.fromRgb(g,k)||c.fromHex(g,k)};return c})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),
function(h){return h})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(h,o,l){var k=window,c={addOnWindowUnload:function(c,q){if(!h.windowUnloaded)l(k,"unload",h.windowUnloaded=function(){});l(k,"unload",o.hitch(c,q))},addOnUnload:function(c,q){l(k,"beforeunload",o.hitch(c,q))}};h.addOnWindowUnload=c.addOnWindowUnload;h.addOnUnload=c.addOnUnload;return c})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(h,o,l,k,c,g,q,n){h.byId=o.byId;h.isDescendant=o.isDescendant;h.setSelectable=o.setSelectable;h.getAttr=k.get;h.setAttr=k.set;h.hasAttr=k.has;h.removeAttr=k.remove;h.getNodeProp=k.getNodeProp;h.attr=function(c,b,d){return 2==arguments.length?k["string"==typeof b?"get":"set"](c,b):k.set(c,b,d)};h.hasClass=g.contains;h.addClass=g.add;h.removeClass=g.remove;h.toggleClass=g.toggle;h.replaceClass=g.replace;h._toDom=h.toDom=q.toDom;h.place=q.place;h.create=q.create;h.empty=function(c){q.empty(c)};
h._destroyElement=h.destroy=function(c){q.destroy(c)};h._getPadExtents=h.getPadExtents=n.getPadExtents;h._getBorderExtents=h.getBorderExtents=n.getBorderExtents;h._getPadBorderExtents=h.getPadBorderExtents=n.getPadBorderExtents;h._getMarginExtents=h.getMarginExtents=n.getMarginExtents;h._getMarginSize=h.getMarginSize=n.getMarginSize;h._getMarginBox=h.getMarginBox=n.getMarginBox;h.setMarginBox=n.setMarginBox;h._getContentBox=h.getContentBox=n.getContentBox;h.setContentSize=n.setContentSize;h._isBodyLtr=
h.isBodyLtr=n.isBodyLtr;h._docScroll=h.docScroll=n.docScroll;h._getIeDocumentElementOffset=h.getIeDocumentElementOffset=n.getIeDocumentElementOffset;h._fixIeBiDiScrollLeft=h.fixIeBiDiScrollLeft=n.fixIeBiDiScrollLeft;h.position=n.position;h.marginBox=function(c,b){return b?n.setMarginBox(c,b):n.getMarginBox(c)};h.contentBox=function(c,b){return b?n.setContentSize(c,b):n.getContentBox(c)};h.coords=function(c,b){h.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var c=o.byId(c),
d=l.getComputedStyle(c),d=n.getMarginBox(c,d),a=n.position(c,b);d.x=a.x;d.y=a.y;return d};h.getProp=c.get;h.setProp=c.set;h.prop=function(e,b,d){return 2==arguments.length?c["string"==typeof b?"get":"set"](e,b):c.set(e,b,d)};h.getStyle=l.get;h.setStyle=l.set;h.getComputedStyle=l.getComputedStyle;h.__toPixelValue=h.toPixelValue=l.toPixelValue;h.style=function(c,b,d){switch(arguments.length){case 1:return l.get(c);case 2:return l["string"==typeof b?"get":"set"](c,b)}return l.set(c,b,d)};return h})},
"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(h,o,l,k,c,g){function q(b,d){var a=b.getAttributeNode&&b.getAttributeNode(d);return a&&a.specified}var n={innerHTML:1,className:1,htmlFor:o("ie"),value:1},e={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};h.has=function(b,d){var a=d.toLowerCase();return n[g.names[a]||d]||q(k.byId(b),e[a]||d)};h.get=function(b,d){var b=k.byId(b),a=d.toLowerCase(),f=g.names[a]||
d,c=b[f];if(n[f]&&"undefined"!=typeof c||"href"!=f&&("boolean"==typeof c||l.isFunction(c)))return c;a=e[a]||d;return q(b,a)?b.getAttribute(a):null};h.set=function(b,d,a){b=k.byId(b);if(2==arguments.length){for(var f in d)h.set(b,f,d[f]);return b}f=d.toLowerCase();var p=g.names[f]||d,q=n[p];if("style"==p&&"string"!=typeof a)return c.set(b,a),b;if(q||"boolean"==typeof a||l.isFunction(a))return g.set(b,d,a);b.setAttribute(e[f]||d,a);return b};h.remove=function(b,d){k.byId(b).removeAttribute(e[d.toLowerCase()]||
d)};h.getNodeProp=function(b,d){var b=k.byId(b),a=d.toLowerCase(),f=g.names[a]||d;if(f in b&&"href"!=f)return b[f];a=e[a]||d;return q(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(h,o,l,k,c,g,q,n){var e={},b=0,d=o._scopeName+"attrid";h.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",
valuetype:"valueType"};h.get=function(a,b){var a=c.byId(a),d=b.toLowerCase();return a[h.names[d]||b]};h.set=function(a,f,p){a=c.byId(a);if(2==arguments.length&&"string"!=typeof f){for(var r in f)h.set(a,r,f[r]);return a}r=f.toLowerCase();r=h.names[r]||f;if("style"==r&&"string"!=typeof p)return g.set(a,p),a;if("innerHTML"==r)return l("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(q.empty(a),a.appendChild(q.toDom(p,a.ownerDocument))):a[r]=p,a;if(k.isFunction(p)){var s=
a[d];s||(s=b++,a[d]=s);e[s]||(e[s]={});var o=e[s][r];if(o)n.disconnect(o);else try{delete a[r]}catch(u){}p?e[s][r]=n.connect(a,r,p):a[r]=null;return a}a[r]=p;return a}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(h,o,l,k,c,g){function q(a,b){var f=b.parentNode;f&&f.insertBefore(a,b)}var n={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table",
"thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},e=/<\s*([\w\:]+)/,b={},d=0,a="__"+o._scopeName+"ToDomId",f;for(f in n)if(n.hasOwnProperty(f))o=n[f],o.pre="option"==f?'<select multiple="multiple">':"<"+o.join("><")+">",o.post="</"+o.reverse().join("></")+">";h.toDom=function(f,c){var c=c||k.doc,p=c[a];p||(c[a]=p=++d+"",b[p]=c.createElement("div"));var f=f+"",g=f.match(e),q=g?g[1].toLowerCase():"",p=b[p];if(g&&n[q]){g=n[q];p.innerHTML=g.pre+
f+g.post;for(g=g.length;g;--g)p=p.firstChild}else p.innerHTML=f;if(1==p.childNodes.length)return p.removeChild(p.firstChild);for(q=c.createDocumentFragment();g=p.firstChild;)q.appendChild(g);return q};h.place=function(a,b,f){b=c.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?h.toDom(a,b.ownerDocument):c.byId(a));if("number"==typeof f){var d=b.childNodes;!d.length||d.length<=f?b.appendChild(a):q(a,d[0>f?0:f])}else switch(f){case "before":q(a,b);break;case "after":f=a;(d=b.parentNode)&&(d.lastChild==
b?d.appendChild(f):d.insertBefore(f,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":h.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){q(a,b.firstChild);break}default:b.appendChild(a)}return a};h.create=function(a,b,f,d){var e=k.doc;if(f)f=c.byId(f),e=f.ownerDocument;"string"==typeof a&&(a=e.createElement(a));b&&g.set(a,b);f&&h.place(a,f,d);return a};var p=l("ie")?function(a){try{a.innerHTML=""}catch(b){for(var f;f=a.lastChild;){var d=a;f.firstChild&&
p(f);d&&d.removeChild(f)}}}:function(a){a.innerHTML=""};h.empty=function(a){p(c.byId(a))};h.destroy=function(a){if(a=c.byId(a)){var b=a,a=a.parentNode;b.firstChild&&p(b);a&&a.removeChild(b)}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(h,o,l){function k(c){if("string"==typeof c||c instanceof String){if(c&&!g.test(c))return q[0]=c,q;c=c.split(g);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:o.filter(c,function(b){return b})}
var c,g=/\s+/,q=[""],n={};return c={contains:function(c,b){return 0<=(" "+l.byId(c).className+" ").indexOf(" "+b+" ")},add:function(c,b){var c=l.byId(c),b=k(b),d=c.className,a,d=d?" "+d+" ":" ";a=d.length;for(var f=0,p=b.length,g;f<p;++f)(g=b[f])&&0>d.indexOf(" "+g+" ")&&(d+=g+" ");a<d.length&&(c.className=d.substr(1,d.length-2))},remove:function(c,b){var c=l.byId(c),d;if(void 0!==b){b=k(b);d=" "+c.className+" ";for(var a=0,f=b.length;a<f;++a)d=d.replace(" "+b[a]+" "," ");d=h.trim(d)}else d="";c.className!=
d&&(c.className=d)},replace:function(e,b,d){e=l.byId(e);n.className=e.className;c.remove(n,d);c.add(n,b);e.className!==n.className&&(e.className=n.className)},toggle:function(e,b,d){e=l.byId(e);if(void 0===d)for(var b=k(b),a=0,f=b.length,p;a<f;++a)p=b[a],c[c.contains(e,p)?"remove":"add"](e,p);else c[d?"add":"remove"](e,b);return d}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(h,o,l){var o=o.NodeList,k=o.prototype;k.connect=o._adaptAsForEach(function(){return h.connect.apply(this,
arguments)});k.coords=o._adaptAsMap(h.coords);o.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");l.forEach(o.events,function(c){var g="on"+c;k[g]=function(c,k){return this.connect(g,c,k)}});return h.NodeList=o})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(h,o,l,k,c,g,q,n){function e(a,
b){var f=function(f,d){if("string"==typeof d&&(d=l.byId(d),!d))return new b([]);var c="string"==typeof f?a(f,d):f?f.orphan?f:[f]:[];return c.orphan?c:new b(c)};f.matches=a.match||function(a,b,d){return 0<f.filter([a],b,d).length};f.filter=a.filter||function(a,b,d){return f(b,d).filter(function(b){return-1<c.indexOf(a,b)})};if("function"!=typeof a)var d=a.search,a=function(a,b){return d(b||document,a)};return f}o.add("array-extensible",function(){return 1==g.delegate([],{length:1}).length&&!o("bug-for-in-skips-shadowed")});
var b=Array.prototype,d=b.slice,a=b.concat,f=c.forEach,p=function(a,b,f){b=[0].concat(d.call(b,0));f=f||h.global;return function(d){b[0]=d;return a.apply(f,b)}},r=function(a){var b=this instanceof s&&o("array-extensible");"number"==typeof a&&(a=Array(a));var f=a&&"length"in a?a:arguments;if(b||!f.sort){for(var d=b?this:[],c=d.length=f.length,e=0;e<c;e++)d[e]=f[e];if(b)return d;f=d}g._mixin(f,w);f._NodeListCtor=function(a){return s(a)};return f},s=r,w=s.prototype=o("array-extensible")?[]:{};s._wrap=
w._wrap=function(a,b,f){a=new (f||this._NodeListCtor||s)(a);return b?a._stash(b):a};s._adaptAsMap=function(a,b){return function(){return this.map(p(a,arguments,b))}};s._adaptAsForEach=function(a,b){return function(){this.forEach(p(a,arguments,b));return this}};s._adaptAsFilter=function(a,b){return function(){return this.filter(p(a,arguments,b))}};s._adaptWithCondition=function(a,b,f){return function(){var d=arguments,c=p(a,d,f);if(b.call(f||h.global,d))return this.map(c);this.forEach(c);return this}};
f(["slice","splice"],function(a){var f=b[a];w[a]=function(){return this._wrap(f.apply(this,arguments),"slice"==a?this:null)}});f(["indexOf","lastIndexOf","every","some"],function(a){var b=c[a];w[a]=function(){return b.apply(h,[this].concat(d.call(arguments,0)))}});g.extend(r,{constructor:s,_NodeListCtor:s,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var f=this.map(function(f){return k(f,a,b)});f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()};
return f},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var f=d.call(this,0),e=c.map(arguments,function(a){return d.call(a,0)});return this._wrap(a.apply(f,e),this)},map:function(a,b){return this._wrap(c.map(this,a,b),this)},forEach:function(a,b){f(this,a,b);return this},filter:function(a){var b=arguments,f=this,d=0;if("string"==typeof a){f=u._filterResult(this,b[0]);if(1==b.length)return f._stash(this);d=1}return this._wrap(c.filter(f,b[d],b[d+1]),
this)},instantiate:function(a,b){var f=g.isFunction(a)?a:g.getObject(a),b=b||{};return this.forEach(function(a){new f(b,a)})},at:function(){var a=new this._NodeListCtor(0);f(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=e(n,r);h.query=e(n,function(a){return r(a)});u.load=function(a,b,f){q.load(a,b,function(a){f(e(a,r))})};h._filterQueryResult=u._filterResult=function(a,b,f){return new r(u.filter(a,b,f))};h.NodeList=u.NodeList=r;return u})},
"dojo/selector/_loader":function(){define(["../has","require"],function(h,o){var l=document.createElement("div");h.add("dom-qsa2.1",!!l.querySelectorAll);h.add("dom-qsa3",function(){try{return l.innerHTML="<p class='TEST'></p>",1==l.querySelectorAll(".TEST:empty").length}catch(c){}});var k;return{load:function(c,g,q){var n=o,c="default"==c?h("config-selectorEngine")||"css3":c,c="css2"==c||"lite"==c?"./lite":"css2.1"==c?h("dom-qsa2.1")?"./lite":"./acme":"css3"==c?h("dom-qsa3")?"./lite":"./acme":"acme"==
c?"./acme":(n=g)&&c;if("?"==c.charAt(c.length-1))var c=c.substring(0,c.length-1),e=!0;if(e&&(h("dom-compliant-qsa")||k))return q(k);n([c],function(b){"./lite"!=c&&(k=b);q(b)})}}})},"dojo/NodeList-dom":function(){define("dojo/NodeList-dom","./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(h,o,l,k,c,g,q,n,e){function b(a){return function(b,f,d){return 2==arguments.length?a["string"==typeof f?"get":"set"](b,f):a.set(b,
f,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},a=function(a){var b=a.parentNode;b&&b.removeChild(a)},f=o.NodeList,p=f._adaptWithCondition,r=f._adaptAsForEach,s=f._adaptAsMap;k.extend(f,{_normalize:function(a,b){var f=!0===a.parse;if("string"==typeof a.template)var d=a.templateFunc||h.string&&h.string.substitute,a=d?d(a.template,a):a;d=typeof a;"string"==d||"number"==d?(a=g.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?k._toArray(a.childNodes):[a]):k.isArrayLike(a)?k.isArray(a)||
(a=k._toArray(a)):a=[a];if(f)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,f,d){if(!(1!=b.nodeType&&"only"==f))for(var c,e=a.length,p=e-1;0<=p;p--){var k=d?this._cloneNode(a[p]):a[p];if(a._runParse&&h.parser&&h.parser.parse){c||(c=b.ownerDocument.createElement("div"));c.appendChild(k);h.parser.parse(c);for(k=c.firstChild;c.firstChild;)c.removeChild(c.firstChild)}p==e-1?g.place(k,b,f):b.parentNode.insertBefore(k,b);b=k}},position:s(q.position),attr:p(b(n),
d),style:p(b(e),d),addClass:r(c.add),removeClass:r(c.remove),toggleClass:r(c.toggle),replaceClass:r(c.replace),empty:r(g.empty),removeAttr:r(n.remove),marginBox:s(q.getMarginBox),place:function(a,b){var f=o(a)[0];return this.forEach(function(a){g.place(a,f,b)})},orphan:function(b){return(b?o._filterResult(this,b):this).forEach(a)},adopt:function(a,b){return o(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new f;this.map(function(f){o(a,f).forEach(function(a){void 0!==
a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,f=this,d=0;if("string"==typeof a){f=o._filterResult(this,b[0]);if(1==b.length)return f._stash(this);d=1}return this._wrap(l.filter(f,b[d],b[d+1]),this)},addContent:function(a,b){for(var a=this._normalize(a,this[0]),f=0,d;d=this[f];f++)this._place(a,d,b,0<f);return this}});return f})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s){h._xhrObj=r._create;var w=h.config;h.objectToQuery=k.objectToQuery;h.queryToObject=k.queryToObject;h.fieldToObject=g.fieldToObject;h.formToObject=g.toObject;h.formToQuery=g.toQuery;h.formToJson=g.toJson;h._blockAsync=!1;var u=h._contentHandlers=h.contentHandlers={text:function(a){return a.responseText},json:function(a){return e.fromJson(a.responseText||null)},"json-comment-filtered":function(a){var a=a.responseText,b=a.indexOf("/*"),f=a.lastIndexOf("*/");
if(-1==b||-1==f)throw Error("JSON was not comment filtered");return e.fromJson(a.substring(b+2,f))},javascript:function(a){return h.eval(a.responseText)},xml:function(a){var b=a.responseXML;if(o("ie")&&(!b||!b.documentElement)){var f=function(a){return"MSXML"+a+".DOMDocument"},f=["Microsoft.XMLDOM",f(6),f(4),f(3),f(2)];d.some(f,function(f){try{var d=new ActiveXObject(f);d.async=!1;d.loadXML(a.responseText);b=d}catch(c){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&
/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};h._ioSetArgs=function(a,f,d,e){var p={args:a,url:a.url},n=null;if(a.form){var n=c.byId(a.form),r=n.getAttributeNode("action");p.url=p.url||(r?r.value:null);n=g.toObject(n)}r=[{}];n&&r.push(n);a.content&&r.push(a.content);a.preventCache&&r.push({"dojo.preventCache":(new Date).valueOf()});p.query=k.objectToQuery(b.mixin.apply(null,r));p.handleAs=a.handleAs||"text";var l=new q(function(a){a.canceled=!0;f&&f(a);var b=a.ioArgs.error;
if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});l.addCallback(d);var o=a.load;o&&b.isFunction(o)&&l.addCallback(function(b){return o.call(a,b,p)});var s=a.error;s&&b.isFunction(s)&&l.addErrback(function(b){return s.call(a,b,p)});var t=a.handle;t&&b.isFunction(t)&&l.addBoth(function(b){return t.call(a,b,p)});l.addErrback(function(a){return e(a,l)});w.ioPublish&&h.publish&&!1!==p.args.ioPublish&&(l.addCallbacks(function(a){h.publish("/dojo/io/load",[l,a]);return a},
function(a){h.publish("/dojo/io/error",[l,a]);return a}),l.addBoth(function(a){h.publish("/dojo/io/done",[l,a]);return a}));l.ioArgs=p;return l};var x=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},t=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},y=function(a){0>=v&&(v=0,w.ioPublish&&h.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&h.publish("/dojo/io/stop"))},v=0;f.after(p,"_onAction",function(){v-=1});f.after(p,"_onInFlight",y);h._ioCancelAll=p.cancelAll;
h._ioNotifyStart=function(a){w.ioPublish&&h.publish&&!1!==a.ioArgs.args.ioPublish&&(v||h.publish("/dojo/io/start"),v+=1,h.publish("/dojo/io/send",[a]))};h._ioWatch=function(a,f,d,c){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(){return f(a)},isReady:function(){return d(a)},handleResponse:function(){return c(a)}});p(a);y(a)};h._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};h.xhr=function(a,b,f){var d,c=h._ioSetArgs(b,
function(){d&&d.cancel()},x,t),e=c.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!f||-1==="POST|PUT".indexOf(a.toUpperCase()))&&h._ioAddQueryToUrl(e);var p={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:e};if("undefined"!==typeof b.headers)p.headers=b.headers;if("undefined"!==typeof b.contentType){if(!p.headers)p.headers={};p.headers["Content-Type"]=b.contentType}if("undefined"!==
typeof e.query)p.data=e.query;if("undefined"!==typeof b.sync)p.sync=b.sync;h._ioNotifyStart(c);try{d=r(e.url,p,!0)}catch(g){return c.cancel(),c}c.ioArgs.xhr=d.response.xhr;d.then(function(){c.resolve(c)}).otherwise(function(a){e.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;c.reject(a)});return c};h.xhrGet=function(a){return h.xhr("GET",a)};h.rawXhrPost=h.xhrPost=function(a){return h.xhr("POST",a,!0)};h.rawXhrPut=h.xhrPut=function(a){return h.xhr("PUT",
a,!0)};h.xhrDelete=function(a){return h.xhr("DELETE",a)};h._isDocumentOk=function(a){return s.checkStatus(a.status)};h._getText=function(a){var b;h.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};b.mixin(h.xhr,{_xhrObj:h._xhrObj,fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:k.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:k.queryToObject,contentHandlers:u,_ioSetArgs:h._ioSetArgs,_ioCancelAll:h._ioCancelAll,_ioNotifyStart:h._ioNotifyStart,_ioWatch:h._ioWatch,
_ioAddQueryToUrl:h._ioAddQueryToUrl,_isDocumentOk:h._isDocumentOk,_getText:h._getText,get:h.xhrGet,post:h.xhrPost,put:h.xhrPut,del:h.xhrDelete});return h.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(h){var o={};return{objectToQuery:function(l){var k=encodeURIComponent,c=[],g;for(g in l){var q=l[g];if(q!=o[g]){var n=k(g)+"=";if(h.isArray(q))for(var e=0,b=q.length;e<b;++e)c.push(n+k(q[e]));else c.push(n+k(q))}}return c.join("&")},queryToObject:function(l){for(var k=decodeURIComponent,
l=l.split("&"),c={},g,q,n=0,e=l.length;n<e;++n)if(q=l[n],q.length){var b=q.indexOf("=");0>b?(g=k(q),q=""):(g=k(q.slice(0,b)),q=k(q.slice(b+1)));"string"==typeof c[g]&&(c[g]=[c[g]]);h.isArray(c[g])?c[g].push(q):c[g]=q}return c}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(h,o,l,k){var c={fieldToObject:function(c){var k=null;if(c=o.byId(c)){var n=c.name,e=(c.type||"").toLowerCase();if(n&&e&&!c.disabled)if("radio"==e||"checkbox"==e){if(c.checked)k=c.value}else if(c.multiple){k=
[];for(c=[c.firstChild];c.length;)for(n=c.pop();n;n=n.nextSibling)if(1==n.nodeType&&"option"==n.tagName.toLowerCase())n.selected&&k.push(n.value);else{n.nextSibling&&c.push(n.nextSibling);n.firstChild&&c.push(n.firstChild);break}}else k=c.value}return k},toObject:function(g){for(var k={},g=o.byId(g).elements,n=0,e=g.length;n<e;++n){var b=g[n],d=b.name,a=(b.type||"").toLowerCase();if(d&&a&&0>"file|submit|image|reset|button".indexOf(a)&&!b.disabled){var f=k,p=d,b=c.fieldToObject(b);if(null!==b){var l=
f[p];"string"==typeof l?f[p]=[l,b]:h.isArray(l)?l.push(b):f[p]=b}if("image"==a)k[d+".x"]=k[d+".y"]=k[d].x=k[d].y=0}}return k},toQuery:function(g){return l.objectToQuery(c.toObject(g))},toJson:function(g,h){return k.stringify(c.toObject(g),null,h?4:0)}};return c})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(h,o,l,k,c,g){function q(){for(var d=
+new Date,a=0,f;a<b.length&&(f=b[a]);a++){var c=f.response,g=c.options;if(f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(c))b.splice(a--,1),n._onAction&&n._onAction();else if(f.isReady&&f.isReady(c))b.splice(a--,1),f.handleResponse(c),n._onAction&&n._onAction();else if(f.startTime&&f.startTime+(g.timeout||0)<d)b.splice(a--,1),f.cancel(new o("Timeout exceeded",c)),n._onAction&&n._onAction()}n._onInFlight&&n._onInFlight(f);b.length||(clearInterval(e),e=null)}function n(d){if(d.response.options.timeout)d.startTime=
+new Date;d.isFulfilled()||(b.push(d),e||(e=setInterval(q,50)),d.response.options.sync&&q())}var e=null,b=[];n.cancelAll=function(){try{k.forEach(b,function(a){try{a.cancel(new l("All requests canceled."))}catch(b){}})}catch(d){}};c&&g&&c.doc.attachEvent&&g(c.global,"unload",function(){n.cancelAll()});return n})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(h,o,l,k,c,g,q){function n(b){return e(b)}
h.deepCopy=function(b,d){for(var a in d){var f=b[a],c=d[a];f!==c&&(f&&"object"===typeof f&&c&&"object"===typeof c?h.deepCopy(f,c):b[a]=c)}return b};h.deepCreate=function(b,d){var d=d||{},a=q.delegate(b),f,c;for(f in b)(c=b[f])&&"object"===typeof c&&(a[f]=h.deepCreate(c,d[f]));return h.deepCopy(a,d)};var e=Object.freeze||function(b){return b};h.deferred=function(b,d,a,f,c,g){var s=new k(function(a){d&&d(s,b);return!a||!(a instanceof o)&&!(a instanceof l)?new l("Request canceled",b):a});s.response=
b;s.isValid=a;s.isReady=f;s.handleResponse=c;a=s.then(n).otherwise(function(a){a.response=b;throw a;});h.notify&&a.then(q.hitch(h.notify,"emit","load"),q.hitch(h.notify,"emit","error"));f=a.then(function(a){return a.data||a.text});a=e(q.delegate(f,{response:a}));g&&s.then(function(a){g.call(s,a)},function(a){g.call(s,b,a)});s.promise=a;s.then=a.then;return s};h.addCommonMethods=function(b,d){g.forEach(d||["GET","POST","PUT","DELETE"],function(a){b[("DELETE"===a?"DEL":a).toLowerCase()]=function(f,
d){d=q.delegate(d||{});d.method=a;return b(f,d)}})};h.parseArgs=function(b,d,a){var f=d.data,e=d.query;if(f&&!a&&"object"===typeof f)d.data=c.objectToQuery(f);e?("object"===typeof e&&(e=c.objectToQuery(e)),d.preventCache&&(e+=(e?"&":"")+"request.preventCache="+ +new Date)):d.preventCache&&(e="request.preventCache="+ +new Date);b&&e&&(b+=(~b.indexOf("?")?"&":"?")+e);return{url:b,options:d,getHeader:function(){return null}}};h.checkStatus=function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||
!b}})},"dojo/errors/RequestError":function(){define(["./create"],function(h){return h("RequestError",function(h,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(h,o){return h("RequestTimeoutError",null,o,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(h,o,l,k,c){function g(a,b){var f=a.xhr;a.status=a.xhr.status;a.text=f.responseText;if("xml"===
a.options.handleAs)a.data=f.responseXML;if(!b)try{l(a)}catch(d){b=d}b?this.reject(b):k.checkStatus(f.status)?this.resolve(a):(b=new h("Unable to load "+a.url+" status: "+f.status,a),this.reject(b))}function q(p,l,r){var x=k.parseArgs(p,k.deepCreate(f,l),c("native-formdata")&&l&&l.data&&l.data instanceof FormData),p=x.url,l=x.options,t,y=k.deferred(x,d,n,e,g,function(){t&&t()}),v=x.xhr=q._create();if(!v)return y.cancel(new h("XHR was not created")),r?y:y.promise;x.getHeader=function(a){return this.xhr.getResponseHeader(a)};
b&&(t=b(v,y,x));var A=l.data,z=!l.sync,E=l.method;try{v.open(E,p,z,l.user||a,l.password||a);if(l.withCredentials)v.withCredentials=l.withCredentials;var D=l.headers,G;if(D)for(var C in D)"content-type"===C.toLowerCase()?G=D[C]:D[C]&&v.setRequestHeader(C,D[C]);G&&!1!==G&&v.setRequestHeader("Content-Type",G);(!D||!("X-Requested-With"in D))&&v.setRequestHeader("X-Requested-With","XMLHttpRequest");k.notify&&k.notify.emit("send",x,y.promise.cancel);v.send(A)}catch(H){y.reject(H)}o(y);v=null;return r?y:
y.promise}c.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});c.add("dojo-force-activex-xhr",function(){return c("activex")&&!document.addEventListener&&"file:"===window.location.protocol});c.add("native-xhr2",function(){if(c("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});c.add("native-formdata",function(){return"function"===typeof FormData});var n,e,b,d;c("native-xhr2")?(n=
function(){return!this.isFulfilled()},d=function(a,b){b.xhr.abort()},b=function(a,b,f){function d(){b.handleResponse(f)}function c(a){a=new h("Unable to load "+f.url+" status: "+a.target.status,f);b.handleResponse(f,a)}function e(a){if(a.lengthComputable)f.loaded=a.loaded,f.total=a.total,b.progress(f)}a.addEventListener("load",d,!1);a.addEventListener("error",c,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",c,!1);a.removeEventListener("progress",
e,!1)}}):(n=function(a){return a.xhr.readyState},e=function(a){return 4===a.xhr.readyState},d=function(a,b){var f=b.xhr,d=typeof f.abort;("function"===d||"object"===d||"unknown"===d)&&f.abort()});var a,f={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};q._create=function(){throw Error("XMLHTTP not available");};if(c("native-xhr")&&!c("dojo-force-activex-xhr"))q._create=function(){return new XMLHttpRequest};else if(c("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
q._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(p){try{new ActiveXObject("Microsoft.XMLHTTP"),q._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(r){}}k.addCommonMethods(q);return q})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(h,o,l,k){function c(c){var b=n[c.options.handleAs];c.data=b?b(c):c.data||c.text;return c}k.add("activex","undefined"!==typeof ActiveXObject);var g;if(k("activex")){var q=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];g=function(c){var b=c.data;if(!b||!b.documentElement){var d=c.text;l.some(q,function(a){try{var f=new ActiveXObject(a);f.async=!1;f.loadXML(d);b=f}catch(c){return!1}return!0})}return b}}var n={javascript:function(c){return o.eval(c.text||"")},json:function(c){return h.parse(c.text||null)},xml:g};c.register=function(c,b){n[c]=b};return c})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),
function(h,o,l,k,c,g,q,n,e){var b=l.mixin,d={},a=d._Line=function(a,b){this.start=a;this.end=b};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var f=d.Animation=function(f){b(this,f);if(l.isArray(this.curve))this.curve=new a(this.curve[0],this.curve[1])};f.prototype=new k;l.extend(f,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var f=b||[];if(this[a])if(o.debugAtAllCosts)this[a].apply(this,
f);else try{this[a].apply(this,f)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var f=a||this.delay,d=l.hitch(this,"_play",b);if(0<f)return this._delayTimer=setTimeout(d,f),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===
this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var p=0,r=null,s={run:function(){}};l.extend(f,{_startTimer:function(){if(!this._timer)this._timer=g.connect(s,"run",this,"_cycle"),p++;r||(r=setInterval(l.hitch(s,"run"),this.rate))},_stopTimer:function(){if(this._timer)g.disconnect(this._timer),this._timer=null,p--;0>=p&&(clearInterval(r),r=null,p=0)}});var w=q("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==e.get(a,"width"))b.width="auto"}:function(){};d._fade=function(a){a.node=n.byId(a.node);var f=b({properties:{}},
a),a=f.properties.opacity={};a.start=!("start"in f)?function(){return+e.get(f.node,"opacity")||0}:f.start;a.end=f.end;a=d.animateProperty(f);g.connect(a,"beforeBegin",l.partial(w,f.node));return a};d.fadeIn=function(a){return d._fade(b({end:1},a))};d.fadeOut=function(a){return d._fade(b({end:0},a))};d._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var f=a[b];if(f.start instanceof c)f.tempColor=new c}};u.prototype.getValue=function(a){var b=
{},f;for(f in this._properties){var d=this._properties[f],e=d.start;e instanceof c?b[f]=c.blendColors(e,d.end,a,d.tempColor).toCss():l.isArray(e)||(b[f]=(d.end-e)*a+e+("opacity"!=f?d.units||"px":0))}return b};d.animateProperty=function(a){var d=a.node=n.byId(a.node);if(!a.easing)a.easing=h._defaultEasing;a=new f(a);g.connect(a,"beforeBegin",a,function(){var a={},f;for(f in this.properties){if("width"==f||"height"==f)this.node.display="block";var p=this.properties[f];l.isFunction(p)&&(p=p(d));p=a[f]=
b({},l.isObject(p)?p:{end:p});if(l.isFunction(p.start))p.start=p.start(d);if(l.isFunction(p.end))p.end=p.end(d);var g=0<=f.toLowerCase().indexOf("color"),k=function(a,b){var f={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==f)return f;f=e.get(a,b);return"opacity"==b?+f:g?f:parseFloat(f)};if("end"in p){if(!("start"in p))p.start=k(d,f)}else p.end=k(d,f);g?(p.start=new c(p.start),p.end=new c(p.end)):p.start="opacity"==f?+p.start:parseFloat(p.start)}this.curve=new u(a)});g.connect(a,"onAnimate",
l.hitch(e,"set",a.node));return a};d.anim=function(a,b,c,e,p,g){return d.animateProperty({node:a,duration:c||f.prototype.duration,properties:b,easing:e,onEnd:p}).play(g||0)};b(h,d);h._Animation=f;return d})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),function(h,o,l,k,c,g,q){var n=function(a){return a.replace(/\./g,"/")},e=/\/\/>>built/,b=[],d=[],a=function(a,c,e){b.push(e);q.forEach(a.split(","),function(a){a=H(a,c.module);d.push(a);P(a)});
f()},f=function(){var a,f;for(f in G){a=G[f];if(void 0===a.noReqPluginCheck)a.noReqPluginCheck=/loadInit\!/.test(f)||/require\!/.test(f)?1:0;if(!a.executed&&!a.noReqPluginCheck&&a.injected==y)return}M(function(){var a=b;b=[];q.forEach(a,function(a){a(1)})})},p=function(a,b,f){var d=/\(|\)/g,c=1;for(d.lastIndex=b;(b=d.exec(a))&&!(c=")"==b[0]?c-1:c+1,0==c););if(0!=c)throw"unmatched paren around character "+d.lastIndex+" in: "+a;return[h.trim(a.substring(f,d.lastIndex))+";\n",d.lastIndex]},r=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,
s=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,w=/(^|\s)(require|define)\s*\(/m,u=function(a,b){var f,d,c,e=[],g=[];f=[];for(b=b||a.replace(r,function(a){s.lastIndex=w.lastIndex=0;return s.test(a)||w.test(a)?"":a});f=s.exec(b);)d=s.lastIndex,c=d-f[0].length,d=p(b,d,c),"loadInit"==f[2]?e.push(d[0]):g.push(d[0]),s.lastIndex=d[1];f=e.concat(g);return f.length||!w.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),f.join(""),
f]:0},x=l.initSyncLoader(a,f,function(a,b){var f,d,c=[],p=[];if(e.test(b)||!(f=u(b)))return 0;d=a.mid+"-*loadInit";for(var g in H("dojo",a).result.scopeMap)c.push(g),p.push('"'+g+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+d+"',{\n\tnames:"+h.toJson(c)+",\n\tdef:function("+c.join(",")+"){"+f[1]+"}});\n\ndefine("+h.toJson(c.concat(["dojo/loadInit!"+d]))+", function("+c.join(",")+"){\n"+f[0]+"});"}),t=x.sync,y=x.requested,v=x.arrived,A=x.nonmodule,z=x.executing,E=x.executed,D=x.syncExecStack,
G=x.modules,C=x.execQ,H=x.getModule,P=x.injectModule,B=x.setArrived,I=x.signal,J=x.finishExec,F=x.execModule,K=x.getLegacyMode,M=x.guardCheckComplete,a=x.dojoRequirePlugin;h.provide=function(a){var b=D[0],f=g.mixin(H(n(a),l.module),{executed:z,result:g.getObject(a,!0)});B(f);if(b)(b.provides||(b.provides=[])).push(function(){f.result=g.getObject(a);delete f.provides;f.executed!==E&&J(f)});return f.result};o.add("config-publishRequireResult",1,0,0);h.require=function(a,b){var f=function(a,b){var f=
H(n(a),l.module);if(D.length&&D[0].finish)D[0].finish.push(a);else{if(f.executed)return f.result;b&&(f.result=A);var d=K();P(f);d=K();f.executed!==E&&f.injected===v&&x.guardCheckComplete(function(){F(f)});if(f.executed)return f.result;d==t?f.cjs?C.unshift(f):D.length&&(D[0].finish=[a]):C.push(f)}}(a,b);o("config-publishRequireResult")&&!g.exists(a)&&void 0!==f&&g.setObject(a,f);return f};h.loadInit=function(a){a()};h.registerModulePath=function(a,b){var f={};f[a.replace(/\./g,"/")]=b;l({paths:f})};
h.platformRequire=function(a){for(var a=(a.common||[]).concat(a[h._name]||a["default"]||[]),b;a.length;)g.isArray(b=a.shift())?h.require.apply(h,b):h.require(b)};h.requireIf=h.requireAfterIf=function(a,b,f){a&&h.require(b,f)};h.requireLocalization=function(a,b,f){l(["../i18n"],function(d){d.getLocalization(a,b,f)})};return{extractLegacyApiApplications:u,require:a,loadInit:function(b,f,d){f([b],function(b){f(b.names,function(){for(var c="",e=[],p=0;p<arguments.length;p++)c+="var "+b.names[p]+"= arguments["+
p+"]; ",e.push(arguments[p]);eval(c);var g=f.module,q=[],l,c={provide:function(a){a=n(a);a=H(a,g);a!==g&&B(a)},require:function(a,b){a=n(a);b&&(H(a,g).result=A);q.push(a)},requireLocalization:function(a,b,f){l||(l=["dojo/i18n"]);f=(f||h.locale).toLowerCase();a=n(a)+"/nls/"+(/root/i.test(f)?"":f+"/")+n(b);H(a,g).isXd&&l.push("dojo/i18n!"+a)},loadInit:function(a){a()}},p={},r;try{for(r in c)p[r]=h[r],h[r]=c[r];b.def.apply(null,e)}catch(o){I("error",[{src:k.id,id:"failedDojoLoadInit"},o])}finally{for(r in c)h[r]=
p[r]}l&&(q=q.concat(l));q.length?a(q.join(","),f,d):d()})})}}})}}});
require({cache:{"kso/main":function(){define("dojo/ready,dojo/on,dojo/_base/lang,dojo/topic,dojo/_base/declare,dojo/_base/event,dojo/string,dojo/_base/window,dijit/form/Form,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/TextBox,dojox/mobile/Button,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,moch/store/SqlStore,dojo/text!./kso.sql,dojo/store/Observable,dojox/mobile/Heading,kso/TabBarLogin,kso/views/Home,kso/views/PlanList,kso/views/PlanCreate,kso/views/PlanEdit,kso/views/PlanEval,kso/views/Plan,kso/views/DiaryList,kso/views/DiaryEdit,kso/views/ProblemList,kso/views/ProblemCreate,kso/views/ProblemEdit,kso/views/ProblemEval,kso/views/Problem,kso/views/SolutionList,kso/views/SolutionCreate,kso/views/SolutionEdit,kso/views/About,dojox/mobile/compat,./deviceReady!".split(","),function(h,
o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F,K,M,W,X){function N(a){n.body().appendChild(a.domNode);a.startup()}function R(a,b){if("undefined"==typeof a&&window.localStorage)var f=window.localStorage,a=f.getItem("user_login"),b=f.getItem("user_password");a&&b&&r.rpc().user_login({login:a,password:b}).then(function(f){if(!0==f.valid){if(k.publish("moch/loggedin",f.valid),window.localStorage)f=window.localStorage,f.setItem("user_login",a),f.setItem("user_password",b)}else f.error&&
alert(q.substitute(f.error,{handle:a}))})}var L=c([b],{id:"login_view",postCreate:function(){sview=new d;var b=new e({onSubmit:function(a){g.stop(a);a=b.get("value");R(a.login,a.password)}}),c=new p({orientation:"vert"});c.addChild(new a({label:"Log ind p\u00e5 Din Handleplan",placeHolder:"Indtast e-mail",name:"login",style:{width:"99%"}}));c.addChild(new a({placeHolder:"Indtast kode",name:"password",type:"password",style:{width:"99%"}}));c.addChild(new f({label:"Log ind",type:"submit",spanLabel:!0,
style:{width:"100%"}}));c.startup();b.domNode.appendChild(c.domNode);sview.addChild(b);this.addChild(sview);this.addChild(new y)}}),Y=c([b],{id:"forgot_password_view",postCreate:function(){sview=new d;var b=new e({onSubmit:function(a){g.stop(a);var f=b.get("value");f.send_new_password=!0;r.rpc().user_login(f).then(function(a){!0!=a.valid&&a.error&&alert(q.substitute(a.error,{handle:f.login}))})}}),c=new p({orientation:"vert"});c.addChild(new a({label:"F\u00e5 tilsendt en ny kode:",placeHolder:"Indtast e-mail",
name:"email",style:{width:"99%"}}));c.addChild(new f({label:"Send ny kode",type:"submit",spanLabel:!0,style:{width:"99%"}}));c.startup();b.domNode.appendChild(c.domNode);sview.addChild(b);this.addChild(sview);this.addChild(new y)}}),O=c([b],{id:"create_user_view",postCreate:function(){sview=new d;var b=new e({onSubmit:function(a){g.stop(a);var f=b.get("value");f.authorization_key="kso_new_user";r.rpc().self_registration(f).then(function(a){!0!=a.valid&&a.error&&alert(q.substitute(a.error,{handle:f.login}))})}}),
c=new p({orientation:"vert",customClass:"login"});c.addChild(new a({label:"Opret en ny bruger:",placeHolder:"Indtast e-mail",name:"new_user_email",style:{width:"99%"}}));c.addChild(new a({placeHolder:"Indtast valgfri kode",name:"password",style:{width:"99%"}}));c.addChild(new f({label:"Opret bruger",type:"submit",spanLabel:!0,style:{width:"99%"}}));c.startup();b.domNode.appendChild(c.domNode);sview.addChild(b);this.addChild(sview);this.addChild(new y)}});r.init({auto_login:!0,_local_stores:{},_local_stores_cnt:0,
getStore:function(a,b){if(!(a in this._local_stores)){var f={db_name:"kso",trace:!0,entity_name:b};if(0==this._local_stores_cnt)f.onDatabaseCreate=function(a){var b=u.split(";");for(i in b){var f=b[i].trim();5<f.length&&a.executeSql(f,[],function(){},function(){console.error("error in SQL ",f)})}};switch(b){case "kso_problem":f.table_name="kso_problem";f.meta="id,do_what,do_prevent,do_solution,do_help,do_evaluate,do_evaluate_txt,active,public,hidden".split(",");break;case "kso_plan":f.table_name=
"kso_plan";f.meta="id,do_what,do_how_much,do_when,do_how_often,do_in_days,do_success,do_evaluate,do_evaluate_txt,active,public,hidden,use_at_start,use_at_end".split(",");break;case "kso_diary":f.table_name="kso_diary";f.meta=["id","plan_id","info","success","use_at"];break;case "kso_solution":f.table_name="kso_solution";f.meta=["id","problem_id","info","success"];break;default:alert("requesting unknown table_entity "+b)}this._local_stores_cnt++;this._local_stores[a]=x(new w(f))}return this._local_stores[a]},
createHome:function(){if(!this._main_view)this._main_view=new v,N(this._main_view)},onReady:function(){this.onLogin();window.setInterval(l.hitch(this,function(){this.onReminder()}),36E5)},onReminder:function(){this.getStore("kso_plan","kso_plan").query().then(function(a){for(var b=[],f=new Date,d=0;d<a.length;d++){if(!0==a[d].active&&!1==a[d].hidden)var c=s.iso_to_date(a[d].use_at_end);f>=c&&b.push(a[d].do_what)}0<b.length&&r.getInstance().notification(b.join("\r\n"),null,"Husk at afslutte og evaluere disse handleplaner")})},
onUserLogin:function(){R();this._login_view=new L;N(this._login_view);N(new Y);N(new O)},onLogin:function(){this.createHome();N(new A);N(new z);N(new E);N(new D);N(new G);N(new H);N(new C);N(new P);N(new B);N(new I);N(new J);N(new F);N(new K);N(new M);N(new W);N(new X);this.onReminder();window.setInterval(l.hitch(this,function(){this.onReminder()}),6E5);this._login_view&&this._login_view.performTransition("kso_home_view",-1,"coverv")}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],
function(h,o){var l={};o.setObject("dojo.string",l);l.rep=function(k,c){if(0>=c||!k)return"";for(var g=[];;){c&1&&g.push(k);if(!(c>>=1))break;k+=k}return g.join("")};l.pad=function(k,c,g,h){g||(g="0");k=""+k;c=l.rep(g,Math.ceil((c-k.length)/g.length));return h?k+c:c+k};l.substitute=function(k,c,g,q){q=q||h.global;g=g?o.hitch(q,g):function(c){return c};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(k,e,b){k=o.getObject(e,!1,c);b&&(k=o.getObject(b,!1,q).call(q,k,e));return g(k,e).toString()})};
l.trim=String.prototype.trim?o.trim:function(k){for(var k=k.replace(/^\s+/,""),c=k.length-1;0<=c;c--)if(/\S/.test(k.charAt(c))){k=k.substring(0,c+1);break}return k};return l})},"dijit/form/Form":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/kernel,dojo/sniff,../_Widget,../_TemplatedMixin,./_FormMixin,../layout/_ContentPaneResizeMixin".split(","),function(h,o,l,k,c,g,q,n,e){return h("dijit.form.Form",[g,q,n,e],{name:"",action:"",method:"",encType:"","accept-charset":"",
accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(b){this.encType=b;o.set(this.domNode,"encType",b);if(c("ie"))this.domNode.encoding=b},reset:function(b){var d={returnValue:!0,preventDefault:function(){this.returnValue=
!1},stopPropagation:function(){},currentTarget:b?b.target:this.domNode,target:b?b.target:this.domNode};!1!==this.onReset(d)&&d.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(b){this.reset(b);l.stop(b);return!1},_onSubmit:function(b){var d=this.constructor.prototype;if(this.execute!=d.execute||this.onExecute!=d.onExecute)k.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());
!1===this.onSubmit(b)&&l.stop(b)},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),function(h,o,l,k,c,g,q,n,e,b,d,a,f){function p(){}function r(a){return function(b,f,d,c){return b&&
"string"==typeof f&&b[f]==p?b.on(f.substring(2).toLowerCase(),q.hitch(d,c)):a.apply(l,arguments)}}h.around(l,"connect",r);g.connect&&h.around(g,"connect",r);h=k("dijit._Widget",[d,a,f],{onClick:p,onDblClick:p,onKeyDown:p,onKeyPress:p,onKeyUp:p,onMouseDown:p,onMouseMove:p,onMouseOut:p,onMouseOver:p,onMouseLeave:p,onMouseEnter:p,onMouseUp:p,constructor:function(a){this._toConnect={};for(var b in a)this[b]===p&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);
for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===p?l.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){g.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){if(o.isDebug){var f=arguments.callee._ach||(arguments.callee._ach=
{}),d=(arguments.callee.caller||"unknown caller").toString();f[d]||(g.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+d,"","2.0"),f[d]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){g.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?n("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},
onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&e(0,function(){require(["dijit/_base"])});return h})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(h,o,l,k,c){var g={},q={},n={length:0,add:function(c){if(q[c.id])throw Error("Tried to register widget with id=="+c.id+" but that id is already registered");q[c.id]=c;this.length++},remove:function(c){q[c]&&(delete q[c],this.length--)},
byId:function(c){return"string"==typeof c?q[c]:c},byNode:function(c){return q[c.getAttribute("widgetId")]},toArray:function(){var c=[],b;for(b in q)c.push(q[b]);return c},getUniqueId:function(e){var b;do b=e+"_"+(e in g?++g[e]:g[e]=0);while(q[b]);return"dijit"==c._scopeName?b:c._scopeName+"_"+b},findWidgets:function(c,b){function d(f){for(f=f.firstChild;f;f=f.nextSibling)if(1==f.nodeType){var c=f.getAttribute("widgetId");c?(c=q[c])&&a.push(c):f!==b&&d(f)}}var a=[];d(c);return a},_destroyAll:function(){c._curFocus=
null;c._prevFocus=null;c._activeStack=[];h.forEach(n.findWidgets(k.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var b=1==c.nodeType&&c.getAttribute("widgetId");if(b)return q[b];c=c.parentNode}return null},_hash:q};return c.registry=n})},"dijit/main":function(){define(["dojo/_base/kernel"],function(h){return h.dijit})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v){function A(a){return function(b){n[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}f.add("dijit-legacy-requires",!p.isAsync);f("dijit-legacy-requires")&&w(0,function(){h(["dijit/_base/manager"])});var z={};return g("dijit._WidgetBase",[u,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:k.blankGif||h.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=q.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,r.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=v.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:t.doc);this.ownerDocumentBody=t.body(this.ownerDocument);v.add(this);this.buildRendering();var f;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),f=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();f&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],f;for(f in this.attributeMap)b.push(f);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}var c={},p;for(p in this.params||{})c[p]=this[p];o.forEach(b,function(a){a in c||this[a]&&this.set(a,this[a])},this);for(p in c)this.set(p,c[p])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(o.map(a,function(a){return a+"Rtl"})));e.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,o.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&r.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(f){f.destroyRecursive?f.destroyRecursive(a):f.destroy&&f.destroy(a)}this._beingDestroyed=!0;this.uninitialize();o.forEach(this._connects,r.hitch(this,"disconnect"));o.forEach(this._supportingWidgets,b);this.domNode&&o.forEach(v.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);v.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?n.remove(this.domNode,
"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){o.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var f=this.domNode;r.isObject(b)?a.set(f,b):f.style.cssText=f.style.cssText?f.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(a,b,f){f=3<=arguments.length?f:this.attributeMap[a];
o.forEach(r.isArray(f)?f:[f],function(f){var d=this[f.node||f||"domNode"];switch(f.type||"attribute"){case "attribute":r.isFunction(b)&&(b=r.hitch(this,b));f=f.attribute?f.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?n.set(d,f,b):d.set(f,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":d.innerHTML=b;break;case "class":e.replace(d,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var f in a)this.set(f,a[f]);return this}f=this._getAttrNames(a);var d=this[f.s];if(r.isFunction(d))var c=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",p=this[d].tagName,e;if(!(e=z[p])){e=this[d];var g={},k;for(k in e)g[k.toLowerCase()]=!0;e=z[p]=g}k=a in this.attributeMap?this.attributeMap[a]:f.s in this?this[f.s]:f.l in e&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?d:null;null!=k&&this._attrToDom(a,b,k);this._set(a,b)}return c||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var f=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+f+"Attr",g:"_get"+f+"Attr",l:f.toLowerCase()}},_set:function(a,b){var f=this[a];this[a]=b;this._created&&b!==f&&(this._watchCallbacks&&this._watchCallbacks(a,f,b),this.emit("attrmodified-"+
a,{detail:{prevValue:f,newValue:b}}))},emit:function(a,b,f){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var d,c=this["on"+a];c&&(d=c.apply(this,f?f:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var f=this._onMap(a);return f?l.after(this,f,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,f=b._onMap;if(!f){var f=b._onMap=
{},d;for(d in b.prototype)/^on/.test(d)&&(f[d.replace(/^on/,"").toLowerCase()]=d)}return f["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?v.findWidgets(this.containerNode):[]},getParent:function(){return v.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,f){return this.own(c.connect(a,b,this,f))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,
r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=a.get(this.domNode,"display")},placeAt:function(a,f){var d=!a.tagName&&v.byId(a);d&&d.addChild&&(!f||"number"===typeof f)?d.addChild(this,f):(d=d?d.containerNode&&!/after|before|replace/.test(f||"")?d.containerNode:d.domNode:q.byId(a,this.ownerDocument),b.place(this.domNode,d,f),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var f=setTimeout(r.hitch(this,function(){f=null;this._destroyed||r.hitch(this,a)()}),b||0);return{remove:function(){f&&(clearTimeout(f),f=null);return null}}}})})},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(h,o,l,k){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var g=this._attrPairNames;
return g[c]?g[c]:g[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,g){return"function"===typeof this[g.g]?this[g.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,g){if("object"===typeof c){for(var h in c)c.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,c[h]);return this}h=this._getAttrNames(c);var n=this._get(c,h);h=this[h.s];var e;"function"===typeof h?e=h.apply(this,Array.prototype.slice.call(arguments,1)):
this[c]=g;if(this._watchCallbacks){var b=this;k(e,function(){b._watchCallbacks(c,n,g)})}return this},_changeAttrValue:function(c,g){var k=this.get(c);this[c]=g;this._watchCallbacks&&this._watchCallbacks(c,k,g);return this},watch:function(c,g){var k=this._watchCallbacks;if(!k)var n=this,k=this._watchCallbacks=function(b,a,f,c){var e=function(c){if(c)for(var c=c.slice(),p=0,e=c.length;p<e;p++)c[p].call(n,b,a,f)};e(k["_"+b]);c||e(k["*"])};!g&&"function"===typeof c?(g=c,c="*"):c="_"+c;var e=k[c];"object"!==
typeof e&&(e=k[c]=[]);e.push(g);var b={};b.unwatch=b.remove=function(){var b=l.indexOf(e,g);-1<b&&e.splice(b,1)};return b}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,o,l){return l("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){h.forEach(arguments,function(k){var c="destroyRecursive"in k?"destroyRecursive":"destroy"in k?"destroy":"remove",g=o.before(this,"destroy",function(g){k[c](g)}),h=o.after(k,c,
function(){g.remove();h.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),function(h,o,l,k,c,g,q,n){h=k("dijit._OnDijitClickMixin",null,{connect:function(c,b,d){return this.inherited(arguments,[c,"ondijitclick"==b?n:b,d])}});h.a11yclick=n;return h})},"dijit/a11yclick":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),
function(h,o,l,k,c,g,q){function n(b){return(b.keyCode===l.ENTER||b.keyCode===l.SPACE)&&!b.ctrlKey&&!b.shiftKey&&!b.altKey&&!b.metaKey}var e=null;c("dom-addeventlistener")?q.doc.addEventListener("keydown",function(b){e=b.target},!0):function(){var b=function(b){e=b.srcElement};q.doc.attachEvent("onkeydown",b);g.addOnWindowUnload(function(){q.doc.detachEvent("onkeydown",b)})}();return function(b,d){if(/input|button/i.test(b.nodeName))return h(b,"click",d);var a=[h(b,"keydown",function(a){if(n(a))e=
a.target,a.preventDefault()}),h(b,"keyup",function(a){n(a)&&a.target==e&&(e=null,h.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),h(b,"click",function(a){d.call(this,a)})];if(c("touch")){var f;a.push(h(b,"touchend",function(a){var b=a.target;f=setTimeout(function(){f=null;h.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),h(b,"click",function(){f&&clearTimeout(f)}))}return{remove:function(){o.forEach(a,function(a){a.remove()});f&&(clearTimeout(f),f=null)}}}})},"dijit/_FocusMixin":function(){define(["./focus",
"./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(h,o,l,k){k.extend(o,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return l("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w){var u=new (o([d,g],{curNode:null,activeStack:[],constructor:function(){var a=q.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(c,"empty",a);h.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,f){var d=this,c=function(a){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);
if(!b("ie")||!a||!(a.srcElement&&null==a.srcElement.parentNode))d._onTouchNode(f||a.target||a.srcElement,"mouse")},e=b("ie")?a.document.documentElement:a.document;if(e){if(b("ie")){a.document.body.attachEvent("onmousedown",c);var p=function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(r.isTabNavigable(a.srcElement)?d._onFocusNode(f||a.srcElement):d._onTouchNode(f||a.srcElement))};e.attachEvent("onfocusin",p);var g=function(a){d._onBlurNode(f||a.srcElement)};e.attachEvent("onfocusout",
g);return{remove:function(){a.document.detachEvent("onmousedown",c);e.detachEvent("onfocusin",p);e.detachEvent("onfocusout",g);e=null}}}e.body.addEventListener("mousedown",c,!0);e.body.addEventListener("touchstart",c,!0);var k=function(a){d._onFocusNode(f||a.target)};e.addEventListener("focus",k,!0);var n=function(a){d._onBlurNode(f||a.target)};e.addEventListener("blur",n,!0);return{remove:function(){e.body.removeEventListener("mousedown",c,!0);e.body.removeEventListener("touchstart",c,!0);e.removeEventListener("focus",
k,!0);e.removeEventListener("blur",n,!0);e=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(q.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(q.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var d=[];try{for(;a;){var c=k.get(a,"dijitPopupParent");if(c)a=s.byId(c).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===f.body())break;a=p.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),g=e&&s.byId(e);g&&!("mouse"==b&&g.get("disabled"))&&d.unshift(e);a=a.parentNode}}}catch(n){}this._setStack(d,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var f=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(f.length,a.length)&&!(f[d]!=a[d]);d++);for(var c,e=f.length-1;e>=d;e--)if(c=s.byId(f[e]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(e=
d;e<a.length;e++)if(c=s.byId(a[e]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));e(function(){var d=u.registerWin(p.get(f.doc));b("ie")&&a.addOnWindowUnload(function(){d&&(d.remove(),d=null)})});w.focus=function(a){u.focus(a)};for(var x in u)/^_/.test(x)||(w.focus[x]="function"==typeof u[x]?q.hitch(u,x):u[x]);u.watch(function(a,b,f){w.focus[a]=f});return u})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),
function(h,o,l,k,c,g){var q={getBox:function(g){var g=g||l.doc,e="BackCompat"==g.compatMode?l.body(g):g.documentElement,b=c.docScroll(g);if(o("touch"))var d=q.get(g),g=d.innerWidth||e.clientWidth,e=d.innerHeight||e.clientHeight;else g=e.clientWidth,e=e.clientHeight;return{l:b.x,t:b.y,w:g,h:e}},get:function(c){if(o("ie")&&q!==document.parentWindow){c.parentWindow.execScript("document._parentWindow = window;","Javascript");var e=c._parentWindow;c._parentWindow=null;return e}return c.parentWindow||c.defaultView},
scrollIntoView:function(n,e){try{var n=k.byId(n),b=n.ownerDocument||l.doc,d=l.body(b),a=b.documentElement||d.parentNode,f=o("ie"),p=o("webkit");if((!o("mozilla")&&!f&&!p&&!o("opera")||n==d||n==a)&&"undefined"!=typeof n.scrollIntoView)n.scrollIntoView(!1);else{var h="BackCompat"==b.compatMode,q=9<=f&&"frameElement"in n.ownerDocument.parentWindow?0<a.clientHeight&&0<a.clientWidth&&(0==d.clientHeight||0==d.clientWidth||d.clientHeight>a.clientHeight||d.clientWidth>a.clientWidth)?a:d:h?d:a,p=p?d:q,w=q.clientWidth,
u=q.clientHeight,x=!c.isBodyLtr(b),t=e||c.position(n),y=n.parentNode,b=function(a){return 6>=f||f&&h?!1:"fixed"==g.get(a,"position").toLowerCase()};if(!b(n))for(;y;){y==d&&(y=p);var v=c.position(y),A=b(y);if(y==p){v.w=w;v.h=u;p==a&&f&&x&&(v.x+=p.offsetWidth-v.w);if(0>v.x||!f)v.x=0;if(0>v.y||!f)v.y=0}else{var z=c.getPadBorderExtents(y);v.w-=z.w;v.h-=z.h;v.x+=z.l;v.y+=z.t;var E=y.clientWidth,D=v.w-E;if(0<E&&0<D)v.w=E,v.x+=x&&(f||y.clientLeft>z.l)?D:0;E=y.clientHeight;D=v.h-E;if(0<E&&0<D)v.h=E}if(A){if(0>
v.y)v.h+=v.y,v.y=0;if(0>v.x)v.w+=v.x,v.x=0;if(v.y+v.h>u)v.h=u-v.y;if(v.x+v.w>w)v.w=w-v.x}var G=t.x-v.x,C=t.y-Math.max(v.y,0),H=G+t.w-v.w,P=C+t.h-v.h;if(0<H*G){var B=Math[0>G?"max":"min"](G,H);if(x&&(8==f&&!h||9<=f))B=-B;t.x+=y.scrollLeft;y.scrollLeft+=B;t.x-=y.scrollLeft}0<P*C&&(t.y+=y.scrollTop,y.scrollTop+=Math[0>C?"max":"min"](C,P),t.y-=y.scrollTop);y=y!=p&&!A&&y.parentNode}}}catch(I){console.error("scrollIntoView: "+I),n.scrollIntoView(!1)}}};h.setObject("dojo.window",q);return q})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),
function(h,o,l,k,c,g,q,n){var e=n._isElementShown=function(b){var a=g.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=c.get(b,"type")};n.hasDefaultTabStop=function(b){switch(b.nodeName.toLowerCase()){case "a":return c.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var f=b.contentDocument;if("designMode"in f&&"on"==f.designMode)return!0;a=f.body}catch(e){try{a=b.contentWindow.document.body}catch(g){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}};var b=n.isTabNavigable=function(b){return c.get(b,"disabled")?!1:c.has(b,"tabIndex")?0<=c.get(b,"tabIndex"):n.hasDefaultTabStop(b)};n._getTabNavigable=function(d){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var f,p,g,k,n,h,l={},o=function(d){for(d=d.firstChild;d;d=d.nextSibling)if(!(1!=d.nodeType||
9>=q("ie")&&"HTML"!==d.scopeName||!e(d))){if(b(d)){var v=+c.get(d,"tabIndex");if(!c.has(d,"tabIndex")||0==v)f||(f=d),p=d;else if(0<v){if(!g||v<k)k=v,g=d;if(!n||v>=h)h=v,n=d}v=a(d);c.get(d,"checked")&&v&&(l[v]=d)}"SELECT"!=d.nodeName.toUpperCase()&&o(d)}};e(d)&&o(d);return{first:l[a(f)]||f,last:l[a(p)]||p,lowest:l[a(g)]||g,highest:l[a(n)]||n}};n.getFirstInTabbingOrder=function(b,a){var f=n._getTabNavigable(k.byId(b,a));return f.lowest?f.lowest:f.first};n.getLastInTabbingOrder=function(b,a){var f=n._getTabNavigable(k.byId(b,
a));return f.last?f.last:f.highest};return{hasDefaultTabStop:n.hasDefaultTabStop,isTabNavigable:n.isTabNavigable,_getTabNavigable:n._getTabNavigable,getFirstInTabbingOrder:n.getFirstInTabbingOrder,getLastInTabbingOrder:n.getLastInTabbingOrder}})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(h,o,l,k,c){var g=c.doc.documentElement,c=k("ie"),q=k("opera"),n=Math.floor,e=k("ff"),b=h.boxModel.replace(/-/,""),q={dj_quirks:k("quirks"),dj_opera:q,
dj_khtml:k("khtml"),dj_webkit:k("webkit"),dj_safari:k("safari"),dj_chrome:k("chrome"),dj_gecko:k("mozilla")};if(c)q.dj_ie=!0,q["dj_ie"+n(c)]=!0,q.dj_iequirks=k("quirks");e&&(q["dj_ff"+n(e)]=!0);q["dj_"+b]=!0;var d="",a;for(a in q)q[a]&&(d+=a+" ");g.className=o.trim(g.className+" "+d);l(90,function(){if(!h.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");g.className=o.trim(g.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return k})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/ready","dojo/_base/window"],function(h,o,l,k){l(90,function(){o("highcontrast")&&h.add(k.body(),"dijit_a11y")});return o})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-style,./has,./ready,./_base/window".split(","),function(h,o,l,k,c,g,q){c.add("highcontrast",function(){var g=q.doc.createElement("div");g.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(o.blankGif||h.toUrl("./resources/blank.gif"))+
");";q.body().appendChild(g);var e=k.getComputedStyle(g),b=e.backgroundImage,e=e.borderTopColor==e.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b);8>=c("ie")?g.outerHTML="":q.body().removeChild(g);return e});g(90,function(){c("highcontrast")&&l.add(q.body(),"dj_a11y")});return c})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(h,
o,l,k,c,g,q,n,e,b){var d=q("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,d=this;return k.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=h.getObject(c.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
c(this.templatePath,{sanitize:!0});var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(h.isString(a)){if(b=n.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=
this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var d=h.isArray(a)?a:a.all||a.getElementsByTagName("*"),c=h.isArray(a)?0:-1;0>c||d[c];c++){var e=-1==c?a:d[c];if(!this.widgetsInTemplate||!b(e,"dojoType")&&!b(e,"data-dojo-type")){var g=b(e,"dojoAttachPoint")||b(e,"data-dojo-attach-point");if(g)for(var k=g.split(/\s*,\s*/);g=k.shift();)h.isArray(this[g])?this[g].push(e):this[g]=e,this._attachPoints.push(g);if(g=b(e,"dojoAttachEvent")||
b(e,"data-dojo-attach-event"))for(var k=g.split(/\s*,\s*/),n=h.trim;g=k.shift();)if(g){var q=null;-1!=g.indexOf(":")?(q=g.split(":"),g=n(q[0]),q=n(q[1])):g=n(g);q||(q=g);this._attachEvents.push(this.connect(e,o[g]||g,q))}}}},destroyRendering:function(){g.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];g.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});d._templateCache={};d.getCachedTemplate=function(a,b,c){var e=
d._templateCache,g=a,h=e[g];if(h){try{if(!h.ownerDocument||h.ownerDocument==(c||document))return h}catch(q){}n.destroy(h)}a=k.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[g]=a;b=n.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[g]=b};e("ie")&&b.addOnWindowUnload(function(){var a=d._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&n.destroy(c);delete a[b]}});h.extend(l,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dojo/touch":function(){define("./_base/kernel,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(h,o,l,k,c,g,q,n){function e(a){return function(b,d){return k(b,a,d)}}var o=c("touch"),b=!1;c("ios")&&(c=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",b=5>parseFloat(c.replace(/_/,".").replace(/_/g,"")));var d,a;o&&(q(function(){a=n.body();n.doc.addEventListener("touchstart",function(b){var d=a;a=b.target;k.emit(d,"dojotouchout",{target:d,relatedTarget:a,bubbles:!0});k.emit(a,"dojotouchover",{target:a,relatedTarget:d,bubbles:!0})},!0);k(n.doc,"touchmove",function(f){if((f=n.doc.elementFromPoint(f.pageX-
(b?0:n.global.pageXOffset),f.pageY-(b?0:n.global.pageYOffset)))&&a!==f)k.emit(a,"dojotouchout",{target:a,relatedTarget:f,bubbles:!0}),k.emit(f,"dojotouchover",{target:f,relatedTarget:a,bubbles:!0}),a=f})}),d=function(b,d){return k(n.doc,"touchmove",function(c){if(b===n.doc||l.isDescendant(a,b))c.target=a,d.call(this,c)})});g={press:e(o?"touchstart":"mousedown"),move:o?d:e("mousemove"),release:e(o?"touchend":"mouseup"),cancel:o?e("touchcancel"):g.leave,over:e(o?"dojotouchover":"mouseover"),out:e(o?
"dojotouchout":"mouseout"),enter:g._eventHandler(o?"dojotouchover":"mouseover"),leave:g._eventHandler(o?"dojotouchout":"mouseout")};return h.touch=g})},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(h){return h.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(h,o,l,k){var c;c=function(b,d,a){k("GET",{url:b,sync:!!d,load:a,headers:h.config.textPluginHeaders||{}})};var g={},q=function(b){if(b){var b=b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
""),d=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);d&&(b=d[1])}else b="";return b},n={},e={};h.cache=function(b,d,a){var f;"string"==typeof b?/\//.test(b)?(f=b,a=d):f=o.toUrl(b.replace(/\./g,"/")+(d?"/"+d:"")):(f=b+"",a=d);b=void 0!=a&&"string"!=typeof a?a.value:a;a=a&&a.sanitize;if("string"==typeof b)return g[f]=b,a?q(b):b;if(null===b)return delete g[f],null;f in g||c(f,!0,function(a){g[f]=a});return a?q(g[f]):g[f]};return{dynamic:!0,normalize:function(b,d){var a=b.split("!"),f=a[0];return(/^\./.test(f)?
d(f):f)+(a[1]?"!"+a[1]:"")},load:function(b,d,a){var b=b.split("!"),f=1<b.length,p=b[0],k=d.toUrl(b[0]),b="url:"+k,h=n,l=function(b){a(f?q(b):b)};p in g?h=g[p]:b in d.cache?h=d.cache[b]:k in g&&(h=g[k]);if(h===n)if(e[k])e[k].push(l);else{var o=e[k]=[l];c(k,!d.async,function(a){g[p]=g[k]=a;for(var b=0;b<o.length;)o[b++](a);delete e[k]})}else l(h)}}})},"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(h,
o,l,k,c,g){return o("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(c){var g=[];h.forEach(c||this.getChildren(),function(c){"value"in c?g.push(c):g=g.concat(this._getDescendantFormWidgets(c.getChildren()))},this);return g},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(c){c.reset&&c.reset()})},validate:function(){var c=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(k){k._hasBeenBlurred=!0;var e=k.disabled||!k.validate||k.validate();
!e&&!c&&(g.scrollIntoView(k.containerNode||k.domNode),k.focus(),c=!0);return e}),function(c){return c})},setValues:function(c){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",c)},_setValueAttr:function(c){var g={};h.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(g[a.name]||(g[a.name]=[])).push(a)});for(var e in g)if(g.hasOwnProperty(e)){var b=g[e],d=k.getObject(e,!1,c);void 0!==d&&(k.isArray(d)||(d=[d]),
"boolean"==typeof b[0].checked?h.forEach(b,function(a){a.set("value",-1!=h.indexOf(d,a.value))}):b[0].multiple?b[0].set("value",d):h.forEach(b,function(a,b){a.set("value",d[b])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var c={};h.forEach(this._getDescendantFormWidgets(),function(g){var e=g.name;if(e&&!g.disabled){var b=g.get("value");"boolean"==typeof g.checked?/Radio/.test(g.declaredClass)?
!1!==b?k.setObject(e,b,c):(b=k.getObject(e,!1,c),void 0===b&&k.setObject(e,null,c)):(g=k.getObject(e,!1,c),g||(g=[],k.setObject(e,g,c)),!1!==b&&g.push(b)):(g=k.getObject(e,!1,c),"undefined"!=typeof g?k.isArray(g)?g.push(b):k.setObject(e,[g,b],c):k.setObject(e,b,c))}});return c},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var c=h.map(this._descendants,function(c){return c.get("state")||""});return 0<=h.indexOf(c,"Error")?"Error":0<=h.indexOf(c,"Incomplete")?
"Incomplete":""},disconnectChildren:function(){},connectChildren:function(c){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(c){c._started||c.startup()});c||this._onChildChange()},_onChildChange:function(c){(!c||"state"==c||"disabled"==c)&&this._set("state",this._getState());if(!c||"value"==c||"disabled"==c||"checked"==c)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var g=this;this.own(c(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=g.domNode&&g._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,e,b){this.onValidStateChange(""==b)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),function(h,o,l,k,c,g,q,n,e,b,d){return o("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);
this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(b.on("resize",g.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;q("> *",this.containerNode).some(function(c){var d=e.byNode(c);d&&d.resize?a.push(d):c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?
this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&k.setMarginBox(this.domNode,a);var c=this.containerNode;if(c===this.domNode){var e=b||{};g.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=g.mixin(k.getMarginBox(c),e);this._contentBox=d.marginBox2contentBox(c,e)}else this._contentBox=k.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();
if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||k.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&
b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),function(h,o,l,k,c,g){var q=new h;l(200,function(){var n=g.getBox();q._rlh=o(c.global,"resize",function(){var b=g.getBox();n.h==b.h&&n.w==b.w||(n=b,q.emit("resize"))});if(8==k("ie")){var e=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=
e)e=screen.deviceXDPI,q.emit("resize")},500)}});return q})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(h,o,l,k,c,g){function q(g,e){var b=g.resize?g.resize(e):l.setMarginBox(g.domNode,e);b?c.mixin(g,b):(c.mixin(g,l.getMarginBox(g.domNode)),c.mixin(g,e))}g=c.getObject("layout",!0,g);g.marginBox2contentBox=function(c,e){var b=k.getComputedStyle(c),d=l.getMarginExtents(c,b),a=l.getPadBorderExtents(c,
b);return{l:k.toPixelValue(c,b.paddingLeft),t:k.toPixelValue(c,b.paddingTop),w:e.w-(d.w+a.w),h:e.h-(d.h+a.h)}};g.layoutChildren=function(g,e,b,d,a){e=c.mixin({},e);o.add(g,"dijitLayoutContainer");b=h.filter(b,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(h.filter(b,function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(b,function(b){var c=b.domNode,g=b.region||b.layoutAlign;if(!g)throw Error("No region setting for "+b.id);var k=c.style;k.left=e.l+"px";
k.top=e.t+"px";k.position="absolute";o.add(c,"dijitAlign"+(g.substring(0,1).toUpperCase()+g.substring(1)));c={};d&&d==b.id&&(c["top"==b.region||"bottom"==b.region?"h":"w"]=a);"top"==g||"bottom"==g?(c.w=e.w,q(b,c),e.h-=b.h,"top"==g?e.t+=b.h:k.top=e.t+e.h+"px"):"left"==g||"right"==g?(c.h=e.h,q(b,c),e.w-=b.w,"left"==g?e.l+=b.w:k.left=e.l+e.w+"px"):("client"==g||"center"==g)&&q(b,e)})};return{marginBox2contentBox:g.marginBox2contentBox,layoutChildren:g.layoutChildren}})},"dojox/mobile/View":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ViewController,./common,./transition,./viewRegistry".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y){c.getObject("dojox.mobile",!0);return k("dojox.mobile.View",[w,s,r],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,b){if(b)e.byId(b).style.visibility="hidden"},destroy:function(){y.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag);this._animEndHandle=this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this._animStartHandle=
this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!o.mblCSS3Transition)this._transEndHandle=this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");g("mblAndroid3Workaround")&&f.set(this.domNode,"webkitTransformStyle","preserve-3d");y.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),f,c,d;h.forEach(a,function(a,e){-1!==h.indexOf(b,
a.id)&&(f=a);0==e&&(d=a);a.selected&&(c=a);a._visible=!1},this);(f||c||d)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();l.publish("/dojox/mobile/startView",[this])}));if("visible"!=this.domNode.style.visibility)this.domNode.style.visibility="visible";this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(){},onAfterTransitionIn:function(){},onBeforeTransitionOut:function(){},onAfterTransitionOut:function(){},_clearClasses:function(a){if(a){var b=[];h.forEach(c.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&b.push(a)},this);a.className=b.join(" ")}},_fixViewState:function(a){for(var f=this.domNode.parentNode.childNodes,c=0;c<f.length;c++){var d=f[c];1===d.nodeType&&b.contains(d,"mblView")&&this._clearClasses(d)}this._clearClasses(a)},
convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(o.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(a,d,k,h,n){if(!this._detail){var r,s;if(a&&"object"===typeof a)r=a,s=d;else{r={moveTo:a,transitionDir:d,transition:k,context:h,method:n};s=[];for(var t=5;t<arguments.length;t++)s.push(arguments[t])}this._detail=r;this._optArgs=s;this._arguments=[r.moveTo,r.transitionDir,r.transition,
r.context,r.method];if("#"!==r.moveTo){if(r.moveTo)s=this.convertToId(r.moveTo);else{if(!this._dummyNode)this._dummyNode=q.doc.createElement("div"),q.body().appendChild(this._dummyNode);s=this._dummyNode}this.addTransitionInfo&&"string"==typeof r.moveTo&&this._isBookmarkable(r)&&this.addTransitionInfo(this.id,r.moveTo,{transitionDir:r.transitionDir,transition:r.transition});var t=this.domNode,w=t.offsetTop;if(s=this.toNode=e.byId(s)){s.style.visibility="hidden";s.style.display="";this._fixViewState(s);
var u=p.byNode(s);if(u){if(o.mblAlwaysResizeOnTransition||!u._resized)x.resizeAll(null,u),u._resized=!0;if(r.transition&&"none"!=r.transition)u.containerNode.style.paddingTop=w+"px";u.load&&u.load();u.movedFrom=t.id}g("mblAndroidWorkaround")&&!o.mblCSS3Transition&&r.transition&&"none"!=r.transition&&(f.set(s,"webkitTransformStyle","preserve-3d"),f.set(t,"webkitTransformStyle","preserve-3d"),b.add(s,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,this._arguments);l.publish("/dojox/mobile/beforeTransitionOut",
[this].concat(c._toArray(this._arguments)));if(u){if(this.keepScrollPos&&!this.getParent()){w=q.body().scrollTop||q.doc.documentElement.scrollTop||q.global.pageYOffset||0;t._scrollTop=w;var y=1==r.transitionDir?0:s._scrollTop||0;s.style.top="0px";if(1<w||0!==y)t.style.top=y-w+"px",!1!==o.mblHideAddressBar&&setTimeout(function(){q.global.scrollTo(0,y||1)},0)}else s.style.top="0px";u.onBeforeTransitionIn.apply(u,this._arguments);l.publish("/dojox/mobile/beforeTransitionIn",[u].concat(c._toArray(this._arguments)))}s.style.display=
"none";s.style.visibility="visible";x.fromView=this;x.toView=u;this._doTransition(t,s,r.transition,r.transitionDir)}}}},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(d,e,p,k){var h=-1==k?" mblReverse":"";e.style.display="";if(!p||"none"==p)this.domNode.style.display="none",this.invokeCallback();else if(o.mblCSS3Transition)n.when(t,c.hitch(this,function(a){var b=f.get(e,"position");f.set(e,"position","absolute");n.when(a(d,e,{transition:p,reverse:-1===
k?!0:!1}),c.hitch(this,function(){f.set(e,"position",b);this.invokeCallback()}))}));else{-1!=p.indexOf("cube")&&(g("ipad")?f.set(e.parentNode,{webkitPerspective:1600}):g("iphone")&&f.set(e.parentNode,{webkitPerspective:800}));var l=this._toCls(p);g("mblAndroidWorkaround")?setTimeout(function(){b.add(d,l+" mblOut"+h);b.add(e,l+" mblIn"+h);b.remove(e,"mblAndroidWorkaround");setTimeout(function(){b.add(d,"mblTransition");b.add(e,"mblTransition")},30)},70):(b.add(d,l+" mblOut"+h),b.add(e,l+" mblIn"+h),
setTimeout(function(){b.add(d,"mblTransition");b.add(e,"mblTransition")},100));var r="50% 50%",s="50% 50%",w;-1!=p.indexOf("swirl")||-1!=p.indexOf("zoom")?(r=this.keepScrollPos&&!this.getParent()?q.body().scrollTop||q.doc.documentElement.scrollTop||q.global.pageYOffset||0:-a.position(d,!0).y,w=q.global.innerHeight/2+r,r="50% "+w+"px",s="50% "+w+"px"):-1!=p.indexOf("scale")&&(r=a.position(d,!0),s=(void 0!==this.clickedPosX?this.clickedPosX:q.global.innerWidth/2)-r.x,r=this.keepScrollPos&&!this.getParent()?
q.body().scrollTop||q.doc.documentElement.scrollTop||q.global.pageYOffset||0:-r.y,w=(void 0!==this.clickedPosY?this.clickedPosY:q.global.innerHeight/2)+r,r=s+"px "+w+"px",s=s+"px "+w+"px");f.set(d,{webkitTransformOrigin:r});f.set(e,{webkitTransformOrigin:s})}},onAnimationStart:function(){},onAnimationEnd:function(a){var c=a.animationName||a.target.className;if(!(-1===c.indexOf("Out")&&-1===c.indexOf("In")&&-1===c.indexOf("Shrink"))){var d=!1;b.contains(this.domNode,"mblOut")?(d=!0,this.domNode.style.display=
"none",b.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this.containerNode.style.paddingTop="";f.set(this.domNode,{webkitTransformOrigin:""});if(-1!==c.indexOf("Shrink"))a=a.target,a.style.display="none",b.remove(a,"mblCloseContent"),(a=y.getEnclosingScrollable(this.domNode))&&a.onTouchEnd();d&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;if(-1!==c.indexOf("Cube")&&-1!==c.indexOf("In")&&g("iphone"))this.domNode.parentNode.style.webkitPerspective=
""}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);l.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var a=p.byNode(this.toNode);if(a)a.onAfterTransitionIn.apply(a,this._arguments),l.publish("/dojox/mobile/afterTransitionIn",[a].concat(this._arguments)),a.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(a);g("mblAndroidWorkaround")&&setTimeout(c.hitch(this,function(){a&&f.set(this.toNode,"webkitTransformStyle",
"");f.set(this.domNode,"webkitTransformStyle","")}),0);var b=this._detail.context,d=this._detail.method;if(b||d)d||(d=b,b=null),b=b||q.global,"string"==typeof d?b[d].apply(b,this._optArgs):"function"==typeof d&&d.apply(b,this._optArgs);this._detail=this._optArgs=this._arguments=void 0},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===f.get(a,"display"))return!1;return!0}return"none"!==f.get(this.domNode,"display")},getShowingView:function(){for(var a=this.domNode.parentNode.childNodes,
f=0;f<a.length;f++){var c=a[f];if(1===c.nodeType&&b.contains(c,"mblView")&&"none"!==c.style.display)return p.byNode(c)}return null},getSiblingViews:function(){return!this.domNode.parentNode?[this]:h.map(h.filter(this.domNode.parentNode.childNodes,function(a){return 1===a.nodeType&&b.contains(a,"mblView")}),function(a){return p.byNode(a)})},show:function(a,b){var f=this.getShowingView();a||(f&&(f.onBeforeTransitionOut(f.id),l.publish("/dojox/mobile/beforeTransitionOut",[f,f.id])),this.onBeforeTransitionIn(this.id),
l.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display="":h.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?"":"none"},this);this.load&&this.load();a||(f&&(f.onAfterTransitionOut(f.id),l.publish("/dojox/mobile/afterTransitionOut",[f,f.id])),this.onAfterTransitionIn(this.id),l.publish("/dojox/mobile/afterTransitionIn",[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(h,o){return h("dijit._Contained",null,{_getSibling:function(h){var k=this.domNode;do k=k[h+"Sibling"];while(k&&1!=k.nodeType);return k&&o.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var h=this.getParent();return!h||!h.getIndexOfChild?-1:h.getIndexOfChild(this)}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],
function(h,o,l){return o("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(k,c){var g=this.containerNode;if(c&&"number"==typeof c){var h=this.getChildren();if(h&&h.length>=c)g=h[c-1].domNode,c="after"}l.place(k.domNode,g,c);this._started&&!k._started&&k.startup()},removeChild:function(k){"number"==typeof k&&(k=this.getChildren()[k]);if(k)(k=k.domNode)&&k.parentNode&&k.parentNode.removeChild(k)},hasChildren:function(){return 0<
this.getChildren().length},_getSiblingOfChild:function(k,c){var g=this.getChildren(),q=h.indexOf(this.getChildren(),k);return g[q+c]},getIndexOfChild:function(k){return h.indexOf(this.getChildren(),k)}})})},"dojox/mobile/ViewController":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/ready,dijit/registry,./ProgressIndicator,./TransitionEvent,./viewRegistry".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s){var w=k("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};a(c.hitch(this,function(){d(g.body(),"startTransition",c.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);var a=RegExp.$2,b=f.byId(RegExp.$1);if(!b)return[];for(var c=
b.getParent();c;c=c.getParent())if(c.isVisible&&!c.isVisible()){var d=b.getShowingView();d&&d.id!==b.id&&b.show();b=c}return[b.getShowingView(),b,a]},openExternalView:function(a,b){var d=new q,e=this.viewMap[a.url];if(e)return a.moveTo=e,a.noTransition?f.byId(e).hide():(new r(g.body(),a)).dispatch(),d.resolve(!0),d;for(var p=null,e=b.childNodes.length-1;0<=e;e--){var k=b.childNodes[e];if(1===k.nodeType&&"bottom"===(k.getAttribute("fixed")||f.byNode(k)&&f.byNode(k).fixed)){p=k;break}}require([a.dataHandlerClass||
this.dataHandlerClass,a.dataSourceClass||this.dataSourceClass,a.fileTypeMapClass||this.fileTypeMapClass],c.hitch(this,function(e,k,h){e=new e(new k(a.data||a.url),b,p);h=a.contentType||h.getContentType(a.url)||"html";e.processData(h,c.hitch(this,function(b){b?(this.viewMap[a.url]=a.moveTo=b,a.noTransition?f.byId(b).hide():(new r(g.body(),a)).dispatch(),d.resolve(!0)):d.reject("Failed to load "+a.url)}))}));return d},onStartTransition:function(a){a.preventDefault();if(a.detail){var b=a.detail;if(b.moveTo||
b.href||b.url||b.scene)if(b.url&&!b.moveTo){var c=b.urlTarget,d=f.byId(c),c=d&&d.containerNode||n.byId(c);c||(c=(d=s.getEnclosingView(a.target))&&d.domNode.parentNode||g.body());this.openExternalView(b,c)}else if(b.href)if(b.hrefTarget)g.global.open(b.href,b.hrefTarget);else{for(d=s.getEnclosingView(a.target);d;d=s.getParentView(d))c=d;c&&c.performTransition(null,b.transitionDir,b.transition,a.target,function(){location.href=b.href})}else if(b.scene)l.publish("/dojox/mobile/app/pushScene",[b.scene]);
else{var e=this.findTransitionViews(b.moveTo),c=e[0],d=e[1],e=e[2];if(!location.hash&&!b.hashchange)s.initialView=c;if(b.moveTo&&d)b.moveTo=("#"===b.moveTo.charAt(0)?"#"+d.id:d.id)+e;if(c&&!(b.moveTo&&c===f.byId(b.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=f.getEnclosingWidget(a.target))&&a.callback)b.context=a,b.method=a.callback;c.performTransition(b)}}}}});w._instance=new w;w.getInstance=function(){return w._instance};return w})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dijit/_Contained,dijit/_WidgetBase".split(","),
function(h,o,l,k,c,g,q,n,e,b){var d=o("dojox.mobile.ProgressIndicator",[b,e],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&k.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=c.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=c.create("div",null,this.containerNode);for(var a=0;12>
a;a++)this._bars.push(c.create("div",{className:"mblProg mblProg"+a},this.spinnerNode));this.scale(this.size);this.startSpinning&&this.start()},scale:function(a){var b=a/40;q.set(this.containerNode,{webkitTransform:"scale("+b+")",webkitTransformOrigin:"0 0"});g.setMarginBox(this.domNode,{w:a,h:a});g.setMarginBox(this.containerNode,{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),c=Math.round((this.containerNode.offsetHeight-
a.offsetHeight)/2);a.style.margin=c+"px "+b+"px"}else{var d=0,e=this;this.timer=setInterval(function(){d--;d=0>d?11:d;for(var a=e.colors,b=0;12>b;b++){var f=(d+b)%12;a[f]?e._bars[b].style.backgroundColor=a[f]:k.replace(e._bars[b],"mblProg"+f+"Color","mblProg"+(11===f?0:f+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){if(a)this.imageNode=
c.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none";else{if(this.imageNode)this.containerNode.removeChild(this.imageNode),this.imageNode=null;this.spinnerNode.style.display=""}},destroy:function(){this.inherited(arguments);if(this===d._instance)d._instance=null}});d._instance=null;d.getInstance=function(a){if(!d._instance)d._instance=new d(a);return d._instance};return d})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang",
"dojo/on","./transition"],function(h,o,l,k,c){return h("dojox.mobile.TransitionEvent",null,{constructor:function(c,k,h){this.transitionOptions=k;this.target=c;this.triggerEvent=h||null},dispatch:function(){var g=k.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent});g&&o.when(c,l.hitch(this,function(c){o.when(c.call(this,g),l.hitch(this,function(c){this.endTransition(c)}))}))},endTransition:function(c){k.emit(this.target,"endTransition",
{detail:c.transitionOptions})}})})},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(h,o){if(o.mblCSS3Transition){var l=new h;require([o.mblCSS3Transition],function(k){l.resolve(k)});return l}return null})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(h,o,l){return{length:0,hash:{},initialView:null,add:function(k){this.hash[k.id]=k;this.length++},remove:function(k){this.hash[k]&&(delete this.hash[k],
this.length--)},getViews:function(){var k=[],c;for(c in this.hash)k.push(this.hash[c]);return k},getParentView:function(k){for(k=k.getParent();k;k=k.getParent())if(o.contains(k.domNode,"mblView"))return k;return null},getChildViews:function(k){return h.filter(this.getViews(),function(c){return this.getParentView(c)===k},this)},getEnclosingView:function(k){for(;k&&"BODY"!==k.tagName;k=k.parentNode)if(1===k.nodeType&&o.contains(k,"mblView"))return l.byNode(k);return null},getEnclosingScrollable:function(k){for(k=
l.getEnclosingWidget(k);k;k=k.getParent())if(k.scrollableParams&&k._v)return k;return null}}})},"dojox/mobile/common":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(h,o,l,k,c,g,q,n,e,b){var d=k.getObject("dojox.mobile",!0);d.getScreenSize=function(){return{h:c.global.innerHeight||c.doc.documentElement.clientHeight,w:c.global.innerWidth||c.doc.documentElement.clientWidth}};
d.updateOrient=function(){var a=d.getScreenSize();g.replace(c.doc.documentElement,a.h>a.w?"dj_portrait":"dj_landscape",a.h>a.w?"dj_landscape":"dj_portrait")};d.updateOrient();d.tabletSize=500;d.detectScreenSize=function(a){var b=d.getScreenSize(),e=Math.min(b.w,b.h),k,h;if(e>=d.tabletSize&&(a||!this._sz||this._sz<d.tabletSize))k="phone",h="tablet";else if(e<d.tabletSize&&(a||!this._sz||this._sz>=d.tabletSize))k="tablet",h="phone";h&&(g.replace(c.doc.documentElement,"dj_"+h,"dj_"+k),l.publish("/dojox/mobile/screenSize/"+
h,[b]));this._sz=e};d.detectScreenSize();d.hideAddressBarWait="number"===typeof o.mblHideAddressBarWait?o.mblHideAddressBarWait:1500;d.hide_1=function(){scrollTo(0,1);d._hidingTimer=0==d._hidingTimer?200:2*d._hidingTimer;setTimeout(function(){d.isAddressBarHidden()||d._hidingTimer>d.hideAddressBarWait?(d.resizeAll(),d._hiding=!1):setTimeout(d.hide_1,d._hidingTimer)},50)};d.hideAddressBar=function(){if(!d.disableHideAddressBar&&!d._hiding){d._hiding=!0;d._hidingTimer=b("iphone")?200:0;var a=screen.availHeight;
if(b("android")){a=outerHeight/devicePixelRatio;if(0==a)d._hiding=!1,setTimeout(function(){d.hideAddressBar()},200);a<=innerHeight&&(a=outerHeight);if(3>b("android"))c.doc.documentElement.style.overflow=c.body().style.overflow="visible"}if(c.body().offsetHeight<a)c.body().style.minHeight=a+"px",d._resetMinHeight=!0;setTimeout(d.hide_1,d._hidingTimer)}};d.isAddressBarHidden=function(){return 1===pageYOffset};d.resizeAll=function(a,b){if(!d.disableResizeAll){l.publish("/dojox/mobile/resizeAll",[a,b]);
l.publish("/dojox/mobile/beforeResizeAll",[a,b]);if(d._resetMinHeight)c.body().style.minHeight=d.getScreenSize().h+"px";d.updateOrient();d.detectScreenSize();var g=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},k=function(a){h.forEach(a.getChildren(),function(a){g(a)&&a.resize();k(a)})};b?(b.resize&&b.resize(),k(b)):h.forEach(h.filter(e.toArray(),g),function(a){a.resize()});l.publish("/dojox/mobile/afterResizeAll",[a,b])}};d.openWindow=function(a,b){c.global.open(a,
b||"_blank")};!1!==o.mblApplyPageStyles&&g.add(c.doc.documentElement,"mobile");b("chrome")&&g.add(c.doc.documentElement,"dj_chrome");if(c.global._no_dojo_dm){var k=c.global._no_dojo_dm,a;for(a in k)d[a]=k[a];d.deviceTheme.setDm(d)}b.add("mblAndroidWorkaround",!1!==o.mblAndroidWorkaround&&3>b("android"),void 0,!0);b.add("mblAndroid3Workaround",!1!==o.mblAndroid3Workaround&&3<=b("android"),void 0,!0);n(function(){d.detectScreenSize(!0);!1!==o.mblAndroidWorkaroundButtonStyle&&b("android")&&q.create("style",
{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},c.doc.head,"first");b("mblAndroidWorkaround")&&q.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},c.doc.head,"last");var a=d.resizeAll;if(!1!==o.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===o.mblForceHideAddressBar)if(d.hideAddressBar(),!0===o.mblAlwaysHideAddressBar)a=
d.hideAddressBar;var e=6<=b("iphone");if((b("android")||e)&&void 0!==c.global.onorientationchange){var g=a,a=function(){var a=l.connect(null,"onresize",null,function(b){l.disconnect(a);g(b)})},k=d.getScreenSize(),h=e?20:100,n=null,x=null;e&&(l.connect(null,"onkeyup",null,function(){n=(new Date).getTime()}),x=function(a){if(a&&1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a});l.connect(null,"onresize",null,function(a){var b=
d.getScreenSize();if(b.w==k.w&&Math.abs(b.h-k.h)>=h&&(!e||!(n&&400>(new Date).getTime()-n||x(c.doc.activeElement))))e&&1<pageYOffset?d.resizeAll():g(a);k=b})}l.connect(null,void 0!==c.global.onorientationchange?"onorientationchange":"onresize",null,a);c.body().style.visibility="visible"});return d})},"dojox/mobile/sniff":function(){define(["dojo/_base/window","dojo/_base/sniff"],function(h,o){var l=navigator.userAgent;o.add("bb",(0<=l.indexOf("BlackBerry")||l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||
void 0,void 0,!0);o.add("android",parseFloat(l.split("Android ")[1])||void 0,void 0,!0);if(l.match(/(iPhone|iPod|iPad)/)){var k=RegExp.$1.replace(/P/,"p"),l=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(l.replace(/_/,".").replace(/_/g,""));o.add(k,l,void 0,!0);o.add("iphone",l,void 0,!0)}o("webkit")&&o.add("touch","undefined"!=typeof h.doc.documentElement.ontouchstart&&-1!=navigator.appVersion.indexOf("Mobile")||!!o("android"),void 0,!0);return o})},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel",
"dojo/_base/lang","dojo/_base/window","./sniff"],function(h,o,l,k){l=l.doc.documentElement;l.className=o.trim(l.className+" "+[k("bb")?"dj_bb":"",k("android")?"dj_android":"",k("iphone")?"dj_iphone":"",k("ipod")?"dj_ipod":"",k("ipad")?"dj_ipad":""].join(" ").replace(/ +/g," "));return h})},"dojox/mobile/ScrollableView":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/registry,./View,./_ScrollableMixin".split(","),function(h,o,l,k,c,g,q){return o("dojox.mobile.ScrollableView",
[g,q],{scrollableParams:null,keepScrollPos:!1,constructor:function(){this.scrollableParams={noResize:!0}},buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"mblScrollableView");this.domNode.style.overflow="hidden";this.domNode.style.top="0px";this.containerNode=k.create("div",{className:"mblScrollableViewContainer"},this.domNode);this.containerNode.style.position="absolute";this.containerNode.style.top="0px";if("v"===this.scrollDir)this.containerNode.style.width="100%"},startup:function(){this._started||
(this.reparent(),this.inherited(arguments))},resize:function(){this.inherited(arguments);h.forEach(this.getChildren(),function(c){c.resize&&c.resize()})},isTopLevel:function(){var c=this.getParent&&this.getParent();return!c||!c.resize},addFixedBar:function(c){var c=c.domNode,e=this.checkFixedBar(c,!0);if(e){this.domNode.appendChild(c);if("top"===e)this.fixedHeaderHeight=c.offsetHeight,this.isLocalHeader=!0;else if("bottom"===e)this.fixedFooterHeight=c.offsetHeight,this.isLocalFooter=!0,c.style.bottom=
"0px";this.resize()}},reparent:function(){var c,e,b,d;for(c=0,e=0,b=this.domNode.childNodes.length;c<b;c++)d=this.domNode.childNodes[e],d===this.containerNode||this.checkFixedBar(d,!0)?e++:this.containerNode.appendChild(this.domNode.removeChild(d))},onAfterTransitionIn:function(){this.flashScrollBar()},getChildren:function(){var g=this.inherited(arguments);this.fixedHeader&&this.fixedHeader.parentNode===this.domNode&&g.push(c.byNode(this.fixedHeader));this.fixedFooter&&this.fixedFooter.parentNode===
this.domNode&&g.push(c.byNode(this.fixedFooter));return g}})})},"dojox/mobile/_ScrollableMixin":function(){define("dojo/_base/kernel,dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dijit/registry,./scrollable".split(","),function(h,o,l,k,c,g,q,n,e){return l("dojox.mobile._ScrollableMixin",e,{fixedHeader:"",fixedFooter:"",scrollableParams:null,allowNestedScrolls:!0,appBars:!0,constructor:function(){this.scrollableParams={}},destroy:function(){this.cleanup();
this.inherited(arguments)},startup:function(){if(!this._started){this.findAppBars();var b,d=this.scrollableParams;if(this.fixedHeader){b=g.byId(this.fixedHeader);if(b.parentNode==this.domNode)this.isLocalHeader=!0;d.fixedHeaderHeight=b.offsetHeight}if(this.fixedFooter){b=g.byId(this.fixedFooter);if(b.parentNode==this.domNode)this.isLocalFooter=!0,b.style.bottom="0px";d.fixedFooterHeight=b.offsetHeight}this.scrollType=this.scrollType||o.mblScrollableScrollType||0;this.init(d);if(this.allowNestedScrolls)for(b=
this.getParent();b;b=b.getParent())if(b&&b.scrollableParams){this.dirLock=!0;b.dirLock=!0;break}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if("none"!==this.domNode.style.display){var a=c.doc.activeElement;this.isFormElement(a)&&g.isDescendant(a,this.containerNode)&&this.scrollIntoView(a)}});this.inherited(arguments)}},findAppBars:function(){if(this.appBars){var b,d,a;for(b=0,d=c.body().childNodes.length;b<d;b++)a=c.body().childNodes[b],this.checkFixedBar(a,!1);if(this.domNode.parentNode)for(b=
0,d=this.domNode.parentNode.childNodes.length;b<d;b++)a=this.domNode.parentNode.childNodes[b],this.checkFixedBar(a,!1);this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0}},checkFixedBar:function(b,c){if(1===b.nodeType){var a=b.getAttribute("fixed")||n.byNode(b)&&n.byNode(b).fixed;if("top"===a){q.add(b,"mblFixedHeaderBar");if(c)b.style.top="0px",this.fixedHeader=b;return a}if("bottom"===a)return q.add(b,"mblFixedBottomBar"),this.fixedFooter=b,a}return null}})})},"dojox/mobile/scrollable":function(){define("dojo/_base/kernel,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),
function(h,o,l,k,c,g,q,n,e){var b=k.getObject("dojox.mobile",!0);e.add("translate3d",function(){if(e("webkit")){var a=c.doc.createElement("div");a.style.webkitTransform="translate3d(0px,1px,0px)";c.doc.documentElement.appendChild(a);var b=c.doc.defaultView.getComputedStyle(a,"")["-webkit-transform"],b=b&&0===b.indexOf("matrix");c.doc.documentElement.removeChild(a);return b}});var d=function(){};k.extend(d,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:!1,scrollBar:!0,scrollDir:"v",weight:0.6,
fadeScrollBar:!0,disableFlashScrollBar:!1,threshold:4,constraint:!0,touchNode:null,propagatable:!0,dirLock:!1,height:"",scrollType:0,init:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=("domNode"==b||"containerNode"==b)&&"string"==typeof a[b]?c.doc.getElementById(a[b]):a[b]);this.touchNode=this.touchNode||this.containerNode;this._v=-1!=this.scrollDir.indexOf("v");this._h=-1!=this.scrollDir.indexOf("h");this._f="f"==this.scrollDir;this._ch=[];this._ch.push(o.connect(this.touchNode,e("touch")?
"ontouchstart":"onmousedown",this,"onTouchStart"));if(e("webkit")){this._useTopLeft=this.scrollType?2===this.scrollType:3>e("android");if(!this._useTopLeft)this._useTransformTransition=this.scrollType?3===this.scrollType:6<=e("iphone");if(this._useTopLeft)this._ch.push(o.connect(this.domNode,"webkitTransitionEnd",this,"onFlickAnimationEnd")),this._ch.push(o.connect(this.domNode,"webkitTransitionStart",this,"onFlickAnimationStart"));else{if(this._useTransformTransition)this._ch.push(o.connect(this.domNode,
"webkitTransitionEnd",this,"onFlickAnimationEnd")),this._ch.push(o.connect(this.domNode,"webkitTransitionStart",this,"onFlickAnimationStart"));else{this._ch.push(o.connect(this.domNode,"webkitAnimationEnd",this,"onFlickAnimationEnd"));this._ch.push(o.connect(this.domNode,"webkitAnimationStart",this,"onFlickAnimationStart"));for(a=0;3>a;a++)this.setKeyframes(null,null,a)}e("translate3d")&&n.set(this.containerNode,"webkitTransform","translate3d(0,0,0)")}}this._speed={x:0,y:0};this._appFooterHeight=
0;this.isTopLevel()&&!this.noResize&&this.resize();var d=this;setTimeout(function(){d.flashScrollBar()},600)},isTopLevel:function(){return!0},cleanup:function(){if(this._ch){for(var a=0;a<this._ch.length;a++)o.disconnect(this._ch[a]);this._ch=null}},findDisp:function(a){if(!a.parentNode)return null;if(1===a.nodeType&&g.contains(a,"mblSwapView")&&"none"!==a.style.display)return a;for(var b=a.parentNode.childNodes,c=0;c<b.length;c++){var d=b[c];if(1===d.nodeType&&g.contains(d,"mblView")&&"none"!==d.style.display)return d}return a},
getScreenSize:function(){return{h:c.global.innerHeight||c.doc.documentElement.clientHeight||c.doc.documentElement.offsetHeight,w:c.global.innerWidth||c.doc.documentElement.clientWidth||c.doc.documentElement.offsetWidth}},resize:function(){this._appFooterHeight=this.fixedFooterHeight&&!this.isLocalFooter?this.fixedFooterHeight:0;if(this.isLocalHeader)this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";for(var a=0,b=this.domNode;b&&"BODY"!=b.tagName;b=b.offsetParent){b=this.findDisp(b);if(!b)break;
a+=b.offsetTop}var c,b=this.getScreenSize().h,a=b-a-this._appFooterHeight;if("inherit"===this.height)this.domNode.offsetParent&&(c=this.domNode.offsetParent.offsetHeight+"px");else if("auto"===this.height){if(c=this.domNode.offsetParent){this.domNode.style.height="0px";c=c.getBoundingClientRect();var a=this.domNode.getBoundingClientRect(),d=c.bottom-this._appFooterHeight,a=a.bottom>=d?b-(a.top-c.top)-this._appFooterHeight:d-a.bottom}b=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);
c=(b?Math.min(b,a):a)+"px"}else if(this.height)c=this.height;c||(c=a+"px");if("-"!==c.charAt(0)&&"default"!==c)this.domNode.style.height=c;this.onTouchEnd()},onFlickAnimationStart:function(a){l.stop(a)},onFlickAnimationEnd:function(a){var b=a&&a.animationName;if(b&&-1===b.indexOf("scrollableViewScroll2"))if(-1!==b.indexOf("scrollableViewScroll0"))this._scrollBarNodeV&&g.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");else if(-1!==b.indexOf("scrollableViewScroll1"))this._scrollBarNodeH&&g.remove(this._scrollBarNodeH,
"mblScrollableScrollTo1");else{if(this._scrollBarNodeV)this._scrollBarNodeV.className="";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}else{if(this._useTransformTransition||this._useTopLeft)if(b=a.target,b===this._scrollBarV||b===this._scrollBarH){a="mblScrollableScrollTo"+(b===this._scrollBarV?"0":"1");g.contains(b,a)?g.remove(b,a):b.className="";return}a&&a.srcElement&&l.stop(a);this.stopAnimation();if(this._bounce){var c=this,d=c._bounce;setTimeout(function(){c.slideTo(d,0.3,"ease-out")},
0);c._bounce=void 0}else this.hideScrollBar(),this.removeCover()}},isFormElement:function(a){if(a&&1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a},onTouchStart:function(a){if(!(this.disableTouchScroll||this._conn&&500>(new Date).getTime()-this.startTime)){if(!this._conn)this._conn=[],this._conn.push(o.connect(c.doc,e("touch")?"ontouchmove":"onmousemove",this,"onTouchMove")),this._conn.push(o.connect(c.doc,e("touch")?
"ontouchend":"onmouseup",this,"onTouchEnd"));this._aborted=!1;if(g.contains(this.containerNode,"mblScrollableScrollTo2"))this.abort();else{if(this._scrollBarNodeV)this._scrollBarNodeV.className="";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this.startTime=(new Date).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=
[this.touchStartY];this._locked=!1;this.isFormElement(a.target)||(this.propagatable?a.preventDefault():l.stop(a))}},onTouchMove:function(a){if(!this._locked){var b=a.touches?a.touches[0].pageX:a.clientX,a=a.touches?a.touches[0].pageY:a.clientY,c=b-this.touchStartX,d=a-this.touchStartY,e={x:this.startPos.x+c,y:this.startPos.y+d},g=this._dim,c=Math.abs(c),d=Math.abs(d);if(1==this._time.length){if(this.dirLock&&(this._v&&!this._h&&c>=this.threshold&&c>=d||(this._h||this._f)&&!this._v&&d>=this.threshold&&
d>=c)){this._locked=!0;return}if(this._v&&this._h){if(d<this.threshold&&c<this.threshold)return}else if(this._v&&d<this.threshold||(this._h||this._f)&&c<this.threshold)return;this.addCover();this.showScrollBar()}c=this.weight;if(this._v&&this.constraint)if(0<e.y)e.y=Math.round(e.y*c);else if(e.y<-g.o.h)e.y=g.c.h<g.d.h?Math.round(e.y*c):-g.o.h-Math.round((-g.o.h-e.y)*c);if((this._h||this._f)&&this.constraint)if(0<e.x)e.x=Math.round(e.x*c);else if(e.x<-g.o.w)e.x=g.c.w<g.d.w?Math.round(e.x*c):-g.o.w-
Math.round((-g.o.w-e.x)*c);this.scrollTo(e);e=this._time.length;if(2<=e){var k,h;this._v&&!this._h?(k=this._posY[e-1]-this._posY[e-2],h=a-this._posY[e-1]):!this._v&&this._h&&(k=this._posX[e-1]-this._posX[e-2],h=b-this._posX[e-1]);if(0>k*h)this._time=[this._time[e-1]],this._posX=[this._posX[e-1]],this._posY=[this._posY[e-1]],e=1}10==e&&(this._time.shift(),this._posX.shift(),this._posY.shift());this._time.push((new Date).getTime()-this.startTime);this._posX.push(b);this._posY.push(a)}},onTouchEnd:function(a){if(!this._locked){var b=
this._speed={x:0,y:0},d=this._dim,g=this.getPos(),k={};if(a){if(!this._conn)return;for(b=0;b<this._conn.length;b++)o.disconnect(this._conn[b]);this._conn=null;var b=this._time.length,h=!1;this._aborted||(1>=b?h=!0:2==b&&4>Math.abs(this._posY[1]-this._posY[0])&&e("touch")&&(h=!0));if(h){this.hideScrollBar();this.removeCover();if(e("touch")&&!this.isFormElement(a.target)&&!(4.1<=e("android"))){var n=a.target;if(1!=n.nodeType)n=n.parentNode;var q=c.doc.createEvent("MouseEvents");q.initMouseEvent("click",
!0,!0,c.global,1,a.screenX,a.screenY,a.clientX,a.clientY);setTimeout(function(){n.dispatchEvent(q)},0)}return}b=this._speed=this.getSpeed()}else{if(0==g.x&&0==g.y)return;d=this.getDim()}if(this._v)k.y=g.y+b.y;if(this._h||this._f)k.x=g.x+b.x;if(!1!==this.adjustDestination(k,g,d))if("v"==this.scrollDir&&d.c.h<d.d.h)this.slideTo({y:0},0.3,"ease-out");else if("h"==this.scrollDir&&d.c.w<d.d.w)this.slideTo({x:0},0.3,"ease-out");else if(this._v&&this._h&&d.c.h<d.d.h&&d.c.w<d.d.w)this.slideTo({x:0,y:0},0.3,
"ease-out");else{var l,h="ease-out",y={};if(this._v&&this.constraint)if(0<k.y)0<g.y?(l=0.3,k.y=0):(k.y=Math.min(k.y,20),h="linear",y.y=0);else if(-b.y>d.o.h- -g.y)g.y<-d.o.h?(l=0.3,k.y=d.c.h<=d.d.h?0:-d.o.h):(k.y=Math.max(k.y,-d.o.h-20),h="linear",y.y=-d.o.h);if((this._h||this._f)&&this.constraint)if(0<k.x)0<g.x?(l=0.3,k.x=0):(k.x=Math.min(k.x,20),h="linear",y.x=0);else if(-b.x>d.o.w- -g.x)g.x<-d.o.w?(l=0.3,k.x=d.c.w<=d.d.w?0:-d.o.w):(k.x=Math.max(k.x,-d.o.w-20),h="linear",y.x=-d.o.w);this._bounce=
void 0!==y.x||void 0!==y.y?y:void 0;if(void 0===l){var v,A;if(this._v&&this._h)A=Math.sqrt(b.x*b.x+b.y*b.y),v=Math.sqrt(Math.pow(k.y-g.y,2)+Math.pow(k.x-g.x,2));else if(this._v)A=b.y,v=k.y-g.y;else if(this._h)A=b.x,v=k.x-g.x;if(0===v&&!a)return;l=0!==A?Math.abs(v/A):0.01}this.slideTo(k,l,h)}}},adjustDestination:function(){return!0},abort:function(){this.scrollTo(this.getPos());this.stopAnimation();this._aborted=!0},stopAnimation:function(){g.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV)this._scrollBarV.className=
"";if(this._scrollBarH)this._scrollBarH.className="";if(this._useTransformTransition||this._useTopLeft){this.containerNode.style.webkitTransition="";if(this._scrollBarV)this._scrollBarV.style.webkitTransition="";if(this._scrollBarH)this._scrollBarH.style.webkitTransition=""}},scrollIntoView:function(a,b,c){if(this._v){for(var d=this.containerNode,e=this.getDim().d.h,g=0,k=a;k!==d;k=k.offsetParent){if(!k||"BODY"===k.tagName)return;g+=k.offsetTop}a=b?Math.max(e-d.offsetHeight,-g):Math.min(0,e-g-a.offsetHeight);
c&&"number"===typeof c?this.slideTo({y:a},c,"ease-out"):this.scrollTo({y:a})}},getSpeed:function(){var a=0,b=0,c=this._time.length;if(2<=c&&500>(new Date).getTime()-this.startTime-this._time[c-1])var a=this._posX[c-(3<c?2:1)]-this._posX[0<=c-6?c-6:0],d=this._time[c-(3<c?2:1)]-this._time[0<=c-6?c-6:0],b=this.calcSpeed(this._posY[c-(3<c?2:1)]-this._posY[0<=c-6?c-6:0],d),a=this.calcSpeed(a,d);return{x:a,y:b}},calcSpeed:function(a,b){return 4*Math.round(100*(a/b))},scrollTo:function(a,b,c){c=(c||this.containerNode).style;
if(e("webkit"))if(this._useTopLeft){c.webkitTransition="";if(this._v)c.top=a.y+"px";if(this._h||this._f)c.left=a.x+"px"}else{if(this._useTransformTransition)c.webkitTransition="";c.webkitTransform=this.makeTranslateStr(a)}else{if(this._v)c.top=a.y+"px";if(this._h||this._f)c.left=a.x+"px"}b||this.scrollScrollBarTo(this.calcScrollBarPos(a))},slideTo:function(a,b,c){this._runSlideAnimation(this.getPos(),a,b,c,this.containerNode,2);this.slideScrollBarTo(a,b,c)},makeTranslateStr:function(a){var b=this._v&&
"number"==typeof a.y?a.y+"px":"0px",a=(this._h||this._f)&&"number"==typeof a.x?a.x+"px":"0px";return e("translate3d")?"translate3d("+a+","+b+",0px)":"translate("+a+","+b+")"},getPos:function(){if(e("webkit")){var a=c.doc.defaultView.getComputedStyle(this.containerNode,"");if(this._useTopLeft)return{x:parseInt(a.left)||0,y:parseInt(a.top)||0};return(a=a["-webkit-transform"])&&0===a.indexOf("matrix")?(a=a.split(/[,\s\)]+/),{y:a[5]-0,x:a[4]-0}):{x:0,y:0}}return{y:parseInt(this.containerNode.style.top)||
0,x:this.containerNode.offsetLeft}},getDim:function(){var a={};a.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};a.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};a.d={h:a.v.h-this.fixedHeaderHeight-this.fixedFooterHeight,w:a.v.w};a.o={h:a.c.h-a.v.h+this.fixedHeaderHeight+this.fixedFooterHeight,w:a.c.w-a.v.w};return a},showScrollBar:function(){if(this.scrollBar){var a=this._dim;if(!("v"==this.scrollDir&&a.c.h<=a.d.h||"h"==this.scrollDir&&a.c.w<=
a.d.w))if(!this._v||!this._h||!(a.c.h<=a.d.h&&a.c.w<=a.d.w)){a=function(a,b){var c=a["_scrollBarNode"+b];if(!c){var c=q.create("div",null,a.domNode),d={position:"absolute",overflow:"hidden"};"V"==b?(d.right="2px",d.width="5px"):(d.bottom=(a.isLocalFooter?a.fixedFooterHeight:0)+2+"px",d.height="5px");n.set(c,d);c.className="mblScrollBarWrapper";a["_scrollBarWrapper"+b]=c;c=q.create("div",null,c);n.set(c,{opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",webkitBorderRadius:"2px",
MozBorderRadius:"2px",webkitTransformOrigin:"0 0",zIndex:2147483647});n.set(c,"V"==b?{width:"5px"}:{height:"5px"});a["_scrollBarNode"+b]=c}return c};if(this._v&&!this._scrollBarV)this._scrollBarV=a(this,"V");if(this._h&&!this._scrollBarH)this._scrollBarH=a(this,"H");this.resetScrollBar()}}},hideScrollBar:function(){if(this.fadeScrollBar&&e("webkit")&&!b._fadeRule){var a=q.create("style",null,c.doc.getElementsByTagName("head")[0]);a.textContent=".mblScrollableFadeScrollBar{  -webkit-animation-duration: 1s;  -webkit-animation-name: scrollableViewFadeScrollBar;}@-webkit-keyframes scrollableViewFadeScrollBar{  from { opacity: 0.6; }  to { opacity: 0; }}";
b._fadeRule=a.sheet.cssRules[1]}if(this.scrollBar){a=function(a,b){n.set(a,{opacity:0,webkitAnimationDuration:""});if(!b._useTopLeft||!e("android"))a.className="mblScrollableFadeScrollBar"};if(this._scrollBarV)a(this._scrollBarV,this),this._scrollBarV=null;if(this._scrollBarH)a(this._scrollBarH,this),this._scrollBarH=null}},calcScrollBarPos:function(a){var b={},c=this._dim,d=function(a,b,c,f,d){c=Math.round((f-b-8)/(f-d)*c);c<-b+5&&(c=-b+5);c>a-5&&(c=a-5);return c};if("number"==typeof a.y&&this._scrollBarV)b.y=
d(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,a.y,c.d.h,c.c.h);if("number"==typeof a.x&&this._scrollBarH)b.x=d(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,a.x,c.d.w,c.c.w);return b},scrollScrollBarTo:function(a){if(this.scrollBar){if(this._v&&this._scrollBarV&&"number"==typeof a.y)if(e("webkit"))if(this._useTopLeft)n.set(this._scrollBarV,{webkitTransition:"",top:a.y+"px"});else{if(this._useTransformTransition)this._scrollBarV.style.webkitTransition="";this._scrollBarV.style.webkitTransform=
this.makeTranslateStr({y:a.y})}else this._scrollBarV.style.top=a.y+"px";if(this._h&&this._scrollBarH&&"number"==typeof a.x)if(e("webkit"))if(this._useTopLeft)n.set(this._scrollBarH,{webkitTransition:"",left:a.x+"px"});else{if(this._useTransformTransition)this._scrollBarH.style.webkitTransition="";this._scrollBarH.style.webkitTransform=this.makeTranslateStr({x:a.x})}else this._scrollBarH.style.left=a.x+"px"}},slideScrollBarTo:function(a,b,c){if(this.scrollBar){var d=this.calcScrollBarPos(this.getPos()),
a=this.calcScrollBarPos(a);this._v&&this._scrollBarV&&this._runSlideAnimation({y:d.y},{y:a.y},b,c,this._scrollBarV,0);this._h&&this._scrollBarH&&this._runSlideAnimation({x:d.x},{x:a.x},b,c,this._scrollBarH,1)}},_runSlideAnimation:function(a,b,c,d,k,q){if(e("webkit"))if(this._useTopLeft)n.set(k,{webkitTransitionProperty:"top, left",webkitTransitionDuration:c+"s",webkitTransitionTimingFunction:d}),setTimeout(function(){n.set(k,{top:(b.y||0)+"px",left:(b.x||0)+"px"})},0),g.add(k,"mblScrollableScrollTo"+
q);else if(this._useTransformTransition){if(void 0===b.x)b.x=a.x;if(void 0===b.y)b.y=a.y;if(b.x!==a.x||b.y!==a.y){n.set(k,{webkitTransitionProperty:"-webkit-transform",webkitTransitionDuration:c+"s",webkitTransitionTimingFunction:d});var l=this.makeTranslateStr(b);setTimeout(function(){n.set(k,{webkitTransform:l})},0);g.add(k,"mblScrollableScrollTo"+q)}else this.hideScrollBar(),this.removeCover()}else this.setKeyframes(a,b,q),n.set(k,{webkitAnimationDuration:c+"s",webkitAnimationTimingFunction:d}),
g.add(k,"mblScrollableScrollTo"+q),2==q?this.scrollTo(b,!0,k):this.scrollScrollBarTo(b);else h.fx&&h.fx.easing&&c?(a=h.fx.slideTo({node:k,duration:1E3*c,left:b.x,top:b.y,easing:"ease-out"==d?h.fx.easing.quadOut:h.fx.easing.linear}).play(),2==q&&o.connect(a,"onEnd",this,"onFlickAnimationEnd")):2==q?(this.scrollTo(b,!1,k),this.onFlickAnimationEnd()):this.scrollScrollBarTo(b)},resetScrollBar:function(){var a=function(a,b,c,f,d,e){if(b){var g={};g[e?"top":"left"]=d+4+"px";d=0>=c-8?1:c-8;g[e?"height":
"width"]=d+"px";n.set(a,g);a=Math.round(c*c/f);a=Math.min(Math.max(a-8,5),d);b.style[e?"height":"width"]=a+"px";n.set(b,{opacity:0.6})}},b=this.getDim();a(this._scrollBarWrapperV,this._scrollBarV,b.d.h,b.c.h,this.fixedHeaderHeight,!0);a(this._scrollBarWrapperH,this._scrollBarH,b.d.w,b.c.w,0);this.createMask()},createMask:function(){if(e("webkit")){var a;if(this._scrollBarWrapperV){var b=this._scrollBarWrapperV.offsetHeight;a=c.doc.getCSSCanvasContext("2d","scrollBarMaskV",5,b);a.fillStyle="rgba(0,0,0,0.5)";
a.fillRect(1,0,3,2);a.fillRect(0,1,5,1);a.fillRect(0,b-2,5,1);a.fillRect(1,b-1,3,2);a.fillStyle="rgb(0,0,0)";a.fillRect(0,2,5,b-4);this._scrollBarWrapperV.style.webkitMaskImage="-webkit-canvas(scrollBarMaskV)"}if(this._scrollBarWrapperH)b=this._scrollBarWrapperH.offsetWidth,a=c.doc.getCSSCanvasContext("2d","scrollBarMaskH",b,5),a.fillStyle="rgba(0,0,0,0.5)",a.fillRect(0,1,2,3),a.fillRect(1,0,1,5),a.fillRect(b-2,0,1,5),a.fillRect(b-1,1,2,3),a.fillStyle="rgb(0,0,0)",a.fillRect(2,0,b-4,5),this._scrollBarWrapperH.style.webkitMaskImage=
"-webkit-canvas(scrollBarMaskH)"}},flashScrollBar:function(){if(!this.disableFlashScrollBar&&this.domNode&&(this._dim=this.getDim(),!(0>=this._dim.d.h))){this.showScrollBar();var a=this;setTimeout(function(){a.hideScrollBar()},300)}},addCover:function(){if(!e("touch")&&!this.noCover)b._cover?b._cover.style.display="":(b._cover=q.create("div",null,c.doc.body),b._cover.className="mblScrollableCover",n.set(b._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",
height:"100%",zIndex:2147483647}),this._ch.push(o.connect(b._cover,e("touch")?"ontouchstart":"onmousedown",this,"onTouchEnd"))),this.setSelectable(b._cover,!1),this.setSelectable(this.domNode,!1)},removeCover:function(){if(!e("touch")&&b._cover)b._cover.style.display="none",this.setSelectable(b._cover,!0),this.setSelectable(this.domNode,!0)},setKeyframes:function(a,d,e){if(!b._rule)b._rule=[];if(!b._rule[e]){var g=q.create("style",null,c.doc.getElementsByTagName("head")[0]);g.textContent=".mblScrollableScrollTo"+
e+"{-webkit-animation-name: scrollableViewScroll"+e+";}@-webkit-keyframes scrollableViewScroll"+e+"{}";b._rule[e]=g.sheet.cssRules[1]}if(e=b._rule[e])if(a&&(e.deleteRule("from"),e.insertRule("from { -webkit-transform: "+this.makeTranslateStr(a)+"; }")),d){if(void 0===d.x)d.x=a.x;if(void 0===d.y)d.y=a.y;e.deleteRule("to");e.insertRule("to { -webkit-transform: "+this.makeTranslateStr(d)+"; }")}},setSelectable:function(a,b){a.style.KhtmlUserSelect=b?"auto":"none";a.style.MozUserSelect=b?"":"none";a.onselectstart=
b?null:function(){return!1};if(e("ie")){a.unselectable=b?"":"on";for(var c=a.getElementsByTagName("*"),d=0;d<c.length;d++)c[d].unselectable=b?"":"on"}}});k.setObject("dojox.mobile.scrollable",d);return d})},"dojox/mobile/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin"],function(h,o,l,k,c){return h("dojox.mobile.TextBox",[l,k,c],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(c){c=
this._cv?this._cv(c):c;this._set("placeHolder",c);this.textbox.setAttribute("placeholder",c)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=o.create("input",{type:this.type});this.inherited(arguments);this.textbox=this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onmouseup",function(){this._mouseIsDown=!1});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=!0});this.connect(this.textbox,"onfocus",function(c){this._onFocus(this._mouseIsDown?
"mouse":c);this._mouseIsDown=!1});this.connect(this.textbox,"onblur","_onBlur")}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(h,o,l,k,c){return h("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(c){o.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);k("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);
if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(c,k){this._handleOnChange(c,k)},_handleOnChange:function(c,k){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(c){if(c.keyCode==l.ESCAPE&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&(9>k("ie")||k("ie")&&k("quirks"))){c.preventDefault();var h=
c.srcElement,n=h.ownerDocument.createEventObject();n.keyCode=l.ESCAPE;n.shiftKey=c.shiftKey;h.fireEvent("onkeypress",n)}}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(h,o,l,k,c,g,q,n,e){return o("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);l.set(this.focusNode,"disabled",b);this.valueNode&&l.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",h.forEach(c.isArray(b)?b:[b],function(b){b=this[b];q("webkit")||e.hasDefaultTabStop(b)?b.setAttribute("tabIndex",
"-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var c=this.connect(this.focusNode,"onfocus",function(){this.disconnect(a);this.disconnect(c)}),a=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(a);this.disconnect(c);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){n.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&
this.focusNode&&"none"!=k.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(b){}},compare:function(b,c){return"number"==typeof b&&"number"==typeof c?isNaN(b)&&isNaN(c)?0:b-c:b>c?1:b<c?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(b,c){if(void 0==this._lastValueReported&&(null===c||!this._onChangeActive))this._resetValue=this._lastValueReported=b;this._pendingOnChange=this._pendingOnChange||typeof b!=typeof this._lastValueReported||
0!=this.compare(b,this._lastValueReported);if((this.intermediateChanges||c||void 0===c)&&this._pendingOnChange)if(this._lastValueReported=b,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(b)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));
this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(h,o,l,k,c,g,q,n){var e=o("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(b,c,a){var f;void 0!==b&&(f=this.filter(b),
"string"!=typeof a&&(a=null!==f&&("number"!=typeof f||!isNaN(f))?this.filter(this.format(f,this.constraints)):""));if(null!=a&&("number"!=typeof a||!isNaN(a))&&this.textbox.value!=a)this.textbox.value=a,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a);this.inherited(arguments,[f,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(b){null==b?b="":"string"!=typeof b&&
(b=""+b);this.textbox.value=b;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,b)},format:function(b){return null==b?"":b.toString?b.toString():b},parse:function(b){return b},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(b){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(b)},_processInput:function(){this._refreshState();
this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(q(this.textbox,"keydown, keypress, paste, cut, input, compositionend",g.hitch(this,function(b){var d;if("keydown"==b.type){d=b.keyCode;switch(d){case c.SHIFT:case c.ALT:case c.CTRL:case c.META:case c.CAPS_LOCK:case c.NUM_LOCK:case c.SCROLL_LOCK:return}if(!b.ctrlKey&&!b.metaKey&&!b.altKey){switch(d){case c.NUMPAD_0:case c.NUMPAD_1:case c.NUMPAD_2:case c.NUMPAD_3:case c.NUMPAD_4:case c.NUMPAD_5:case c.NUMPAD_6:case c.NUMPAD_7:case c.NUMPAD_8:case c.NUMPAD_9:case c.NUMPAD_MULTIPLY:case c.NUMPAD_PLUS:case c.NUMPAD_ENTER:case c.NUMPAD_MINUS:case c.NUMPAD_PERIOD:case c.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==c.SPACE)return;d=!1;for(var a in c)if(c[a]===b.keyCode){d=!0;break}if(!d)return}}(d=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||(d=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==c.SPACE?String.fromCharCode(b.keyCode):b.keyCode);d||(d=229);if("keypress"==b.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},e;for(e in b)"layerX"!=e&&"layerY"!=e&&(a=b[e],"function"!=typeof a&&"undefined"!=typeof a&&(f[e]=a));g.mixin(f,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})))},_blankValue:"",filter:function(b){if(null===b)return this._blankValue;
if("string"!=typeof b)return b;this.trim&&(b=g.trim(b));this.uppercase&&(b=b.toUpperCase());this.lowercase&&(b=b.toLowerCase());this.propercase&&(b=b.replace(/[^\s]+/g,function(b){return b.substring(0,1).toUpperCase()+b.substring(1)}));return b},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(b){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(b){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==b)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||e.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(b){if(!this._created||this.textDir!=b)this._set("textDir",b),this.applyTextDir(this.focusNode,this.focusNode.value)}});e._setSelectionRange=n._setSelectionRange=function(b,c,a){b.setSelectionRange&&b.setSelectionRange(c,a)};e.selectInputText=n.selectInputText=function(b,c,a){b=l.byId(b);isNaN(c)&&(c=0);isNaN(a)&&(a=b.value?b.value.length:0);try{b.focus(),e._setSelectionRange(b,c,a)}catch(f){}};return e})},"dojox/mobile/Button":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/_WidgetBase,dijit/form/_ButtonMixin,dijit/form/_FormWidgetMixin".split(","),
function(h,o,l,k,c,g,q){return o("dojox.mobile.Button",[c,q,g],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(c){var e=this.inherited(arguments);if(e&&0<=this.duration){var b=this.focusNode||this.domNode,d=(this.baseClass+" "+this["class"]).split(" "),d=h.map(d,function(a){return a+"Selected"});l.add(b,d);setTimeout(function(){l.remove(b,d)},this.duration)}return e},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var c=this.srcNodeRef.firstChild;
if(c&&3===c.nodeType)c.nodeValue=this._cv(c.nodeValue)}}else this.srcNodeRef=k.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(c){this.inherited(arguments,[this._cv?this._cv(c):c])}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(h,o,l,k){return h("dijit.form._ButtonMixin",
null,{label:"",type:"button",_onClick:function(c){if(this.disabled)return l.stop(c),!1;var g=!1===this.onClick(c);if(!g&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var h=this.domNode;h.parentNode;h=h.parentNode){var n=k.byNode(h);if(n&&"function"==typeof n._onSubmit){n._onSubmit(c);g=!0;break}}g&&c.preventDefault();return!g},postCreate:function(){this.inherited(arguments);o.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",
c);(this.containerNode||this.focusNode).innerHTML=c}})})},"dojox/layout/TableContainer":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/_base/array,dojo/dom-prop,dojo/dom-style,dijit/_WidgetBase,dijit/layout/_LayoutWidget".split(","),function(h,o,l,k,c,g,q,n,e,b){h.experimental("dojox.layout.TableContainer");h=l("dojox.layout.TableContainer",b,{cols:1,labelWidth:"100",showLabels:!0,orientation:"horiz",spacing:1,customClass:"",postCreate:function(){this.inherited(arguments);
this._children=[];this.connect(this,"set",function(b,a){a&&("orientation"==b||"customClass"==b||"cols"==b)&&this.layout()})},startup:function(){if(!this._started&&(this.inherited(arguments),!this._initialized)){var b=this.getChildren();if(!(1>b.length))this._initialized=!0,k.add(this.domNode,"dijitTableLayout"),g.forEach(b,function(a){!a.started&&!a._started&&a.startup()}),this.resize(),this.layout()}},resize:function(){g.forEach(this.getChildren(),function(b){"function"==typeof b.resize&&b.resize()})},
layout:function(){function b(a,c,f){if(""!=e.customClass){var d=e.customClass+"-"+(c||a.tagName.toLowerCase());k.add(a,d);2<arguments.length&&k.add(a,d+"-"+f)}}if(this._initialized){var a=this.getChildren(),f={},e=this;g.forEach(this._children,o.hitch(this,function(a){f[a.id]=a}));g.forEach(a,o.hitch(this,function(a){f[a.id]||this._children.push(a)}));var h=c.create("table",{width:"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,cellspacing:this.spacing},this.domNode),
l=c.create("tbody");h.appendChild(l);b(h,"table",this.orientation);var w=c.create("tr",{},l),u=!this.showLabels||"horiz"==this.orientation?w:c.create("tr",{},l),x=this.cols*(this.showLabels?2:1),t=0;g.forEach(this._children,o.hitch(this,function(a,f){var e=a.colspan||1;1<e&&(e=this.showLabels?Math.min(x-1,2*e-1):Math.min(x,e));if(t+e-1+(this.showLabels?1:0)>=x)t=0,w=c.create("tr",{},l),u="horiz"==this.orientation?w:c.create("tr",{},l);var g;if(this.showLabels)if(g=c.create("td",{"class":"tableContainer-labelCell"},
w),a.spanLabel)q.set(g,"vert"==this.orientation?"rowspan":"colspan",2);else{b(g,"labelCell");var k={"for":a.get("id")},k=c.create("label",k,g);if(-1<Number(this.labelWidth)||-1<(""+this.labelWidth).indexOf("%"))n.set(g,"width",0>(""+this.labelWidth).indexOf("%")?this.labelWidth+"px":this.labelWidth);k.innerHTML=a.get("label")||a.get("title")}g=a.spanLabel&&g?g:c.create("td",{"class":"tableContainer-valueCell"},u);1<e&&q.set(g,"colspan",e);b(g,"valueCell",f);g.appendChild(a.domNode);t+=e+(this.showLabels?
1:0)}));this.table&&this.table.parentNode.removeChild(this.table);g.forEach(a,function(a){"function"==typeof a.layout&&a.layout()});this.table=h;this.resize()}},destroyDescendants:function(b){g.forEach(this._children,function(a){a.destroyRecursive(b)})},_setSpacingAttr:function(b){this.spacing=b;if(this.table)this.table.cellspacing=Number(b)}});h.ChildWidgetProperties={label:"",title:"",spanLabel:!1,colspan:1};o.extend(e,h.ChildWidgetProperties);return h})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(h,o,l,k,c,g,q,n,e){return g("dijit.layout._LayoutWidget",[o,l,k],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();if(!b||!b.isLayoutContainer)this.resize(),this.own(c.on("resize",h.hitch(this,"resize")))}},resize:function(b,c){var a=this.domNode;b&&n.setMarginBox(a,b);var f=c||{};h.mixin(f,b||
{});if(!("h"in f)||!("w"in f))f=h.mixin(n.getMarginBox(a),f);var g=e.getComputedStyle(a),k=n.getMarginExtents(a,g),q=n.getBorderExtents(a,g),f=this._borderBox={w:f.w-(k.w+q.w),h:f.h-(k.h+q.h)},k=n.getPadExtents(a,g);this._contentBox={l:e.toPixelValue(a,g.paddingLeft),t:e.toPixelValue(a,g.paddingTop),w:f.w-k.w,h:f.h-k.h};this.layout()},layout:function(){},_setupChild:function(b){q.add(b.domNode,this.baseClass+"-child "+(b.baseClass?this.baseClass+"-"+b.baseClass:""))},addChild:function(b,c){this.inherited(arguments);
this._started&&this._setupChild(b)},removeChild:function(b){q.remove(b.domNode,this.baseClass+"-child"+(b.baseClass?" "+this.baseClass+"-"+b.baseClass:""));this.inherited(arguments)}})})},"moch/app/mobile":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/ready,dojo/on,moch/app/_base,dojox/mobile/ViewController".split(","),function(h,o,l,k,c,g){var q=g.getInstance(),n=h([c.getBaseClass()],{online:!1,login_view:"login_view",constructor:function(){var b=this;l(function(){k(document,"online",
o.hitch(b,b.onOnline));k(document,"offline",o.hitch(b,b.onOffine))})},notification:function(b,c,a,f){navigator.notification&&"function"==typeof navigator.notification.alert?navigator.notification.alert(b,c,a,f):this.confirm(a+":"+b).then(function(a){!0==a&&"function"==typeof c&&c()})},onUserLogin:function(){var b=q.findTransitionViews(this.login_view);if(3==b.length){var c=b[0],b=b[1];null!=c&&null!=b&&c.id!=b.id&&c.performTransition(b.id,1,"coverv")}},onOnline:function(){this.log("we are now online")},
onOffline:function(){this.log("we are now offline")}}),e;c.getInstance=function(){e||(e=new n(c._init));return e};return c})},"moch/app/_base":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/config,dojo/_base/array,dojo/_base/Deferred,dojo/json,dojo/ready,dojo/on,dojo/topic,dojo/cookie,dojo/store/JsonRest,dojo/store/Memory,dojo/store/Cache,dojo/store/Observable,moch/data/ObjectStore,dojo/rpc/JsonService,moch/mochx/EventSource,dojo/has,dojo/_base/sniff".split(","),function(h,o,l,k,
c,g,q,n,e,b,d,a,f,p,r,s,w,u){var x=null,t="/service";if("string"==typeof l.service_uri)t=l.service_uri;null===l.service_uri&&(t=null);var y=h(null,{loggedin:!1,domain_name:null,auto_login:!1,last_status:{},_domain_ready:!1,_user_ready:!1,_login_wait:!1,_service_rpc:null,_user_config:{},_action_allows:{},_poll_interval:6E5,_stores:{},constructor:function(a){if(null!=x)throw Error("only one instance are allowed at a time, of the application class");8>u("ie")&&alert("Your Internet Explorer is too old, please upgrade to the latest");
o.mixin(this,a);a="Essens";if(l.title)a=l.title;window.document.title=a;if("string"==typeof t){this._domain_open();e.subscribe("moch/loggedin",o.hitch(this,function(){this.rpc().status().then(o.hitch(this,function(a){this.last_status=a;if(a.error&&!1==a.loggedin)this._domain_ready=!1;this._login_setup(a.loggedin)}))}));var b=this._stores,c=this.log;e.subscribe("moch/entity_update",function(a,c,f){if(a in b){var d=b[a],a=d.get(c);"function"==typeof a.then?a.then(function(a){a=o.mixin(a,f);d.notify(a,
c)}):(a=o.mixin(a,f),d.notify(a,c))}});e.subscribe("moch/entity_create",function(a,f){if(a in b){var d=b[a];try{d.notify(f)}catch(e){c("error adding new item to ",a," store : ",e)}}});e.subscribe("moch/entity_delete",function(a,c){if(a in b){var f=b[a];f._cache&&f._cache.evict(c);f.notify(void 0,c)}})}else q(o.hitch(this,function(){this.onReady()}));require.on("error",o.hitch(this,this.error_report));if("boolean"==typeof l.auto_login)this.auto_login=l.auto_login;x=this},log:function(){console&&console.log&&
console.log.apply(console,arguments)},client_log:function(a){this.log(a);try{this.rpc().domain_log(a,"notice")}catch(b){console.error(b)}},reload:function(){"function"==typeof location.reload||"object"==typeof location.reload?location.reload():location.href=location.href},error_report:function(a){if(this.log){this.log(a);try{"string"!=typeof a&&(a=a.toString()),this.rpc().domain_log(a,"error")}catch(b){console.error(b)}if(void 0==this._show_error_alert){var c=this;this.config_get("base/show_error_alert").then(function(b){c._show_error_alert=
b;!0==c._show_error_alert&&alert(a)})}else!0==this._show_error_alert&&alert(a)}else console.error(a)},store_find:function(b,c){if(null==t)throw Error("config.service_uri are null, no backend support");if(!(b in this._stores)){var e={};"object"==typeof c&&(e=c);if(e.labelAttribute)e.labelProperty=e.labelAttribute;e.target=t+"/entity/"+b+"/";var g=new a,k=new f(new d(e),g),h=new p(k),n=h.query,q=this.error_report,l=this;h.query=function(a,b){(results=n.apply(l,arguments))&&results.then&&results.then(function(){},
q);return results};h._args=e;h._cache=k;h._memory=g;this._stores[b]=h}return this._stores[b]},object_store_find:function(a,b){var c={objectStore:this.store_find(a,b)},c=o.mixin(c,c.objectStore._args);return new r(c)},action_allow:function(a,b,c){return this._action_allows?this._action_allows[a+b+c]:!1},rpc:function(){if(null==t)throw Error("config.service_uri are null, no backend support");if(!this._service_rpc){var a=new s(t+"/json/service.smd?simple=1"),b=this,f=a.user_login;a.user_login=function(a){var d=
new c;f(a).then(function(a){d.resolve(a)},function(c){c.code&&b._service_rpc.domain_open(l.domain_name).then(function(){f(a).then(function(a){d.resolve(a)})})});return d};if(!l.sse_events&&!this._evs){var d=a.entity_update;a.entity_update=function(b,c,f){var g=d.apply(a,arguments);g.then(function(){e.publish("moch/entity_update",b,c,f)});return g};var g=a.entity_create;a.entity_create=function(b,c){var f=g.apply(a,arguments);f.then(function(){e.publish("moch/entity_create",b,c)});return f};var k=
a.entity_delete;a.entity_delete=function(b,c){var f=k.apply(a,arguments);f.then(function(){e.publish("moch/entity_create",b,c)});return f}}a.strictArgChecks=!1;this._service_rpc=a}return this._service_rpc},config_get:function(a){var b=null;if(a in this._user_config)b=new c,b.resolve(this._user_config[a]);else{var f=this,b=this.rpc().user_config_get(a);b.then(function(b){f._user_config[a]=b})}return b},config_set:function(a,b){if(this._user_config[a]!=b){var c=this;this.rpc().user_config_set(a,b).then(function(f){f&&
(c._user_config[a]=b)})}},addServerEvent:function(a,b){var c=this;this._evs&&this._evs.addEventListener(a,function(a){a=g.parse(a.data);b.apply(c,[a])})},_sse_start:function(){if(!0==this.loggedin&&"string"==typeof t){if(void 0==this._evs)this._evs=new w(t+"/sse"),this.addServerEvent("entity_update",function(a){e.publish("moch/entity_update",a.entity_name,a.key,a.value)}),this.addServerEvent("entity_create",function(a){e.publish("moch/entity_create",a.entity_name,a.value)}),this.addServerEvent("entity_delete",
function(a){e.publish("moch/entity_delete",a.entity_name,a.key)}),this.addServerEvent("base_notice_send",function(a){e.publish("moch/notice",a)}),this.onServerEventReady()}else if(this._evs)this._evs.close(),this._evs=void 0},_setup_ready:function(){if(!this._status_poll_start)this._status_poll_start=!0,this._status_poll(!0),this.onReady(),this._user_ready=!0},_domain_open:function(){var a=this,f=new c;if(this._domain_ready)f.resolve(a.domain_name);else{if("string"!=typeof l.domain_name)throw Error("Missing domain name in config");
this.rpc().domain_open(l.domain_name).then(function(){if(!a.domain_name)a.domain_name=l.domain_name;!0==l.keep_locale?(a._setup_ready(),a._domain_ready=!0,f.resolve(a.domain_name)):a.config_get("locale").then(function(c){c&&l.locale!=c&&b("locale")!=c&&(b("locale",c,{expires:1}),a.reload());a._setup_ready();a._domain_ready=!0;f.resolve(a.domain_name)})})}return f},_login_setup:function(a,c){var f=this;if(a!=this.loggedin||!0==c)if(this.loggedin=a){this.rpc().entity_list("base_task_action_report",
{}).then(o.hitch(this,function(a){var b=this._action_allows;k.forEach(a,function(a){b[a.module_name+a.resource_name+a.action_name]=!0})}),this.error_report);var d=o.hitch(this,function(){l.sse_events&&this._sse_start();this._setup_ready();this._domain_ready=!0;if(!1==this._user_ready)this.onReady(),this._user_ready=!0;this.onLogin();this._login_wait=!1});!0==l.keep_locale?d():this.config_get("locale").then(function(a){a&&l.locale!=a&&b("locale")!=a&&(b("locale",a,{expires:1}),f.reload());d()})}else f._action_allows=
{},b("locale",null,{expires:-1}),this.onLogout(),this._user_config={},this._service_rpc=null,this._domain_open().then(o.hitch(this,function(){if(!0==this.auto_login&&!1==this._login_wait)this._login_wait=!0,this.onUserLogin()}))},_status_poll:function(a){this.rpc().status().then(o.hitch(this,function(b){this.last_status=b;if("number"==typeof b.reload_timer)this._poll_interval=1E3*b.reload_timer;if(b.error&&!1==b.loggedin)this._domain_ready=!1;this._login_setup(b.loggedin,a)}),o.hitch(this,function(){this._domain_ready=
!1;this.last_status={};this._login_setup(!1)}));setTimeout(o.hitch(this,this._status_poll),this._poll_interval)},onUserLogin:function(){this.log("Don't know how to login, sorry")},onReady:function(){},onServerEventReady:function(){},onLogin:function(){this.log("user is logged in")},onLogout:function(){this.log("user is logged out")},confirm:function(a){var b=new c;setTimeout(function(){b.resolve(confirm(a))},10);return b},alert:function(a){var b=new c;setTimeout(function(){alert(a);b.resolve()},10);
return b},prompt:function(a,b){var f=new c;setTimeout(function(){f.resolve(prompt(a,b))},10);return f}}),v,A={_init:void 0,_set_app:function(a){v=a},_app:function(){return v},getInstance:function(){v||(v=new y(A._init));return v},init:function(a){q(function(){A._init=a;A.getInstance()})},store_find:function(a,b){return A.getInstance().store_find(a,b)},rpc:function(){return A.getInstance().rpc()},getBaseClass:function(){return y}};return A})},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel",
"./regexp"],function(h,o){h.cookie=function(h,k,c){var g=document.cookie,q;if(1==arguments.length)q=(q=g.match(RegExp("(?:^|; )"+o.escapeString(h)+"=([^;]*)")))?decodeURIComponent(q[1]):void 0;else{c=c||{};g=c.expires;if("number"==typeof g){var n=new Date;n.setTime(n.getTime()+864E5*g);g=c.expires=n}if(g&&g.toUTCString)c.expires=g.toUTCString();var k=encodeURIComponent(k),g=h+"="+k,e;for(e in c)g+="; "+e,n=c[e],!0!==n&&(g+="="+n);document.cookie=g}return q};h.cookie.isSupported=function(){if(!("cookieEnabled"in
navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return h.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,o){var l={};o.setObject("dojo.regexp",l);l.escapeString=function(k,c){return k.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(g){return c&&-1!=c.indexOf(g)?g:"\\"+g})};l.buildGroupRE=function(k,
c,g){if(!(k instanceof Array))return c(k);for(var h=[],n=0;n<k.length;n++)h.push(c(k[n]));return l.group(h.join("|"),g)};l.group=function(k,c){return"("+(c?"?:":"")+k+")"};return l})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(h,o,l,k,c){return k("dojo.store.JsonRest",null,{constructor:function(c){this.headers={};k.safeMixin(this,c)},headers:{},target:"",idProperty:"id",get:function(c,k){var k=k||{},n=o.mixin({Accept:this.accepts},
this.headers,k.headers||k);return h("GET",{url:this.target+c,handleAs:"json",headers:n})},accepts:"application/javascript, application/json",getIdentity:function(c){return c[this.idProperty]},put:function(c,k){var k=k||{},n="id"in k?k.id:this.getIdentity(c),e="undefined"!=typeof n;return h(e&&!k.incremental?"PUT":"POST",{url:e?this.target+n:this.target,postData:l.stringify(c),handleAs:"json",headers:o.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===k.overwrite?"*":null,
"If-None-Match":!1===k.overwrite?"*":null},this.headers,k.headers)})},add:function(c,k){k=k||{};k.overwrite=!1;return this.put(c,k)},remove:function(c,k){k=k||{};return h("DELETE",{url:this.target+c,headers:o.mixin({},this.headers,k.headers)})},query:function(g,k){var k=k||{},n=o.mixin({Accept:this.accepts},this.headers,k.headers);if(0<=k.start||0<=k.count)n.Range=n["X-Range"]="items="+(k.start||"0")+"-"+("count"in k&&Infinity!=k.count?k.count+(k.start||0)-1:"");var e=-1<this.target.indexOf("?");
g&&"object"==typeof g&&(g=(g=h.objectToQuery(g))?(e?"&":"?")+g:"");if(k&&k.sort){for(var b=this.sortParam,g=g+((g||e?"&":"?")+(b?b+"=":"sort(")),e=0;e<k.sort.length;e++)var d=k.sort[e],g=g+((0<e?",":"")+(d.descending?"-":"+")+encodeURIComponent(d.attribute));b||(g+=")")}var a=h("GET",{url:this.target+(g||""),handleAs:"json",headers:n});a.total=a.then(function(){var b=a.ioArgs.xhr.getResponseHeader("Content-Range");return b&&(b=b.match(/\/(.*)/))&&+b[1]});return c(a)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array",
"../../_base/lang","../../_base/Deferred"],function(h,o,l){var k=function(c){function g(g){c[g]||(c[g]=function(){var n=arguments;return l.when(c,function(c){Array.prototype.unshift.call(n,c);return k(h[g].apply(h,n))})})}if(!c)return c;c.then&&(c=o.delegate(c));g("forEach");g("filter");g("map");if(!c.total)c.total=l.when(c,function(c){return c.length});return c};o.setObject("dojo.store.util.QueryResults",k);return k})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults",
"./util/SimpleQueryEngine"],function(h,o,l){return h("dojo.store.Memory",null,{constructor:function(k){for(var c in k)this[c]=k[c];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(k){return this.data[this.index[k]]},getIdentity:function(k){return k[this.idProperty]},put:function(k,c){var g=this.data,h=this.index,n=this.idProperty,n=k[n]=c&&"id"in c?c.id:n in k?k[n]:Math.random();if(n in h){if(c&&!1===c.overwrite)throw Error("Object already exists");g[h[n]]=
k}else h[n]=g.push(k)-1;return n},add:function(k,c){(c=c||{}).overwrite=!1;return this.put(k,c)},remove:function(k){var c=this.index,g=this.data;if(k in c)return g.splice(c[k],1),this.setData(g),!0},query:function(k,c){return o(this.queryEngine(k,c)(this.data))},setData:function(k){var a;k.items?(this.idProperty=k.identifier,a=this.data=k.items,k=a):this.data=k;this.index={};for(var c=0,g=k.length;c<g;c++)this.index[k[c][this.idProperty]]=c}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],
function(h){return function(o,l){function k(c){var c=h.filter(c,o),k=l&&l.sort;k&&c.sort("function"==typeof k?k:function(c,b){for(var d,a=0;d=k[a];a++){var f=c[d.attribute],g=b[d.attribute];if(f!=g)return!!d.descending==(null==f||f>g)?-1:1}return 0});if(l&&(l.start||l.count)){var n=c.length,c=c.slice(l.start||0,(l.start||0)+(l.count||Infinity));c.total=n}return c}switch(typeof o){default:throw Error("Can not query with a "+typeof o);case "object":case "undefined":var c=o,o=function(g){for(var k in c){var h=
c[k];if(h&&h.test){if(!h.test(g[k],g))return!1}else if(h!=g[k])return!1}return!0};break;case "string":if(!this[o])throw Error("No filter function "+o+" was found in store");o=this[o];case "function":}k.matches=o;return k}})},"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(h,o){var l=function(k,c,g){g=g||{};return h.delegate(k,{query:function(h,n){var e=k.query(h,n);e.forEach(function(b){(!g.isLoaded||g.isLoaded(b))&&c.put(b)});return e},queryEngine:k.queryEngine||
c.queryEngine,get:function(g,h){return o.when(c.get(g),function(e){return e||o.when(k.get(g,h),function(b){b&&c.put(b,{id:g});return b})})},add:function(g,h){return o.when(k.add(g,h),function(e){c.add("object"==typeof e?e:g,h);return e})},put:function(g,h){c.remove(h&&h.id||this.getIdentity(g));return o.when(k.put(g,h),function(e){c.put("object"==typeof e?e:g,h);return e})},remove:function(g,h){return o.when(k.remove(g,h),function(){return c.remove(g,h)})},evict:function(g){return c.remove(g)}})};
h.setObject("dojo.store.Cache",l);return l})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(h,o,l,k){h=function(c){function g(d,a){var f=c[d];f&&(c[d]=function(c){if(b)return f.apply(this,arguments);b=!0;try{var d=f.apply(this,arguments);l.when(d,function(b){a("object"==typeof b&&b||c)});return d}finally{b=!1}})}var h=[],n=0,c=o.delegate(c);c.notify=function(b,a){n++;for(var c=h.slice(),e=0,g=c.length;e<g;e++)c[e](b,a)};
var e=c.query;c.query=function(b,a){var a=a||{},f=e.apply(this,arguments);if(f&&f.forEach){var g=o.mixin({},a);delete g.start;delete g.count;var r=c.queryEngine&&c.queryEngine(b,g),s=n,w=[],u;f.observe=function(b,d){1==w.push(b)&&h.push(u=function(b,e){l.when(f,function(f){var g=f.length!=a.count,h,p;if(++s!=n)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var q,l=-1,o=-1;if(void 0!==e)for(h=0,p=f.length;h<p;h++){var x=f[h];if(c.getIdentity(x)==e){q=
x;l=h;(r||!b)&&f.splice(h,1);break}}if(r){if(b&&(r.matches?r.matches(b):r([b]).length))h=-1<l?l:f.length,f.splice(h,0,b),o=k.indexOf(r(f),b),f.splice(h,1),a.start&&0==o||!g&&o==f.length?o=-1:f.splice(o,0,b)}else b&&(void 0!==e?o=l:a.start||(o=c.defaultIndex||0,f.splice(o,0,b)));if((-1<l||-1<o)&&(d||!r||l!=o)){g=w.slice();for(h=0;f=g[h];h++)f(b||q,l,o)}})});var e={};e.remove=e.cancel=function(){var a=k.indexOf(w,b);-1<a&&(w.splice(a,1),w.length||h.splice(k.indexOf(h,u),1))};return e}}return f};var b;
g("put",function(b){c.notify(b,c.getIdentity(b))});g("add",function(b){c.notify(b)});g("remove",function(b){c.notify(void 0,b)});return c};o.setObject("dojo.store.Observable",h);return h})},"moch/data/ObjectStore":function(){define(["dojo/_base/declare","dojo/on","dojo/data/ObjectStore"],function(h,o,l){return h([l],{resetValue:function(k,c,g){var h=k[c];k[c]=g;this.onSet(k,c,h,g)},constructor:function(k){this._dirtyObjects=[];this.inherited(arguments)},loadItemByIdentity:function(k,c){var g=c?c:
{};g.identity=k;g.onItem=dojo.hitch(this,function(c){this.onNew(c)});return this.fetchItemByIdentity(g)},makeClean:function(){this._dirtyObjects=[]},fetchDirty:function(k){"object"==typeof k&&"function"==typeof k.onItem&&dojo.forEach(this._dirtyObjects,function(c){"object"==typeof c.object&&k.onItem.call(this,c.object)})}})})},"dojo/data/ObjectStore":function(){define("../_base/lang,../Evented,../_base/declare,../_base/Deferred,../_base/array,../_base/connect,../regexp".split(","),function(h,o,l,
k,c,g,q){function n(c){return"*"==c?".*":"?"==c?".":c}return l("dojo.data.ObjectStore",[o],{objectStore:null,constructor:function(c){this._dirtyObjects=[];if(c.labelAttribute)c.labelProperty=c.labelAttribute;h.mixin(this,c)},labelProperty:"label",getValue:function(c,b,d){return"function"===typeof c.get?c.get(b):b in c?c[b]:d},getValues:function(c,b){var d=this.getValue(c,b);return d instanceof Array?d:void 0===d?[]:[d]},getAttributes:function(c){var b=[],d;for(d in c)c.hasOwnProperty(d)&&!("_"==d.charAt(0)&&
"_"==d.charAt(1))&&b.push(d);return b},hasAttribute:function(c,b){return b in c},containsValue:function(e,b,d){return-1<c.indexOf(this.getValues(e,b),d)},isItem:function(c){return"object"==typeof c&&c&&!(c instanceof Date)},isItemLoaded:function(c){return c&&"function"!==typeof c.load},loadItem:function(c){var b;"function"===typeof c.item.load?k.when(c.item.load(),function(d){b=d;var a=d instanceof Error?c.onError:c.onItem;a&&a.call(c.scope,d)}):c.onItem&&c.onItem.call(c.scope,c.item);return b},close:function(c){return c&&
c.abort&&c.abort()},fetch:function(e){function b(b){e.onError&&e.onError.call(a,b,e)}var e=h.delegate(e,e&&e.queryOptions),d=this,a=e.scope||d,f=e.query;if("object"==typeof f){var f=h.delegate(f),g;for(g in f){var l=f[g];if("string"==typeof l)f[g]=RegExp("^"+q.escapeString(l,"*?\\").replace(/\\.|\*|\?/g,n)+"$",e.ignoreCase?"mi":"m"),f[g].toString=function(a){return function(){return a}}(l)}}var o=this.objectStore.query(f,e);k.when(o.total,function(c){k.when(o,function(b){e.onBegin&&e.onBegin.call(a,
c||b.length,e);if(e.onItem)for(var f=0;f<b.length;f++)e.onItem.call(a,b[f],e);e.onComplete&&e.onComplete.call(a,e.onItem?null:b,e);return b},b)},b);e.abort=function(){o.cancel&&o.cancel()};if(o.observe)this.observing&&this.observing.cancel(),this.observing=o.observe(function(a,b,f){if(-1==c.indexOf(d._dirtyObjects,a))if(-1==b)d.onNew(a);else if(-1==f)d.onDelete(a);else for(var e in a)if(e!=d.objectStore.idProperty)d.onSet(a,e,null,a[e])},!0);this.onFetch(o);e.store=this;return e},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,
"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(c){if(this.isItem(c))return this.getValue(c,this.labelProperty)},getLabelAttributes:function(){return[this.labelProperty]},getIdentity:function(c){return this.objectStore.getIdentity?this.objectStore.getIdentity(c):c[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(){return[this.objectStore.idProperty]},fetchItemByIdentity:function(c){var b;k.when(this.objectStore.get(c.identity),
function(d){b=d;c.onItem.call(c.scope,d)},function(b){c.onError.call(c.scope,b)});return b},newItem:function(c,b){if(b){var d=this.getValue(b.parent,b.attribute,[]),d=d.concat([c]);c.__parent=d;this.setValue(b.parent,b.attribute,d)}this._dirtyObjects.push({object:c,save:!0});this.onNew(c);return c},deleteItem:function(c){this.changing(c,!0);this.onDelete(c)},setValue:function(c,b,d){var a=c[b];this.changing(c);c[b]=d;this.onSet(c,b,a,d)},setValues:function(c,b,d){if(!h.isArray(d))throw Error("setValues expects to be passed an Array object as its value");
this.setValue(c,b,d)},unsetAttribute:function(c,b){this.changing(c);var d=c[b];delete c[b];this.onSet(c,b,d,void 0)},changing:function(c,b){c.__isDirty=!0;for(var d=0;d<this._dirtyObjects.length;d++){var a=this._dirtyObjects[d];if(c==a.object){if(b&&(a.object=!1,!this._saveNotNeeded))a.save=!0;return}}a=c instanceof Array?[]:{};for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);this._dirtyObjects.push({object:!b&&c,old:a,save:!this._saveNotNeeded})},save:function(c){var c=c||{},b,d=[],a=[],f=this,h=this._dirtyObjects,
n=h.length;try{g.connect(c,"onError",function(){if(!1!==c.revertOnError){var b=h;h=a;f.revert();f._dirtyObjects=b}else f._dirtyObjects=h.concat(a)});if(this.objectStore.transaction)var l=this.objectStore.transaction();for(var q=0;q<h.length;q++){var o=h[q],x=o.object,t=o.old;delete x.__isDirty;x?b=this.objectStore.put(x,{overwrite:!!t}):"undefined"!=typeof t&&(b=this.objectStore.remove(this.getIdentity(t)));a.push(o);h.splice(q--,1);k.when(b,function(){--n||c.onComplete&&c.onComplete.call(c.scope,
d)},function(a){n=-1;c.onError.call(c.scope,a)})}l&&l.commit()}catch(y){c.onError.call(c.scope,value)}},revert:function(){for(var c=this._dirtyObjects,b=c.length;0<b;){b--;var d=c[b],a=d.object,d=d.old;if(a&&d){for(var f in d)d.hasOwnProperty(f)&&a[f]!==d[f]&&(this.onSet(a,f,a[f],d[f]),a[f]=d[f]);for(f in a)d.hasOwnProperty(f)||(this.onSet(a,f,a[f]),delete a[f])}else if(d)this.onNew(d);else this.onDelete(a);delete (a||d).__isDirty;c.splice(b,1)}},isDirty:function(c){return!c?!!this._dirtyObjects.length:
c.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(){}})})},"dojo/rpc/JsonService":function(){define("../_base/declare,../_base/Deferred,../_base/json,../_base/lang,../_base/xhr,./RpcService".split(","),function(h,o,l,k,c,g){return h("dojo.rpc.JsonService",g,{bustCache:!1,contentType:"application/json-rpc",lastSubmissionId:0,callRemote:function(c,g){var e=new o;this.bind(c,g,e);return e},bind:function(g,k,e,b){c.post({url:b||this.serviceUrl,postData:this.createRequest(g,
k),contentType:this.contentType,timeout:this.timeout,handleAs:"json-comment-optional"}).addCallbacks(this.resultCallback(e),this.errorCallback(e))},createRequest:function(c,g){var e={params:g,method:c,id:++this.lastSubmissionId};return l.toJson(e)},parseResults:function(c){if(k.isObject(c)){if("result"in c)return c.result;if("Result"in c)return c.Result;if("ResultSet"in c)return c.ResultSet}return c}})})},"dojo/rpc/RpcService":function(){define("../_base/array,../_base/declare,../_base/Deferred,../_base/kernel,../_base/lang,../_base/url,../_base/xhr".split(","),
function(h,o,l,k,c,g,q){return o("dojo.rpc.RpcService",null,{constructor:function(h){if(h)if(c.isString(h)||h instanceof g){var e=q.get({url:h instanceof g?h+"":h,handleAs:"json-comment-optional",sync:!0});e.addCallback(this,"processSmd");e.addErrback(function(){throw Error("Unable to load SMD from "+h);})}else if(h.smdStr)this.processSmd(k.eval("("+h.smdStr+")"));else{if(h.serviceUrl)this.serviceUrl=h.serviceUrl;this.timeout=h.timeout||3E3;if("strictArgChecks"in h)this.strictArgChecks=h.strictArgChecks;
this.processSmd(h)}},strictArgChecks:!0,serviceUrl:"",parseResults:function(c){return c},errorCallback:function(c){return function(e){c.errback(e.message)}},resultCallback:function(g){return c.hitch(this,function(c){if(null!=c.error){var b;"object"==typeof c.error?(b=Error(c.error.message),b.code=c.error.code,b.error=c.error.error):b=Error(c.error);b.id=c.id;b.errorObject=c;g.errback(b)}else g.callback(this.parseResults(c))})},generateMethod:function(g,e,b){return c.hitch(this,function(){var d=new l;
if(this.strictArgChecks&&null!=e&&arguments.length!=e.length)throw Error("Invalid number of parameters for remote method.");this.bind(g,c._toArray(arguments),d,b);return d})},processSmd:function(g){g.methods&&h.forEach(g.methods,function(e){if(e&&e.name&&(this[e.name]=this.generateMethod(e.name,e.parameters,e.url||e.serviceUrl||e.serviceURL),!c.isFunction(this[e.name])))throw Error("RpcService: Failed to create"+e.name+"()");},this);this.serviceUrl=g.serviceUrl||g.serviceURL;this.required=g.required;
this.smd=g}})})},"dojo/_base/url":function(){define(["./kernel"],function(h){var o=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,k=function(){for(var c=arguments,g=[c[0]],h=1;h<c.length;h++)if(c[h]){var n=new k(c[h]+""),g=new k(g[0]+"");if(""==n.path&&!n.scheme&&!n.authority&&!n.query){if(null!=n.fragment)g.fragment=n.fragment;n=g}else if(!n.scheme&&(n.scheme=g.scheme,!n.authority&&(n.authority=g.authority,"/"!=n.path.charAt(0)))){for(var g=
(g.path.substring(0,g.path.lastIndexOf("/")+1)+n.path).split("/"),e=0;e<g.length;e++)"."==g[e]?e==g.length-1?g[e]="":(g.splice(e,1),e--):0<e&&!(1==e&&""==g[0])&&".."==g[e]&&".."!=g[e-1]&&(e==g.length-1?(g.splice(e,1),g[e-1]=""):(g.splice(e-1,2),e-=2));n.path=g.join("/")}g=[];n.scheme&&g.push(n.scheme,":");n.authority&&g.push("//",n.authority);g.push(n.path);n.query&&g.push("?",n.query);n.fragment&&g.push("#",n.fragment)}this.uri=g.join("");c=this.uri.match(o);this.scheme=c[2]||(c[1]?"":null);this.authority=
c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);if(null!=this.authority)c=this.authority.match(l),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null};k.prototype.toString=function(){return this.uri};return h._Url=k})},"moch/mochx/EventSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/_base/config"],function(h,o,l,k){if("undefined"!==typeof EventSource&&!0!=k.polyfill_eventsource)return EventSource;
var c=h([],{data:null,type:"message",lastEventId:"",origin:"",constructor:function(c,g,e){this.data=c;this.origin=g;this.lastEventId=e||""}}),g=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;return h([],{interval:500,CONNECTING:0,OPEN:1,CLOSED:2,onerror:null,onmessage:null,onopen:null,readyState:0,URL:"",lastEventId:null,constructor:function(c){this.inherited(arguments);if(!c||"string"!=typeof c||void 0==l("appsvr_id"))throw new SyntaxError("Not enough arguments given or missing appsvr_id cookie");this._url=c;this.readyState=
this.CONNECTING;this._xhr=this._pollTimer=null;"undefined"!==typeof XDomainRequest?(this._transport=XDomainRequest,this._url+="?appsvr_id="+l("appsvr_id")):this._transport=XMLHttpRequest;this.poll()},close:function(){this.readyState=this.CLOSED;clearInterval(this._pollTimer);this._xhr.abort()},dispatchEvent:function(c,g){var e=this["_"+c+"Handlers"];if(e)for(var b=0;b<e.length;b++)e[b].call(this,g);this["on"+c]&&this["on"+c].call(this,g)},addEventListener:function(c,g){this["_"+c+"Handlers"]||(this["_"+
c+"Handlers"]=[]);this["_"+c+"Handlers"].push(g)},removeEventListener:function(){},pollAgain:function(c){this._pollTimer=setTimeout(o.hitch(this,this.poll),c)},_parse:function(k){for(var h="message",e=[],b=0,d="";b<k.length;b++)d=k[b].replace(g,""),0==d.indexOf("event")?h=d.replace(/event:?\s*/,""):0==d.indexOf("retry")?(retry=parseInt(d.replace(/retry:?\s*/,"")),isNaN(retry)||(interval=retry)):0==d.indexOf("data")?e.push(d.replace(/data:?\s*/,"")):0==d.indexOf("id:")?es.lastEventId=d.replace(/id:?\s*/,
""):0==d.indexOf("id")?es.lastEventId=null:""==d&&e.length&&(e=new c(e.join("\n"),es._url,es.lastEventId),this.dispatchEvent(h,e),e=[],h="message")},poll:function(){try{if(this.readyState!=this.CLOSED){var c=this.interval,g=new this._transport;g.open("GET",this._url,!0);g.setRequestHeader&&(g.setRequestHeader("Accept","text/event-stream"),g.setRequestHeader("Cache-Control","no-cache"),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=this.lastEventId&&g.setRequestHeader("Last-Event-ID",
this.lastEventId));var e="";g.timeout=5E5;es=this;g.onerror=g.ontimeout=function(){es.pollAgain(c)};if("undefined"!==typeof XDomainRequest)g.onprogress=function(){var b="";try{b=g.responseText||""}catch(a){}es._parse(b.substr(e.length).split("\n"));e=b};g.onreadystatechange=function(){if((3==g.readyState||4==g.readyState)&&200==g.status){if(es.readyState==es.CONNECTING)es.readyState=es.OPEN,es.dispatchEvent("open",{type:"open"});var b="";try{b=g.responseText||""}catch(a){}es._parse(b.substr(e.length).split("\n"));
e=b;4==g.readyState&&es.pollAgain(c)}else if(es.readyState!==es.CLOSED)4==g.readyState?(es.readyState=es.CONNECTING,es.dispatchEvent("error",{type:"error"}),es.pollAgain(c)):0==g.readyState&&es.pollAgain(c)};g.send();setTimeout(function(){g.abort()},g.timeout);this._xhr=g}}catch(b){this.dispatchEvent("error",{type:"error",data:b.message}),console.error(b)}}})})},"moch/app/util":function(){define(["dojo/_base/declare","dojo/string","dojo/dom-construct","dojox/date/posix"],function(h,o,l){String.prototype.capitalize=
function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()};return{email_to_link:function(k){return"string"==typeof k?'<a class="link" href="mailto:'+k+'">'+k+"</a>":k},array_to_string:function(k){return"object"==typeof k?k.join(", "):k},appendCss:function(k){var c=document.getElementsByTagName("head")[0];l.create("link",{type:"text/css",rel:"stylesheet",href:k},c)},date_to_iso:function(k){"object"!=typeof k&&(k=new Date);var c=o.pad(k.getFullYear().toString(),4,"0",!1),c=c+o.pad((k.getMonth()+
1).toString(),2,"0",!1),c=c+o.pad(k.getDate().toString(),2,"0",!1),c=c+"T"+(o.pad(k.getHours().toString(),2,"0",!1)+":"),c=c+(o.pad(k.getMinutes().toString(),2,"0",!1)+":");return c+=o.pad(k.getSeconds().toString(),2,"0",!1)},iso_to_date:function(k){if("string"==typeof k){var c=k.match(/(\d{4})(\d{2})(\d{2})T(\d{2}):(\d{2}):(\d{2})/);c||(c=k.match(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/));if(c){var k=parseInt(c[1],10),g=parseInt(c[2],10)-1,h=parseInt(c[3],10),n=parseInt(c[4],10),e=parseInt(c[5],
10),c=parseInt(c[6],10);return new Date(k,g,h,n,e,c)}}return null},Delayed:function(k,c){var g;return function(h){"function"==typeof c&&(g&&clearTimeout(g),g=setTimeout(function(){c(h);clearTimeout(g);g=null},k))}}}})},"dojox/date/posix":function(){define(["dojo/_base/kernel","dojo/date","dojo/date/locale","dojo/string","dojo/cldr/supplemental"],function(h,o,l,k,c){h.getObject("date.posix",!0,dojox);dojox.date.posix.strftime=function(c,h,n){for(var e=null,b=function(a,b){return k.pad(a,b||2,e||"0")},
d=l._getGregorianBundle(n),a=function(f){switch(f){case "a":return l.getNames("days","abbr","format",n)[c.getDay()];case "A":return l.getNames("days","wide","format",n)[c.getDay()];case "b":case "h":return l.getNames("months","abbr","format",n)[c.getMonth()];case "B":return l.getNames("months","wide","format",n)[c.getMonth()];case "c":return l.format(c,{formatLength:"full",locale:n});case "C":return b(Math.floor(c.getFullYear()/100));case "d":return b(c.getDate());case "D":return a("m")+"/"+a("d")+
"/"+a("y");case "e":return null==e&&(e=" "),b(c.getDate());case "f":return null==e&&(e=" "),b(c.getMonth()+1);case "F":return a("Y")+"-"+a("m")+"-"+a("d");case "H":return b(c.getHours());case "I":return b(c.getHours()%12||12);case "j":return b(l._getDayOfYear(c),3);case "k":return null==e&&(e=" "),b(c.getHours());case "l":return null==e&&(e=" "),b(c.getHours()%12||12);case "m":return b(c.getMonth()+1);case "M":return b(c.getMinutes());case "n":return"\n";case "p":return d["dayPeriods-format-wide-"+
(12>c.getHours()?"am":"pm")];case "r":return a("I")+":"+a("M")+":"+a("S")+" "+a("p");case "R":return a("H")+":"+a("M");case "S":return b(c.getSeconds());case "t":return"\t";case "T":return a("H")+":"+a("M")+":"+a("S");case "u":return""+(c.getDay()||7);case "U":return b(l._getWeekOfYear(c));case "V":return b(dojox.date.posix.getIsoWeekOfYear(c));case "W":return b(l._getWeekOfYear(c,1));case "w":return""+c.getDay();case "x":return l.format(c,{selector:"date",formatLength:"full",locale:n});case "X":return l.format(c,
{selector:"time",formatLength:"full",locale:n});case "y":return b(c.getFullYear()%100);case "Y":return""+c.getFullYear();case "z":return f=c.getTimezoneOffset(),(0<f?"-":"+")+b(Math.floor(Math.abs(f)/60))+":"+b(Math.abs(f)%60);case "Z":return o.getTimezoneName(c);case "%":return"%"}},f="",p=0,r=0,s=null;-1!=(r=h.indexOf("%",p));){f+=h.substring(p,r++);switch(h.charAt(r++)){case "_":e=" ";break;case "-":e="";break;case "0":e="0";break;case "^":s="upper";break;case "*":s="lower";break;case "#":s="swap";
break;default:e=null,r--}p=a(h.charAt(r++));switch(s){case "upper":p=p.toUpperCase();break;case "lower":p=p.toLowerCase();break;case "swap":for(var s=p.toLowerCase(),w="",u="",x=0;x<p.length;x++)u=p.charAt(x),w+=u==s.charAt(x)?u.toUpperCase():u.toLowerCase();p=w}s=null;f+=p;p=r}return f+=h.substring(p)};dojox.date.posix.getStartOfWeek=function(g,k){isNaN(k)&&(k=c.getFirstDayOfWeek?c.getFirstDayOfWeek():0);var h=k,h=g.getDay()>=k?h-g.getDay():h-(7-g.getDay()),e=new Date(g);e.setHours(0,0,0,0);return o.add(e,
"day",h)};dojox.date.posix.setIsoWeekOfYear=function(c,k){if(!k)return c;var h=dojox.date.posix.getIsoWeekOfYear(c),e=k-h;0>k&&(e=dojox.date.posix.getIsoWeeksInYear(c)+k+1-h);return o.add(c,"week",e)};dojox.date.posix.getIsoWeekOfYear=function(c){var k=dojox.date.posix.getStartOfWeek(c,1),c=new Date(c.getFullYear(),0,4),c=dojox.date.posix.getStartOfWeek(c,1),c=k.getTime()-c.getTime();return 0>c?dojox.date.posix.getIsoWeeksInYear(k):Math.ceil(c/6048E5)+1};dojox.date.posix.getIsoWeeksInYear=function(c){function k(c){return c+
Math.floor(c/4)-Math.floor(c/100)+Math.floor(c/400)}c=c.getFullYear();return 4==k(c)%7||3==k(c-1)%7?53:52};return dojox.date.posix})},"dojo/date":function(){define("dojo/date",["./has","./_base/lang"],function(h,o){var l={};l.getDaysInMonth=function(k){var c=k.getMonth(),g=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==c&&l.isLeapYear(k)?29:g[c]};l.isLeapYear=function(k){k=k.getFullYear();return!(k%400)||!(k%4)&&!!(k%100)};l.getTimezoneName=function(k){var c=k.toString(),g="",h=c.indexOf("(");if(-1<
h)g=c.substring(++h,c.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,c=c.match(h))g=c[1];else if(c=k.toLocaleString(),h=/ ([A-Z\/]+)$/,c=c.match(h))g=c[1];return"AM"==g||"PM"==g?"":g};l.compare=function(k,c,g){k=new Date(+k);c=new Date(+(c||new Date));"date"==g?(k.setHours(0,0,0,0),c.setHours(0,0,0,0)):"time"==g&&(k.setFullYear(0,0,0),c.setFullYear(0,0,0));return k>c?1:k<c?-1:0};l.add=function(k,c,g){var h=new Date(+k),n=!1,e="Date";switch(c){case "day":break;case "weekday":var b;(c=g%5)?b=parseInt(g/
5):(c=0<g?5:-5,b=0<g?(g-5)/5:(g+5)/5);var d=k.getDay(),a=0;6==d&&0<g?a=1:0==d&&0>g&&(a=-1);d+=c;if(0==d||6==d)a=0<g?2:-2;g=7*b+c+a;break;case "year":e="FullYear";n=!0;break;case "week":g*=7;break;case "quarter":g*=3;case "month":n=!0;e="Month";break;default:e="UTC"+c.charAt(0).toUpperCase()+c.substring(1)+"s"}if(e)h["set"+e](h["get"+e]()+g);n&&h.getDate()<k.getDate()&&h.setDate(0);return h};l.difference=function(k,c,g){var c=c||new Date,g=g||"day",h=c.getFullYear()-k.getFullYear(),n=1;switch(g){case "quarter":k=
k.getMonth();c=c.getMonth();k=Math.floor(k/3)+1;c=Math.floor(c/3)+1;n=c+4*h-k;break;case "weekday":h=Math.round(l.difference(k,c,"day"));g=parseInt(l.difference(k,c,"week"));if(0==h%7)h=5*g;else{var n=0,e=k.getDay(),b=c.getDay(),g=parseInt(h/7),c=h%7,k=new Date(k);k.setDate(k.getDate()+7*g);k=k.getDay();if(0<h)switch(!0){case 6==e:n=-1;break;case 0==e:n=0;break;case 6==b:n=-1;break;case 0==b:n=-2;break;case 5<k+c:n=-2}else if(0>h)switch(!0){case 6==e:n=0;break;case 0==e:n=1;break;case 6==b:n=2;break;
case 0==b:n=1;break;case 0>k+c:n=2}h=h+n-2*g}n=h;break;case "year":n=h;break;case "month":n=c.getMonth()-k.getMonth()+12*h;break;case "week":n=parseInt(l.difference(k,c,"day")/7);break;case "day":n/=24;case "hour":n/=60;case "minute":n/=60;case "second":n/=1E3;case "millisecond":n*=c.getTime()-k.getTime()}return Math.round(n)};o.mixin(o.getObject("dojo.date",!0),l);return l})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),
function(h,o,l,k,c,g,q,n,e){function b(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var g,h,p=e.charAt(0),e=e.length,n=["abbr","wide","narrow"];switch(p){case "G":g=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":g=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){g=""+g;g=g.substr(g.length-2);break}default:h=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":g=a.getMonth();3>e?(g+=1,h=!0):(p=["months","L"==p?"standAlone":
"format",n[e-3]].join("-"),g=b[p][g]);break;case "w":g=f._getWeekOfYear(a,0);h=!0;break;case "d":g=a.getDate();h=!0;break;case "D":g=f._getDayOfYear(a);h=!0;break;case "e":case "c":if(g=a.getDay(),2>e){g=(g-k.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":g=a.getDay();3>e?(g+=1,h=!0):(p=["days","c"==p?"standAlone":"format",n[e-3]].join("-"),g=b[p][g]);break;case "a":p=12>a.getHours()?"am":"pm";g=c[p]||b["dayPeriods-format-wide-"+p];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(p){case "h":g=
h%12||12;break;case "H":g=h;break;case "K":g=h%12;break;case "k":g=h||24}h=!0;break;case "m":g=a.getMinutes();h=!0;break;case "s":g=a.getSeconds();h=!0;break;case "S":g=Math.round(a.getMilliseconds()*Math.pow(10,e-3));h=!0;break;case "v":case "z":if(g=f._getZone(a,!0,c))break;e=4;case "Z":p=f._getZone(a,!1,c);p=[0>=p?"+":"-",q.pad(Math.floor(Math.abs(p)/60),2),q.pad(Math.abs(p)%60,2)];4==e&&(p.splice(0,0,"GMT"),p.splice(3,0,":"));g=p.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}h&&(g=q.pad(g,e));return g})}function d(a,b,c,f){var d=function(a){return a},b=b||d,c=c||d,f=f||d,e=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);o.forEach(e,function(a,f){a?(e[f]=(g?c:b)(a.replace(/''/g,"'")),g=!g):e[f]=""});return f(e.join(""))}function a(a,b,c,f){f=g.escapeString(f);c.strict||(f=f.replace(" a"," ?a"));return f.replace(/([a-z])\1*/ig,function(f){var d;d=f.charAt(0);var e=f.length,g="",k="";c.strict?(1<e&&(g="0{"+(e-1)+"}"),2<e&&(k="0{"+(e-2)+"}")):(g="0?",k="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":d=2<e?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+g+"[1-9][0-9]|"+k+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+g+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":d="\\S+";break;case "h":d="1[0-2]|"+g+"[1-9]";break;case "k":d="1[01]|"+g+"\\d";break;case "H":d="1\\d|2[0-3]|"+g+"\\d";break;case "K":d="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+e+"}";
break;case "a":e=c.am||b["dayPeriods-format-wide-am"];g=c.pm||b["dayPeriods-format-wide-pm"];d=e+"|"+g;c.strict||(e!=e.toLowerCase()&&(d+="|"+e.toLowerCase()),g!=g.toLowerCase()&&(d+="|"+g.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(f);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var f={};h.setObject(e.id.replace(/\//g,"."),f);f._getZone=function(a,b){return b?l.getTimezoneName(a):a.getTimezoneOffset()};f.format=function(a,
g){var g=g||{},e=c.normalizeLocale(g.locale),k=g.formatLength||"short",e=f._getGregorianBundle(e),p=[],n=h.hitch(this,b,a,e,g);if("year"==g.selector)return d(e["dateFormatItem-yyyy"]||"yyyy",n);var l;"date"!=g.selector&&(l=g.timePattern||e["timeFormat-"+k])&&p.push(d(l,n));"time"!=g.selector&&(l=g.datePattern||e["dateFormat-"+k])&&p.push(d(l,n));return 1==p.length?p[0]:e["dateTimeFormat-"+k].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return p[b]})};f.regexp=function(a){return f._parseInfo(a).regexp};
f._parseInfo=function(b){var b=b||{},g=c.normalizeLocale(b.locale),g=f._getGregorianBundle(g),e=b.formatLength||"short",k=b.datePattern||g["dateFormat-"+e],p=b.timePattern||g["timeFormat-"+e],e="date"==b.selector?k:"time"==b.selector?p:g["dateTimeFormat-"+e].replace(/\{(\d+)\}/g,function(a,b){return[p,k][b]}),n=[];return{regexp:d(e,h.hitch(this,a,n,g,b)),tokens:n,bundle:g}};f.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=f._parseInfo(b),g=d.tokens,e=d.bundle,c=RegExp("^"+d.regexp.replace(c,
"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var k=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],p="",c=o.every(c,function(a,c){if(!c)return!0;var f=g[c-1],d=f.length,f=f.charAt(0);switch(f){case "y":if(2!=d&&b.strict)h[0]=a;else if(100>a)a=Number(a),f=""+(new Date).getFullYear(),d=100*f.substring(0,2),f=Math.min(Number(f.substring(2,4))+20,99),h[0]=a<f?d+a:d-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<d){if(d=e["months-"+("L"==f?"standAlone":"format")+
"-"+k[d-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),d=o.map(d,function(a){return a.replace(".","").toLowerCase()})),a=o.indexOf(d,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":d=e["days-"+("c"==f?"standAlone":"format")+"-"+k[d-3]].concat();b.strict||(a=a.toLowerCase(),d=o.map(d,function(a){return a.toLowerCase()}));a=o.indexOf(d,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":d=b.am||e["dayPeriods-format-wide-am"];f=b.pm||e["dayPeriods-format-wide-pm"];
if(!b.strict)var n=/\./g,a=a.replace(n,"").toLowerCase(),d=d.replace(n,"").toLowerCase(),f=f.replace(n,"").toLowerCase();if(b.strict&&a!=d&&a!=f)return!1;p=a==f?"p":a==d?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),d=+h[3];"p"===p&&12>d?h[3]=d+12:"a"===p&&12==d&&(h[3]=0);d=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&d.setFullYear(h[0]);var n=g.join(""),q=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!c||n&&d.getMonth()>h[1]||q&&d.getDate()>h[2])return null;if(n&&d.getMonth()<h[1]||q&&d.getDate()<h[2])d=l.add(d,"hour",1);return d};var p=[];f.addCustomFormats=function(a,b){p.push({pkg:a,name:b})};f._getGregorianBundle=function(a){var b={};o.forEach(p,function(f){f=c.getLocalization(f.pkg,f.name,a);b=h.mixin(b,f)},this);return b};f.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");f.getNames=function(a,b,c,d){var g,d=f._getGregorianBundle(d),a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),g=d[c],1==g[0]&&(g=void 0));a[1]="format";return(g||d[a.join("-")]).concat()};f.isWeekend=function(a,b){var c=k.getWeekend(b),f=(a||new Date).getDay();c.end<c.start&&(c.end+=7,f<c.start&&(f+=7));return f>=c.start&&f<=c.end};f._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};f._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((f._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&d++;return d};return f})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,o){var l={};h.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(k){k={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,
nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(k)];return void 0===k?1:k};l._region=function(k){var k=o.normalizeLocale(k),k=k.split("-"),c=k[1];c?4==c.length&&(c=k[2]):c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[k[0]];return c};l.getWeekend=function(k){var c=l._region(k),k={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,
sy:5,tn:5}[c],c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[c];void 0===k&&(k=6);void 0===c&&(c=0);return{start:k,end:c}};return l})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(h,o,l,k,c,g,q,n,e){var b=h.i18n={},d=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,a=function(a,b,c,f){for(var d=[c+f],b=b.split("-"),g="",e=0;e<b.length;e++)g+=(g?"-":"")+
b[e],(!a||a[g])&&d.push(c+g+"/"+f);return d},f={},p=function(a,b,c){c=c?c.toLowerCase():h.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};h.getL10nName=function(a,b,c){return e.id+"!"+p(a,b,c)};var r=function(b,c,d,e,k,h){b([c],function(p){var n=g.clone(p.root),l=a(!p._v1x&&p,k,d,e);b(l,function(){for(var a=1;a<l.length;a++)n=g.mixin(g.clone(n),arguments[a]);f[c+"/"+k]=n;h()})})},s=function(a){var b=c.extraLocale||[],b=g.isArray(b)?b:[b];b.push(a);
return b},w=function(a,b,c){var e=a.split("*"),p="preload"==e[1];p&&(f[a]||(f[a]=1,v(e[2],n.parse(e[3]),1,b)),c(1));if(!(e=p))t&&y.push([a,b,c]),e=t;if(!e){var a=d.exec(a),l=a[1]+"/",o=a[5]||a[4],q=l+o,e=(a=a[5]&&a[4])||h.locale,w=q+"/"+e,a=a?[e]:s(e),x=a.length,u=function(){--x||c(g.delegate(f[w]))};k.forEach(a,function(a){var c=q+"/"+a;A(c);f[c]?u():r(b,q,l,o,a,u)})}};if(l("dojo-unit-tests"))var u=b.unitTests=[];var x=b.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":
a},t=0,y=[],v=b._preloadLocalizations=function(a,b,c,d){function e(a,b){d.isXdUrl(o.toUrl(a+".js"))||c?d([a],b):D([a],b,d)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function p(c){c=x(c);g(c,function(c){if(0<=k.indexOf(b,c)){var d=a.replace(/\./g,"/")+"_"+c;t++;e(d,function(a){for(var b in a)f[o.toAbsMid(b)+"/"+c]=a[b];for(--t;!t&&y.length;)w.apply(null,y.shift())});return!0}return!1})}d=d||o;p();k.forEach(h.config.extraLocale,p)},A=function(){},z=
{},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),D=function(a,b,c){var d=[];k.forEach(a,function(a){function b(c){c=
E(c,A,a,z);c===z?d.push(f[e]=z.result):(c instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+e,c),c={}),d.push(f[e]=/nls\/[^\/]+\/[^\/]+$/.test(e)?c:{root:c,_v1x:1}))}var e=c.toUrl(a+".js");if(f[e])d.push(f[e]);else{var g=c.syncLoadNls(a);if(g)d.push(g);else if(q)q.get({url:e,sync:!0,load:b,error:function(){d.push(f[e]={})}});else try{c.getText(e,!0,b)}catch(k){d.push(f[e]={})}}});b&&b.apply(null,d)},A=function(a){for(var b,c=a.split("/"),d=h.global[c[0]],e=1;d&&e<c.length-1;d=
d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(f[a]=b));return b};b.getLocalization=function(a,b,c){var f,a=p(a,b,c);w(a,!o.isXdUrl(o.toUrl(a+".js"))?function(a,b){D(a,b,o)}:o,function(a){f=a});return f};l("dojo-unit-tests")&&u.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=E("{prop:1}",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=E("({prop:1})",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=E("{'prop-x':1}",A,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,
b[1]);b=E("({'prop-x':1})",A,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("define({'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=E("define('some/module', {'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=E("this is total nonsense and should throw an error",A,"nonsense",z);a.is(b instanceof Error,!0)})});return g.mixin(b,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:w,cache:f})})},"moch/store/SqlStore":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/Deferred","dojo/store/util/QueryResults","dojo/store/util/SimpleQueryEngine"],function(h,o,l,k,c){window.openDatabase||alert("WebSQL is not supported by your browser!");return h(null,{db_name:null,table_name:null,select_fields:"*",meta:["id"],joins:[],info:"",max_size:1048576,version:"1.0",idProperty:"id",trace:!1,constructor:function(c){o.mixin(this,c);if("string"!=typeof this.db_name)throw Error("missing name of database");if("string"!=typeof this.table_name)throw Error("missing the tablename of the table");
this._meta={};for(m in this.meta)this._meta[this.meta[m]]="?";var k=this;this._conn=window.openDatabase(this.db_name,this.version,this.info,this.max_size);"function"==typeof this.onDatabaseCreate&&this._conn.transaction(function(c){k.onDatabaseCreate(c)})},getIdentity:function(c){return c[this.idProperty]},_exec:function(c,k){var h=new l;this._conn.transaction(function(e){e.executeSql(c,k,function(b,c){h.resolve(c)},function(b,c){h.reject(c)})});return h},_make_join_stmt:function(){var c="";for(i in this.joins)var k=
this.joins[i],c=c+((k.type?" "+k.type:"")+" JOIN "+k.table_name+" ON "+k.on+" ");return c},get:function(c){var k=new l;this._exec("SELECT "+this.select_fields+" FROM "+this.table_name+this._make_join_stmt()+" WHERE "+this.idProperty+" = ?",[c]).then(function(c){k.resolve(c.rows.item(0))},function(c){k.reject(c)});return k},put:function(c){if(!this.getIdentity(c))return this.add(c);var k=new l,h=[],e=[];for(i in c)i!=this.idProperty&&this._meta[i]&&(h.push(i+" = ?"),e.push(c[i]));e.push(this.getIdentity(c));
c="UPDATE "+this.table_name;c+=" SET "+h.join(",");c+=" WHERE "+this.idProperty+" = ?";this._exec(c,e).then(function(){k.resolve(!0)},function(b){k.reject(b)});return k},add:function(c){var k=new l,h=[],e=[],b=[];for(i in c)this._meta[i]&&(h.push(i),e.push("?"),b.push(c[i]));var c="INSERT INTO "+this.table_name,c=c+(" ("+h.join(",")+")"),c=c+(" VALUES("+e.join(",")+")"),d=this;this._exec(c,b).then(function(a){d.get(a.insertId).then(function(a){k.resolve(a)})},function(a){k.reject(a)});return k},remove:function(c){var k=
new l;this._exec("DELETE FROM "+this.table_name+" WHERE "+this.idProperty+" = ?",[c]).then(function(){k.resolve(!0)},function(c){k.reject(c)});return k},queryEngine:c,query:function(c,h){var h=h||{},n=new l,e=[],b=[];if(c&&"object"==typeof c)for(i in c)e.push(i+" = ?"),b.push(c[i]);var d=" FROM "+this.table_name+this._make_join_stmt();e&&0<e.length&&(d+=" WHERE "+e.join(" AND "));this._exec("SELECT count(*) AS cnt"+d,b).then(o.hitch(this,function(a){n.total=a.rows.item(0).cnt;if(h.sort&&0<h.sort.length){a=
[];for(i in h.sort){var c=h.sort[i];"string"==typeof c.attribute&&a.push(c.attribute+(c.descending?" DESC":" ASC"))}d+=" ORDER BY "+a.join(",")}0<=h.count&&(d+=" LIMIT "+h.count);0<=h.count&&(d+=" OFFSET "+h.start);d="SELECT "+this.select_fields+d;this._exec(d,b).then(function(a){var b=[];for(i=0;i<a.rows.length;i++)b.push(a.rows.item(i));n.resolve(b)},function(a){n.reject(a)})}));return k(n)}})})},"url:kso/kso.sql":"CREATE TABLE IF NOT EXISTS kso_plan (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    do_what         TEXT,\n    do_how_much     TEXT,\n    do_when         TEXT,\n    do_how_often    TEXT,\n    do_in_days      INTEGER,\n    do_success      INTEGER, -- success for the plan, scale 0-10\n    do_evaluate     INTEGER, -- evaluate the plan, scale 1-3,\n                             -- 1=success, 2=partial-success, 3=unsuccessful\n    do_evaluate_txt TEXT, -- evaluate the plan in text\n    active          INTEGER DEFAULT 1,\n    public          INTEGER DEFAULT 0,\n    hidden          INTEGER DEFAULT 0,\n    use_at_start    TEXT,\n    use_at_end      TEXT\n);\n\nCREATE TABLE IF NOT EXISTS kso_diary (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    plan_id         INTEGER REFERENCES kso_plan( id ) NOT NULL,\n    info            TEXT,\n    success         INTEGER,\n    use_at          TEXT\n);\n\nCREATE TABLE IF NOT EXISTS kso_problem (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    do_what         TEXT,\n    do_prevent      TEXT,\n    do_evaluate     INTEGER, -- evaluate the problem, scale 1-3\n                             -- 1=success, 2=partial-success, 3=unsuccessful\n    do_evaluate_txt TEXT, -- evaluate the problem in text\n    active          INTEGER DEFAULT 1,\n    public          INTEGER DEFAULT 0,\n    hidden          INTEGER DEFAULT 0\n);\n\nCREATE TABLE IF NOT EXISTS kso_solution (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    problem_id      INTEGER REFERENCES kso_problem( id ) NOT NULL,\n    info            TEXT,\n    success         INTEGER\n);\n",
"dojox/mobile/Heading":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ProgressIndicator,./ToolBarButton,./View".split(","),function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r){k.getObject("dojox.mobile",!0);return l("dojox.mobile.Heading",[f,a,d],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,
progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||c.doc.createElement(this.tag);this.inherited(arguments);this.label||h.forEach(this.domNode.childNodes,function(a){if(3==a.nodeType){var b=k.trim(a.nodeValue);if(b)this.label=b,this.labelNode=n.create("span",{innerHTML:b},a,"replace")}},this);if(!this.labelNode)this.labelNode=n.create("span",null,this.domNode);this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=n.create("div",
{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);g.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var b=this;setTimeout(function(){b.resize()},0)}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var a,b,c=this.containerNode.childNodes,f=c.length-1;0<=f;f--){var d=c[f];1===d.nodeType&&"none"!==e.get(d,"display")&&(!b&&"right"===e.get(d,"float")&&(b=d),!a&&"left"===e.get(d,
"float")&&(a=d))}if(!this.labelNodeLen&&this.label)this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="";c=this.domNode.offsetWidth;f=this.labelNodeLen||0;q[c-2*Math.max(b?c-b.offsetLeft+5:0,a?a.offsetLeft+a.offsetWidth+5:0)>f?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=
new r({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo,href:this.href,transition:this.transition,transitionDir:-1}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setMoveToAttr:function(a){this._set("moveTo",a);this.backButton&&this.backButton.set("moveTo",a)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!b)b=this._prog=new p({size:30,center:!1}),
q.add(b.domNode,this.progStyle);n.place(b.domNode,this.domNode,"first");b.start()}else b.stop();this._set("busy",a)}})})},"dojox/mobile/ToolBarButton":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff,./_ItemBase".split(","),function(h,o,l,k,c,g,q,n){return h("dojox.mobile.ToolBarButton",n,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",
_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef)this.label=this.srcNodeRef.innerHTML;this.label=o.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:c.create("span");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,k.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":
" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=c.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+"Arrow "+(q("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),k.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=c.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=c.create("table",
{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);var e=this.tableNode.insertRow(-1);this.iconParentNode=e.insertCell(-1);this.labelNode=e.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";this.icon&&"none"!==this.icon&&this.label&&(k.add(this.domNode,"mblToolBarButtonHasIcon"),k.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));k.add(this.bodyNode,this.defaultColor)}},startup:function(){if(!this._started&&(this._keydownHandle=
this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?this._pendingIcon:this.icon),delete this._pendingIcon},_onClick:function(c){c&&"keydown"===c.type&&13!==c.keyCode||!1===this.onClick(c)||this.defaultClickAction(c)},onClick:function(){},_setLabelAttr:function(c){this.inherited(arguments);k.toggle(this.tableNode,"mblToolBarButtonText",c)},_setSelectedAttr:function(c){this.inherited(arguments);if(c){if(k.replace(this.bodyNode,
this.selColor,this.defaultColor),!q("ie")&&this.arrowNode){var b=this.selColor,d=this.defaultColor;k.replace(this.arrowNode,b+" "+b+"45",d+" "+d+"45")}}else if(k.replace(this.bodyNode,this.defaultColor,this.selColor),!q("ie")&&this.arrowNode)b=this.defaultColor,d=this.selColor,k.replace(this.arrowNode,b+" "+b+"45",d+" "+d+"45");k.toggle(this.domNode,"mblToolBarButtonSelected",c);k.toggle(this.bodyNode,"mblToolBarButtonBodySelected",c)}})})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/touch,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TransitionEvent,./iconUtils,./sniff".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a){return o("dojox.mobile._ItemBase",[b,e,n],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);this._isOnLine=
this.inheritParams()},startup:function(){if(!this._started){this._isOnLine||this.inheritParams();if(this._handleClick&&"touch"===this._selStartMethod)this._onTouchStartHandle=this.connect(this.domNode,g.press,"_onTouchStart");this.inherited(arguments)}},inheritParams:function(){var a=this.getParent();a&&h.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var c=b+"Base",d=b+"Pos";this[b]&&a[c]&&"/"===a[c].charAt(a[c].length-1)&&(this[b]=a[c]+this[b]);this[b]||(this[b]=a[c]);
this[d]||(this[d]=a[d])}this[b]||(this[b]=a[b])},this);return!!a},getTransOpts:function(){var a=this.transitionOptions||{};h.forEach("moveTo,href,hrefTarget,url,target,urlTarget,scene,transition,transitionDir".split(","),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(){this._delayedSelection&&this.set("selected",!0);if(this._onTouchEndHandle)this.disconnect(this._onTouchEndHandle),
this._onTouchEndHandle=null;var a=this.getParent();if(this.toggle)this.set("selected",!this._currentSel);else if(a&&a.selectOne)this.set("selected",!0);else if("touch"===this._selEndMethod)this.set("selected",!1);else if("timer"===this._selEndMethod){var b=this;this.defer(function(){b.set("selected",!1)},this._duration)}},makeTransition:function(a){if(this.back&&history)history.back();else if(this.href&&this.hrefTarget)k.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);
else{var b=this.getTransOpts(),c=!(!b.moveTo&&!b.href&&!b.url&&!b.target&&!b.scene);if(!1!==this._prepareForTransition(a,c?b:null)&&c)this.setTransitionPos(a),(new d(this.domNode,b,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(){},_onTouchStart:function(a){if(!(this.getParent().isEditing||!1===this.onTouchStart(a))){if(!this._onTouchEndHandle&&"touch"===this._selStartMethod)this._onTouchMoveHandle=this.connect(k.body(),g.move,"_onTouchMove"),this._onTouchEndHandle=
this.connect(k.body(),g.release,"_onTouchEnd");this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this._currentSel=this.selected;this._delayedSelection?this._selTimer=setTimeout(l.hitch(this,function(){this.set("selected",!0)}),100):this.set("selected",!0)}},onTouchStart:function(){},_onTouchMove:function(a){var b=a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-
this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){if(this._selTimer)clearTimeout(this._selTimer),this._selTimer=null;this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var b=
this;!(b=b.getParent(),!b||c.contains(b.domNode,"mblView")););if(b)b.clickedPosX=a.clientX,b.clickedPosY=a.clientY},transitionTo:function(a,b,c,e){(new d(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:c,scene:e,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(b){this._isOnLine?(this._set("icon",b),this.iconNode=a.setIcon(b,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=b},_setLabelAttr:function(a){this._set("label",
a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=h.filter(b.getChildren(),function(a){return a.selected}),h.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}})})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),
function(h,o,l,k,c,g,q,n,e,b){var d=c.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,b){if(a&&b){var c=h.map(b.split(/[ ,]/),function(a){return a-0}),d=c[0],g=c[1];e.set(a,{clip:"rect("+d+"px "+(c[1]+c[2])+"px "+(c[0]+c[3])+"px "+g+"px)",top:(a.parentNode?e.get(a,"top"):0)-d+"px",left:-g+"px"});q.add(a,"mblSpriteIcon")}};this.createDomButton=function(a,c,d){if(!this._domButtons)if(b("webkit")){var k=function(a,b){var c,d;if(!a){var f={};d=g.doc.styleSheets;for(c=
0;c<d.length;c++)d[c]&&k(d[c],f);return f}f=a.cssRules||[];for(c=0;c<f.length;c++)if(d=f[c],d.href&&d.styleSheet)k(d.styleSheet,b);else if(d.selectorText){var e=d.selectorText.split(/,/);for(d=0;d<e.length;d++){var h=e[d],p=h.split(/>/).length-1;if(h.match(/(mblDomButton\w+)/)&&(h=RegExp.$1,!b[h]||p>b[h]))b[h]=p}}return b};this._domButtons=k()}else this._domButtons={};var h=a.className,l=d||a;if(h.match(/(mblDomButton\w+)/)&&-1===h.indexOf("/")){var u=RegExp.$1,x=4;h.match(/(mblDomButton\w+_(\d+))/)?
x=RegExp.$2-0:void 0!==this._domButtons[u]&&(x=this._domButtons[u]);h=null;b("bb")&&!1!==o.mblBBBoxShadowWorkaround&&(h={style:"-webkit-box-shadow:none"});for(var t=0,y=l;t<x;t++)y=y.firstChild||n.create("div",h,y);d&&(setTimeout(function(){q.remove(a,u)},0),q.add(d,u))}else if(-1!==h.indexOf("."))n.create("img",{src:h},l);else return null;q.add(l,"mblDomButton");c&&e.set(l,c);return l};this.createIcon=function(a,b,c,g,h,o,u){g=g||"";if(a&&0===a.indexOf("mblDomButton"))c?c.className.match(/(mblDomButton\w+)/)&&
q.remove(c,RegExp.$1):c=n.create("div",null,o||h,u),c.title=g,q.add(c,a),this.createDomButton(c);else if(a&&"none"!==a){if(!c||"IMG"!==c.nodeName)c=n.create("img",{alt:g},o||h,u);c.src=(a||"").replace("${theme}",d.currentTheme);this.setupSpriteIcon(c,b);b&&h&&(a=b.split(/[ ,]/),e.set(h,{width:a[2]+"px",height:a[3]+"px"}),q.add(h,"mblSpriteIconParent"));l.connect(c,"ondragstart",k,"stop")}return c};this.iconWrapper=!1;this.setIcon=function(a,b,c,d,e,g,k){if(!e||!a&&!c)return null;if(a&&"none"!==a){if(!this.iconWrapper&&
0!==a.indexOf("mblDomButton")&&!b)c&&"DIV"===c.tagName&&(n.destroy(c),c=null),c=this.createIcon(a,null,c,d,e,g,k),q.add(c,"mblImageIcon");else if(c&&"IMG"===c.tagName&&(n.destroy(c),c=null),c&&n.empty(c),c||(c=n.create("div",null,g||e,k)),this.createIcon(a,b,null,null,c),d)c.title=d;q.remove(e,"mblNoIcon");return c}n.destroy(c);q.add(e,"mblNoIcon");return null}}})},"kso/TabBarLogin":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(h,o,l){return h("moch.dijit.TabBarLogin",
[o],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new l({label:"Log ind",moveTo:"login_view","class":"tabBarButtonLogin"}));this.addChild(new l({label:"Opret bruger",moveTo:"create_user_view","class":"tabBarButtonCreateUser"}));this.addChild(new l({label:"Glemt din kode?",moveTo:"forgot_password_view","class":"tabBarButtonForgotPassword"}))}})})},"dojox/mobile/TabBar":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TabBarButton".split(","),
function(h,o,l,k,c,g,q,n,e,b){return o("dojox.mobile.TabBar",[b,e,n],{iconBase:"",iconPos:"",barType:"tabBar",closable:!1,center:!0,syncWithViews:!1,tag:"ul",selectOne:!0,baseClass:"mblTabBar",_fixedButtonWidth:76,_fixedButtonMargin:17,_largeScreenWidth:500,buildRendering:function(){this.domNode=this.srcNodeRef||c.create(this.tag);this.reset();this.inherited(arguments)},postCreate:function(){if(this.syncWithViews){var b=function(a){var b=h.filter(this.getChildren(),function(b){return b.moveTo==="#"+
a.id||b.moveTo===a.id})[0];b&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",b);this.subscribe("/dojox/mobile/startView",b)}},startup:function(){this._started||(this.inherited(arguments),this.resize())},reset:function(){var b=this._barType;if("object"===typeof this.barType){this._barType=this.barType["*"];for(var a in this.barType)if(k.contains(l.doc.documentElement,a)){this._barType=this.barType[a];break}}else this._barType=this.barType;b&&k.remove(this.domNode,this.baseClass+
(b.charAt(0).toUpperCase()+b.substring(1)));k.add(this.domNode,this.baseClass+(this._barType.charAt(0).toUpperCase()+this._barType.substring(1)))},resize:function(b){var a;b&&b.w?(g.setMarginBox(this.domNode,b),b=b.w):b="absolute"===q.get(this.domNode,"position")?g.getContentBox(this.domNode).w:g.getMarginBox(this.domNode).w;var c=this._fixedButtonWidth,e=this._fixedButtonMargin,n=h.map(this.getChildren(),function(a){return a.domNode});k.toggle(this.domNode,"mblTabBarNoIcons",!h.some(this.getChildren(),
function(a){return a.iconNode1}));k.toggle(this.domNode,"mblTabBarNoText",!h.some(this.getChildren(),function(a){return a.label}));var l=0;if("tabBar"==this._barType)if(this.containerNode.style.paddingLeft="",l=Math.floor((b-(c+2*e)*n.length)/2),b<this._largeScreenWidth||0>l)for(a=0;a<n.length;a++)n[a].style.width=Math.round(98/n.length)+"%",n[a].style.margin="0";else{for(a=0;a<n.length;a++)n[a].style.width=c+"px",n[a].style.margin="0 "+e+"px";if(0<n.length)n[0].style.marginLeft=l+e+"px";this.containerNode.style.padding=
"0px"}else{for(a=0;a<n.length;a++)n[a].style.width=n[a].style.margin="";a=this.getParent();if(this.center&&(!a||!k.contains(a.domNode,"mblHeading"))){l=b;for(a=0;a<n.length;a++)l-=g.getMarginBox(n[a]).w;l=Math.floor(l/2)}this.containerNode.style.paddingLeft=l?l+"px":""}},getSelectedTab:function(){return h.filter(this.getChildren(),function(b){return b.selected})[0]},onCloseButtonClick:function(){return!0}})})},"dojox/mobile/TabBarButton":function(){define("dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./iconUtils,./_ItemBase,./Badge,./sniff".split(","),
function(h,o,l,k,c,g,q,n,e,b,d){return o("dojox.mobile.TabBarButton",b,{icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,transition:"none",tag:"li",badge:"",baseClass:"mblTabBarButton",closeIcon:"mblDomButtonWhiteCross",_selStartMethod:"touch",_selEndMethod:"touch",destroy:function(){this.badgeObj&&delete this.badgeObj;this.inherited(arguments)},inheritParams:function(){if(this.icon&&!this.icon1)this.icon1=this.icon;var a=this.getParent();if(a){if(!this.transition)this.transition=a.transition;
if(this.icon1&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon1=a.iconBase+this.icon1;if(!this.icon1)this.icon1=a.iconBase;if(!this.iconPos1)this.iconPos1=a.iconPos;if(this.icon2&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon2=a.iconBase+this.icon2;if(!this.icon2)this.icon2=a.iconBase||this.icon1;if(!this.iconPos2)this.iconPos2=a.iconPos||this.iconPos1;if(a.closable){if(!this.icon1)this.icon1=this.closeIcon;if(!this.icon2)this.icon2=this.closeIcon;g.add(this.domNode,
"mblTabBarButtonClosable")}}},buildRendering:function(){this.domNode=this.srcNodeRef||q.create(this.tag);if(this.srcNodeRef){if(!this.label)this.label=k.trim(this.srcNodeRef.innerHTML);this.srcNodeRef.innerHTML=""}this.labelNode=this.box=q.create("div",{className:"mblTabBarButtonLabel"},this.domNode);this.inherited(arguments)},startup:function(){if(!this._started){this._dragstartHandle=this.connect(this.domNode,"ondragstart",l.stop);this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");
var a=this.getParent();if(a&&a.closable)this._clickCloseHandler=this.connect(this.iconDivNode,"onclick","_onCloseButtonClick"),this._keydownCloseHandler=this.connect(this.iconDivNode,"onkeydown","_onCloseButtonClick"),this.iconDivNode.tabIndex="0";this.inherited(arguments);if(!this._isOnLine)this._isOnLine=!0,this.set({icon:void 0!==this._pendingIcon?this._pendingIcon:this.icon,icon1:this.icon1,icon2:this.icon2}),delete this._pendingIcon;c.setSelectable(this.domNode,!1)}},onClose:function(){h.publish("/dojox/mobile/tabClose",
[this]);return this.getParent().onCloseButtonClick(this)},_onCloseButtonClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onCloseButtonClick(a)||this.onClose()&&this.destroy()},onCloseButtonClick:function(){},_onClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a)||this.defaultClickAction(a)},onClick:function(){},_setIcon:function(a,b){if(this.getParent()){this._set("icon"+b,a);if(!this.iconDivNode)this.iconDivNode=q.create("div",{className:"mblTabBarButtonIconArea"},
this.domNode,"first");this["iconParentNode"+b]||(this["iconParentNode"+b]=q.create("div",{className:"mblTabBarButtonIconParent mblTabBarButtonIconParent"+b},this.iconDivNode));this["iconNode"+b]=e.setIcon(a,this["iconPos"+b],this["iconNode"+b],this.alt,this["iconParentNode"+b]);this["icon"+b]=a;g.toggle(this.domNode,"mblTabBarButtonHasIcon",a&&"none"!==a)}},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},_getBadgeAttr:function(){return this.badgeObj&&this.badgeObj.domNode.parentNode&&
1==this.badgeObj.domNode.parentNode.nodeType?this.badgeObj.getValue():null},_setBadgeAttr:function(a){if(!this.badgeObj)this.badgeObj=new d({fontSize:11}),n.set(this.badgeObj.domNode,{position:"absolute",top:"0px",right:"0px"});this.badgeObj.setValue(a);a?this.domNode.appendChild(this.badgeObj.domNode):this.domNode===this.badgeObj.domNode.parentNode&&this.domNode.removeChild(this.badgeObj.domNode)},_setSelectedAttr:function(a){this.inherited(arguments);g.toggle(this.domNode,"mblTabBarButtonSelected",
a)}})})},"dojox/mobile/Badge":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","./iconUtils"],function(h,o,l,k,c){return h("dojox.mobile.Badge",null,{value:"0",className:"mblDomButtonRedBadge",fontSize:16,constructor:function(g,h){g&&o.mixin(this,g);this.domNode=h?h:k.create("div");l.add(this.domNode,"mblBadge");-1===this.domNode.className.indexOf("mblDomButton")&&l.add(this.domNode,this.className);if(16!==this.fontSize)this.domNode.style.fontSize=this.fontSize+
"px";c.createDomButton(this.domNode);this.setValue(this.value)},getValue:function(){return this.domNode.firstChild.innerHTML||""},setValue:function(c){this.domNode.firstChild.innerHTML=c}})})},"kso/views/Home":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/dom-construct,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ToolBarButton,dojox/mobile/Heading,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Accordion,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u){return l([n],{id:"kso_home_view",postCreate:function(){var c=this,g=new u,h;g.confirm("Oversigt","Her vises dine nyeste handleplaner og probleml\u00f8sninger.<br /><br />Listen kan indeholde max. 5 handleplaner og probleml\u00f8sninger.");this.addChild(g);var p=new u;p.confirm("Hj\u00e6lp til handleplan","Du kan have max. 5 aktive handleplaner og probleml\u00f8sninger.");this.addChild(p);sview=new e;h=new d({label:"min handleplan","class":"headingHome"});
h.addChild(new b({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(h);h=new d({id:"headingActionHome",baseClass:"headingActionHome"});h.addChild(new b({label:"Opret plan",onClick:function(){var a=r.getInstance().getStore("kso_plan","kso_plan").query({active:1});a.then(function(){a.total.then(function(a){5<=a?p.show():k.publish("plan/create",c,null)})})}}));h.addChild(new b({label:"Opret l\u00f8sning",onClick:function(){var a=
r.getInstance().getStore("kso_problem","kso_problem").query({active:1});a.then(function(){a.total.then(function(a){5<=a?p.show():k.publish("problem/create",c,null)})})}}));this.addChild(h);var n=r.getInstance().getStore("kso_plan","kso_plan");sview.addChild(new f({label:"Nyeste handleplaner:","class":"categoryHomePlan"}));h=new Boolean(!0);h.test=function(){return!0};h=new s({store:n,query:{active:1,hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"id",descending:!0}],start:0,
count:5},itemMap:{do_what:"label"},createListItem:function(b){return new a({label:b.do_what,clickable:!0,item:b,onClick:function(){k.publish("diary/list",c,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(h);n=r.getInstance().getStore("kso_problem","kso_problem");sview.addChild(new f({label:"Nyeste probleml\u00f8sninger:","class":"categoryHomeProblem"}));h=new Boolean(!0);h.test=function(){return!0};h=new s({store:n,query:{active:1,hidden:0},queryOptions:{sort:[{attribute:"active",
descending:!0},{attribute:"id",descending:!0}],start:0,count:5},itemMap:{do_what:"label"},createListItem:function(b){return new a({label:b.do_what,clickable:!0,item:b,onClick:function(){k.publish("solution/list",c,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(h);this.addChild(sview);this.addChild(new w)},onStartView:function(){}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_WidgetBase,./iconUtils,./_ItemBase,./ProgressIndicator".split(","),
function(h,o,l,k,c,g,q,n,e,b,d){o=o("dojox.mobile.ListItem",b,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",
_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||c.create(this.tag);this.inherited(arguments);this.selected&&k.add(this.domNode,this._selClass);this.header&&k.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);this.labelNode=c.create("div",{className:"mblListItemLabel"});var a=this.srcNodeRef;a&&1===a.childNodes.length&&3===a.firstChild.nodeType&&this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode);
if(this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",this._anchorClickHandle=this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);
if(k.contains(this.domNode,"mblVariableHeight"))this.variableHeight=!0;this.variableHeight&&(k.add(this.domNode,"mblVariableHeight"),this.defer(l.hitch(this,"layoutVariableHeight"),0));if(!this._isOnLine)this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,rightIcon2:void 0!==this._pending_rightIcon2?
this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon;a&&a.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},layoutChildren:function(){var a;h.forEach(this.domNode.childNodes,
function(b){if(1===b.nodeType){var c=b.getAttribute("layout")||(q.byNode(b)||{}).layout;c&&(k.add(b,"mblListItemLayout"+c.charAt(0).toUpperCase()+c.substring(1)),this._layoutChildren.push(b),"center"===c&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&!(q.getEnclosingWidget(a.target)||
{}).preventTouch&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))){var b=this.labelNode;if(this.anchorLabel&&a.currentTarget===b)k.add(b,"mblListItemLabelSelected"),setTimeout(function(){k.remove(b,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var c=this.getParent();c.select&&("single"===c.select?this.checked||this.set("checked",!0):"multiple"===c.select&&this.set("checked",
!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(){},layoutVariableHeight:function(){var a=this.domNode.offsetHeight;if(a!==this.domNodeHeight)this.domNodeHeight=a,h.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var b=this.domNode,c=function(){var c=Math.round((b.offsetHeight-a.offsetHeight)/2)-g.get(b,"paddingTop");
a.style.marginTop=c+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=c:c()}},this)},setArrow:function(){if(!this.checked){var a="",b=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||"mblDomButtonArrow";a&&this._setRightIconAttr(a)}},_findRef:function(a){for(var b,c="deleteIcon,icon,rightIcon,uncheckIcon,rightIcon2,rightText".split(","),a=h.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=
c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,b){if(this._isOnLine){this._set(b,a);this[b+"Node"]=e.setIcon(a,this[b+"Pos"],this[b+"Node"],this[b+"Title"]||this.alt,this.domNode,this._findRef(b),"before");if(this[b+"Node"]){var c=b.charAt(0).toUpperCase()+b.substring(1);k.add(this[b+"Node"],"mblListItem"+c)}(c=this[b+"Role"])&&this[b+"Node"].setAttribute("role",c)}else this["_pending_"+b]=a},_setDeleteIconAttr:function(a){this._setIcon(a,
"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){if(!this.rightTextNode)this.rightTextNode=c.create("div",{className:"mblListItemRightText"},this.labelNode,"before");this.rightText=a;this.rightTextNode.innerHTML=this._cv?this._cv(a):a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var b=
this.getParent();b&&"single"===b.select&&a&&h.forEach(b.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)},this);this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);k.toggle(this.domNode,"mblListItemChecked",a);k.toggle(this.domNode,"mblListItemUnchecked",!a);k.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(b&&this.checked!==a)b.onCheckStateChanged(this,
a);this._set("checked",a)}else this._pendingChecked=a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!this._progNode)this._progNode=c.create("div",{className:"mblListItemIcon"}),b=this._prog=new d({size:25,center:!1}),k.add(b.domNode,this.progStyle),this._progNode.appendChild(b.domNode);this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):c.place(this._progNode,this._findRef("icon"),"before");b.start()}else this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):
this.domNode.removeChild(this._progNode),b.stop();this._set("busy",a)},_setSelectedAttr:function(a){this.inherited(arguments);k.toggle(this.domNode,this._selClass,a)}});o.ChildWidgetProperties={layout:"",preventTouch:!1};l.extend(n,o.ChildWidgetProperties);return o})},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(h,o){return h("dojox.mobile.EdgeToEdgeCategory",o,{buildRendering:function(){this.inherited(arguments);this.domNode.className=
"mblEdgeToEdgeCategory"}})})},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase"],function(h,o,l,k,c){return h("dojox.mobile.RoundRectCategory",[c,k],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var c=this.domNode=this.containerNode=this.srcNodeRef||l.create(this.tag);this.inherited(arguments);if(!this.label&&1===c.childNodes.length&&3===c.firstChild.nodeType)this.label=
c.firstChild.nodeValue},_setLabelAttr:function(c){this.label=c;this.domNode.innerHTML=this._cv?this._cv(c):c}})})},"dojox/mobile/Accordion":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/dom,dojo/dom-class,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./iconUtils,./lazyLoadUtils,require".split(","),function(h,o,l,k,c,g,q,n,e,b,d,a){var f=o([b,n],{label:"Label",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,baseClass:"mblAccordionTitle",
buildRendering:function(){this.inherited(arguments);var a=this.anchorNode=q.create("a",{className:"mblAccordionTitleAnchor"},this.domNode);a.href="javascript:void(0)";this.textBoxNode=q.create("div",{className:"mblAccordionTitleTextBox"},a);this.labelNode=q.create("span",{className:"mblAccordionTitleLabel",innerHTML:this._cv?this._cv(this.label):this.label},this.textBoxNode);this._isOnLine=this.inheritParams()},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");
c.setSelectable(this.domNode,!1)},inheritParams:function(){var a=this.getParent();if(a){if(this.icon1&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon1=a.iconBase+this.icon1;if(!this.icon1)this.icon1=a.iconBase;if(!this.iconPos1)this.iconPos1=a.iconPos;if(this.icon2&&a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))this.icon2=a.iconBase+this.icon2;if(!this.icon2)this.icon2=a.iconBase||this.icon1;if(!this.iconPos2)this.iconPos2=a.iconPos||this.iconPos1}return!!a},_setIcon:function(a,
b){this.getParent()&&(this._set("icon"+b,a),this["iconParentNode"+b]||(this["iconParentNode"+b]=q.create("div",{className:"mblAccordionIconParent mblAccordionIconParent"+b},this.anchorNode,"first")),this["iconNode"+b]=d.setIcon(a,this["iconPos"+b],this["iconNode"+b],this.alt,this["iconParentNode"+b]),this["icon"+b]=a,g.toggle(this.domNode,"mblAccordionHasIcon",a&&"none"!==a))},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},startup:function(){this._started||
(this._isOnLine||this.inheritParams(),this._isOnLine||this.set({icon1:this.icon1,icon2:this.icon2}),this.inherited(arguments))},_onClick:function(a){!1!==this.onClick(a)&&(a=this.getParent(),!a.fixedHeight&&"none"!==this.contentWidget.domNode.style.display?a.collapse(this.contentWidget,!a.animation):a.expand(this.contentWidget,!a.animation))},onClick:function(){},_setSelectedAttr:function(a){g.toggle(this.domNode,"mblAccordionTitleSelected",a);this._set("selected",a)}}),o=o("dojox.mobile.Accordion",
[b,e,n],{iconBase:"",iconPos:"",fixedHeight:!1,singleOpen:!1,animation:!0,roundRect:!1,duration:0.3,baseClass:"mblAccordion",_openSpace:1,startup:function(){if(!this._started){g.contains(this.domNode,"mblAccordionRoundRect")?this.roundRect=!0:this.roundRect&&g.add(this.domNode,"mblAccordionRoundRect");if(this.fixedHeight)this.singleOpen=!0;var a=this.getChildren();h.forEach(a,this._setupChild,this);var b;h.forEach(a,function(a){a.startup();a._at.startup();this.collapse(a,!0);a.selected&&(b=a)},this);
!b&&this.fixedHeight&&(b=a[a.length-1]);b?this.expand(b,!0):this._updateLast();setTimeout(l.hitch(this,function(){this.resize()}),0);this._started=!0}},_setupChild:function(a){if("hidden"!=a.domNode.style.overflow)a.domNode.style.overflow=this.fixedHeight?"auto":"hidden";a._at=new f({label:a.label,alt:a.alt,icon1:a.icon1,icon2:a.icon2,iconPos1:a.iconPos1,iconPos2:a.iconPos2,contentWidget:a});q.place(a._at.domNode,a.domNode,"before");g.add(a.domNode,"mblAccordionPane")},addChild:function(a,b){this.inherited(arguments);
this._started&&(this._setupChild(a),a._at.startup(),a.selected?(this.expand(a,!0),setTimeout(function(){a.domNode.style.height=""},0)):this.collapse(a))},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&a._at.destroy();this.inherited(arguments)},getChildren:function(){return h.filter(this.inherited(arguments),function(a){return!(a instanceof f)})},getSelectedPanes:function(){return h.filter(this.getChildren(),function(a){return"none"!=a.domNode.style.display})},resize:function(){if(this.fixedHeight){var a=
h.filter(this.getChildren(),function(a){return"none"!=a._at.domNode.style.display}),b=this.domNode.clientHeight;h.forEach(a,function(a){b-=a._at.domNode.offsetHeight});this._openSpace=0<b?b:0;a=this.getSelectedPanes()[0];a.domNode.style.webkitTransition="";a.domNode.style.height=this._openSpace+"px"}},_updateLast:function(){var a=this.getChildren();h.forEach(a,function(b,c){g.toggle(b._at.domNode,"mblAccordionTitleLast",c===a.length-1&&!g.contains(b._at.domNode,"mblAccordionTitleSelected"))},this)},
expand:function(b,c){if(b.lazy)a.instantiateLazyWidgets(b.containerNode,b.requires),b.lazy=!1;var d=this.getChildren();h.forEach(d,function(a){a.domNode.style.webkitTransition=c?"":"height "+this.duration+"s linear";if(a===b){a.domNode.style.display="";var d;if(this.fixedHeight)d=this._openSpace;else if(d=parseInt(a.height||a.domNode.getAttribute("height")),!d)a.domNode.style.height="",d=a.domNode.offsetHeight,a.domNode.style.height="0px";setTimeout(function(){a.domNode.style.height=d+"px"},0);this.select(b)}else this.singleOpen&&
this.collapse(a,c)},this);this._updateLast()},collapse:function(a,b){if("none"!==a.domNode.style.display){a.domNode.style.webkitTransition=b?"":"height "+this.duration+"s linear";a.domNode.style.height="0px";if(!k("webkit")||b)a.domNode.style.display="none",this._updateLast();else{var c=this;setTimeout(function(){a.domNode.style.display="none";c._updateLast();if(!c.fixedHeight&&c.singleOpen)for(var b=c.getParent();b;b=b.getParent())if(g.contains(b.domNode,"mblView")){b&&b.resize&&b.resize();break}},
1E3*this.duration)}this.deselect(a)}},select:function(a){a._at.set("selected",!0)},deselect:function(a){a._at.set("selected",!1)}});o.ChildWidgetProperties={alt:"",label:"",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,lazy:!1};l.extend(b,o.ChildWidgetProperties);return o})},"dojox/mobile/lazyLoadUtils":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/window,dojo/_base/Deferred,dojo/ready".split(","),function(h,o,l,k,c,g){return new function(){this._lazyNodes=
[];var q=this;l.parseOnLoad&&g(90,function(){var c=o.filter(k.body().getElementsByTagName("*"),function(a){return"true"===a.getAttribute("lazy")||(a.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/)}),e,b,d,a;for(e=0;e<c.length;e++)o.forEach(["dojoType","data-dojo-type"],function(f){d=o.filter(c[e].getElementsByTagName("*"),function(a){return a.getAttribute(f)});for(b=0;b<d.length;b++)a=d[b],a.setAttribute("__"+f,a.getAttribute(f)),a.removeAttribute(f),q._lazyNodes.push(a)})});g(function(){for(var c=
0;c<q._lazyNodes.length;c++){var e=q._lazyNodes[c];o.forEach(["dojoType","data-dojo-type"],function(b){e.getAttribute("__"+b)&&(e.setAttribute(b,e.getAttribute("__"+b)),e.removeAttribute("__"+b))})}delete q._lazyNodes});this.instantiateLazyWidgets=function(g,e,b){for(var d=new c,e=e?e.split(/,/):[],a=g.getElementsByTagName("*"),f=a.length,k=0;k<f;k++){var l=a[k].getAttribute("dojoType")||a[k].getAttribute("data-dojo-type");l&&(e.push(l),l=(l=a[k].getAttribute("data-dojo-mixins"))?l.split(/, */):[],
e=e.concat(l))}if(0===e.length)return!0;if(h.require)return o.forEach(e,function(a){h.require(a)}),h.parser.parse(g),b&&b(g),!0;e=o.map(e,function(a){return a.replace(/\./g,"/")});require(e,function(){h.parser.parse(g);b&&b(g);d.resolve(!0)});return d}}})},"kso/BaseStoreList":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojox/mobile/EdgeToEdgeStoreList"],function(h,o,l){return h([l],{_rawData:[],constructor:function(k){this.inherited(arguments)},onUpdate:function(k,c){var g=this.getChildren();
g.length>=c&&g[c].set("item",k)},onInsert:function(k,c){this.addChild(this.createListItem(k),c)},onDelete:function(k,c){this.removeChild(this.getChildren()[c])},refresh:function(){if(!this.store)return null;var k=this;k._promise_hndl&&k._promise_hndl.remove();var c=this.store.query(this.query,this.queryOptions);o.when(c,function(g){if(g.items)g=g.items;k._rawData=g;if(c.observe)k._promise_hndl=c.observe(function(c,g,e){if(g==e&&-1!=e)k.onUpdate(c,e);else{if(-1<g)k.onDelete(c,g);if(-1<e)k.onInsert(c,
e)}},!0);k.onComplete(g)},function(c){k.onError(c)});return c},getRawData:function(){return this._rawData}})})},"dojox/mobile/EdgeToEdgeStoreList":function(){define(["dojo/_base/declare","./EdgeToEdgeList","./_StoreListMixin"],function(h,o,l){return h("dojox.mobile.EdgeToEdgeStoreList",[o,l],{})})},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(h,o){return h("dojox.mobile.EdgeToEdgeList",o,{buildRendering:function(){this.inherited(arguments);this.domNode.className=
"mblEdgeToEdgeList"}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase".split(","),function(h,o,l,k,c,g,q,n,e){return o("dojox.mobile.RoundRectList",[e,n,q],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",
buildRendering:function(){this.domNode=this.srcNodeRef||g.create(this.tag);this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],k.hitch(this,function(b){o.safeMixin(this,new b)}));this.connect(this.domNode,"onselectstart",l.stop);if(this.syncWithViews){var b=function(b){var a=h.filter(this.getChildren(),function(a){return a.moveTo==="#"+b.id||a.moveTo===b.id})[0];a&&a.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",b);this.subscribe("/dojox/mobile/startView",
b)}},resize:function(){h.forEach(this.getChildren(),function(b){b.resize&&b.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(b){this._set("stateful",b);this.selectOne=b;h.forEach(this.getChildren(),function(b){b.setArrow&&b.setArrow()})},deselectItem:function(b){b.set("selected",!1)},deselectAll:function(){h.forEach(this.getChildren(),function(b){b.set("selected",!1)})},selectItem:function(b){b.set("selected",!0)}})})},"dojox/mobile/_StoreListMixin":function(){define(["dojo/_base/array",
"dojo/_base/declare","./_StoreMixin","./ListItem"],function(h,o,l,k){return o("dojox.mobile._StoreListMixin",l,{append:!1,itemMap:null,buildRendering:function(){this.inherited(arguments);if(this.store){var c=this.store;this.store=null;this.setStore(c,this.query,this.queryOptions)}},createListItem:function(c){var g={};c.label||(g.label=c[this.labelProperty]);for(var h in c)g[this.itemMap&&this.itemMap[h]||h]=c[h];return new k(g)},generateList:function(c){this.append||h.forEach(this.getChildren(),function(c){c.destroyRecursive()});
h.forEach(c,function(c){this.addChild(this.createListItem(c));c[this.childrenProperty]&&h.forEach(c[this.childrenProperty],function(c){this.addChild(this.createListItem(c))},this)},this)},onComplete:function(c){this.generateList(c)},onError:function(){},onUpdate:function(c,g){g===this.getChildren().length?this.addChild(this.createListItem(c)):this.getChildren()[g].set(c)},onDelete:function(c,g){this.getChildren()[g].destroyRecursive()}})})},"dojox/mobile/_StoreMixin":function(){define(["dojo/_base/Deferred",
"dojo/_base/declare"],function(h,o){return o("dojox.mobile._StoreMixin",null,{store:null,query:null,queryOptions:null,labelProperty:"label",childrenProperty:"children",setStore:function(h,k,c){if(h===this.store)return null;if(h)h.getValue=function(c,k){return c[k]};this.store=h;this._setQuery(k,c);return this.refresh()},setQuery:function(h,k){this._setQuery(h,k);return this.refresh()},_setQuery:function(h,k){this.query=h;this.queryOptions=k||this.queryOptions},refresh:function(){if(!this.store)return null;
var l=this,k=this.store.query(this.query,this.queryOptions);h.when(k,function(c){if(c.items)c=c.items;k.observe&&k.observe(function(c,k,h){if(-1<k)l.onDelete(c,k);else if(-1<h)l.onUpdate(c,h)});l.onComplete(c)},function(c){l.onError(c)});return k}})})},"kso/TabBar":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(h,o,l){return h("moch.dijit.TabBar",[o],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new l({moveTo:"kso_home_view",
"class":"tabBarButtonHome",icon1:"kso/images/btn_home.png"}));this.addChild(new l({moveTo:"kso_planlist_view","class":"tabBarButtonPlan",icon1:"kso/images/btn_plan.png"}));this.addChild(new l({moveTo:"kso_problemlist_view","class":"tabBarButtonProblem",icon1:"kso/images/btn_problem.png"}));this.addChild(new l({moveTo:"kso_about_view","class":"tabBarButtonAbout",icon1:"kso/images/btn_option.png"}))}})})},"kso/SimpleDialog":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojox/mobile/ScrollableView,dojox/mobile/SimpleDialog,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/Slider".split(","),
function(h,o,l,k,c,g,q,n){return h("moch.dijit.Dialog",[c],{confirm:function(c,b,d){var a=new k;l.create("div",{"class":"mblSimpleDialogTitle",innerHTML:c},a.domNode);l.create("div",{"class":"mblSimpleDialogText",innerHTML:b},a.domNode);this.domNode.appendChild(a.domNode);d?(c=new g({label:"Ja",style:"width:100px","class":"mblSimpleDialogButton",onClick:o.hitch(this,function(){if(this._view)d(this._view),this._view=null;this.hide()})}),this.domNode.appendChild(c.domNode),c=new g({label:"Nej",style:"width:100px",
"class":"mblSimpleDialogButton",onClick:o.hitch(this,function(){this.hide()})})):c=new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:o.hitch(this,function(){this.hide()})});this.domNode.appendChild(c.domNode)},datePicker:function(c,b){l.create("div",{"class":"mblSimpleDialogTitle",innerHTML:c},this.domNode);this.domNode.appendChild((new q({name:b})).domNode);this.domNode.appendChild((new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:o.hitch(this,
function(){this.hide()})})).domNode)},sliderPicker:function(){l.create("div",{"class":"mblSimpleDialogTitle",innerHTML:"test"},this.domNode);this.domNode.appendChild((new n({label:"Hvor sikker er du (0-10)?",name:"do_rating_",value:0,min:0,max:10,orientation:"H"})).domNode);this.domNode.appendChild((new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:o.hitch(this,function(){this.hide()})})).domNode)}})})},"dojox/mobile/SimpleDialog":function(){define("dojo/_base/declare,dojo/_base/window,dojo/dom-class,dojo/dom-construct,./Pane,./iconUtils".split(","),
function(h,o,l,k,c,g){return h("dojox.mobile.SimpleDialog",c,{top:"auto",left:"auto",modal:!0,closeButton:!1,closeButtonClass:"mblDomButtonSilverCircleRedCross",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSimpleDialog",_cover:[],buildRendering:function(){this.containerNode=k.create("div",{className:"mblSimpleDialogContainer"});if(this.srcNodeRef)for(var c=0,h=this.srcNodeRef.childNodes.length;c<h;c++)this.containerNode.appendChild(this.srcNodeRef.removeChild(this.srcNodeRef.firstChild));this.inherited(arguments);
l.add(this.domNode,"mblSimpleDialogDecoration");this.domNode.style.display="none";this.domNode.appendChild(this.containerNode);if(this.closeButton)this.closeButtonNode=k.create("div",{className:"mblSimpleDialogCloseBtn "+this.closeButtonClass},this.domNode),g.createDomButton(this.closeButtonNode),this._clickHandle=this.connect(this.closeButtonNode,"onclick","_onCloseButtonClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onKeyDown")},startup:function(){this._started||(this.inherited(arguments),
o.body().appendChild(this.domNode))},addCover:function(){this._cover[0]?this._cover[0].style.display="":this._cover[0]=k.create("div",{className:"mblSimpleDialogCover"},o.body())},removeCover:function(){this._cover[0].style.display="none"},_onCloseButtonClick:function(c){!1!==this.onCloseButtonClick(c)&&this.hide()},onCloseButtonClick:function(){},_onKeyDown:function(c){27==c.keyCode&&this.hide()},refresh:function(){var c=this.domNode;if(this.closeButton){var g=this.closeButtonNode,e=Math.round(g.offsetHeight/
2);g.style.top=-e+"px";g.style.left=c.offsetWidth-e+"px"}"auto"===this.top?(g=o.global.innerHeight||o.doc.documentElement.clientHeight,c.style.top=Math.round((g-c.offsetHeight)/2)+"px"):c.style.top=this.top;"auto"===this.left?(g=o.global.innerWidth||o.doc.documentElement.clientWidth,c.style.left=Math.round((g-c.offsetWidth)/2)+"px"):c.style.left=this.left},show:function(){if(""!==this.domNode.style.display)this.modal&&this.addCover(),this.domNode.style.display="",this.refresh(),this.domNode.focus()},
hide:function(){if("none"!==this.domNode.style.display)this.domNode.style.display="none",this.modal&&this.removeCover()}})})},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(h,o,l,k){return o("dojox.mobile.Pane",[k,l],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},resize:function(){h.forEach(this.getChildren(),function(c){c.resize&&c.resize()})}})})},
"dojox/mobile/DatePicker":function(){define(["dojo/_base/lang","./_PickerChooser!DatePicker"],function(h,o){return h.setObject("dojox.mobile.DatePicker",o)})},"dojox/mobile/_PickerChooser":function(){define(["dojo/_base/lang","dojo/_base/window"],function(h,o){return{load:function(l,k,c){var g=o.global._no_dojo_dm||h.getObject("dojox.mobile",!0);k([("android"===g.currentTheme?"./ValuePicker":"./SpinWheel")+l],c)}}})},"dojox/mobile/Slider":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/keys,dijit/_WidgetBase,dijit/form/_FormValueMixin".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a){return l("dojox.mobile.Slider",[d,a],{value:0,min:0,max:100,step:1,baseClass:"mblSlider",flip:!1,orientation:"auto",halo:"8pt",buildRendering:function(){this.focusNode=this.domNode=q.create("div",{});this.valueNode=q.create("input",this.srcNodeRef&&this.srcNodeRef.name?{type:"hidden",name:this.srcNodeRef.name}:{type:"hidden"},this.domNode,"last");var a=q.create("div",{style:{position:"relative",height:"100%",width:"100%"}},this.domNode,"last");this.progressBar=q.create("div",
{style:{position:"absolute"},"class":"mblSliderProgressBar"},a,"last");this.touchBox=q.create("div",{style:{position:"absolute"},"class":"mblSliderTouchBox"},a,"last");this.handle=q.create("div",{style:{position:"absolute"},"class":"mblSliderHandle"},a,"last");this.inherited(arguments)},_setValueAttr:function(a,b){a=Math.max(Math.min(a,this.max),this.min);this.valueNode.value=a;this.inherited(arguments);if(this._started){this.focusNode.setAttribute("aria-valuenow",a);var c=100*(a-this.min)/(this.max-
this.min);!0===b?(g.add(this.handle,"mblSliderTransition"),g.add(this.progressBar,"mblSliderTransition")):(g.remove(this.handle,"mblSliderTransition"),g.remove(this.progressBar,"mblSliderTransition"));e.set(this.handle,this._attrs.handleLeft,(this._reversed?100-c:c)+"%");e.set(this.progressBar,this._attrs.width,c+"%")}},postCreate:function(){function a(b){function f(a){d=g?a[this._attrs.pageX]:a.touches?a.touches[0][this._attrs.pageX]:a[this._attrs.clientX];l=d-G;l=Math.min(Math.max(l,0),C);a=this.step?
(this.max-this.min)/this.step:C;if(1>=a||Infinity==a)a=C;q=(this.max-this.min)*Math.round(l*a/C)/a;q=this._reversed?this.max-q:this.min+q}b.preventDefault();var g="mousedown"==b.type,x=n.position(w,!1),t=e.get(c.body(),"zoom")||1;isNaN(t)&&(t=1);var u=e.get(w,"zoom")||1;isNaN(u)&&(u=1);var G=x[this._attrs.x]*u*t+n.docScroll()[this._attrs.x],C=x[this._attrs.w]*u*t;k.hitch(this,f)(b);b.target==this.touchBox&&this.set("value",q,!0);h.forEach(H,o.disconnect);var b=c.doc.documentElement,H=[this.connect(b,
g?"onmousemove":"ontouchmove",function(a){a.preventDefault();k.hitch(this,f)(a);this.set("value",q,!1)}),this.connect(b,g?"onmouseup":"ontouchend",function(a){a.preventDefault();h.forEach(H,k.hitch(this,"disconnect"));H=[];this.set("value",this.value,!0)})]}this.inherited(arguments);var d,l,q,w=this.domNode;if("auto"==this.orientation)this.orientation=w.offsetHeight<=w.offsetWidth?"H":"V";g.add(this.domNode,h.map(this.baseClass.split(" "),k.hitch(this,function(a){return a+this.orientation})));var u=
"V"!=this.orientation,x=u?this.isLeftToRight():!1,t=!!this.flip;this._reversed=!(u&&(x&&!t||!x&&t)||!u&&t);this._attrs=u?{x:"x",w:"w",l:"l",r:"r",pageX:"pageX",clientX:"clientX",handleLeft:"left",left:this._reversed?"right":"left",width:"width"}:{x:"y",w:"h",l:"t",r:"b",pageX:"pageY",clientX:"clientY",handleLeft:"top",left:this._reversed?"bottom":"top",width:"height"};this.progressBar.style[this._attrs.left]="0px";this.connect(this.touchBox,"ontouchstart",a);this.connect(this.touchBox,"onmousedown",
a);this.connect(this.handle,"ontouchstart",a);this.connect(this.handle,"onmousedown",a);this.connect(this.domNode,"onkeypress",function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){var c=this.step,d=1;switch(a.keyCode){case b.HOME:c=this.min;break;case b.END:c=this.max;break;case b.RIGHT_ARROW:d=-1;case b.LEFT_ARROW:c=this.value+d*(t&&u?c:-c);break;case b.DOWN_ARROW:d=-1;case b.UP_ARROW:c=this.value+d*(!t||u?c:-c);break;default:return}a.preventDefault();this._setValueAttr(c,
!1)}});this.connect(this.domNode,"onkeyup",function(a){!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&this._setValueAttr(this.value,!0)});this.startup();this.set("value",this.value)}})})},"kso/views/PlanList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u){return l([q],{id:"kso_planlist_view",postCreate:function(){var f=this,g=new u,h;g.confirm("Hj\u00e6lp til handleplan","Oversigt over handleplaner.<br /><br />Du kan have max. 5 aktive handleplaner.");this.addChild(g);var p=new u;p.confirm("Hj\u00e6lp til handleplan","Du kan have max. 5 aktive handleplaner.");this.addChild(p);sview=new n;h=new d({label:"handleplaner","class":"headingPlan"});h.addChild(new a({icon:"kso/images/btn_help.png","class":"toolBarButton",
style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(h);h=new d({id:"headingActionPlanList",baseClass:"headingActionPlan"});h.addChild(new a({label:"Opret",onClick:function(){var a=r.getInstance().getStore("kso_plan","kso_plan").query({active:1});a.then(function(){a.total.then(function(a){5<=a?p.show():k.publish("plan/create",f,null)})})}}));this.addChild(h);h=r.getInstance().getStore("kso_plan","kso_plan");this.addChild(new b({label:"Alle handleplaner:","class":"categoryPlan"}));
(new Boolean(!0)).test=function(){return!0};h=new s({store:h,query:{hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"do_evaluate",descending:!0},{attribute:"id",descending:!0}]},createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,onClick:function(){1==a.active?k.publish("diary/list",f,this.item):k.publish("plan/diary",f,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);0==a.active?this.set("rightText","Afsluttet"):this.set("rightText",
"");this.set("icon",1==a.do_evaluate?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(h);this.addChild(sview);this.addChild(new w);k.subscribe("plan/list",c.hitch(this,function(a){a.performTransition("kso_planlist_view")}))},onStartView:function(){}})})},"kso/views/PlanCreate":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F){return l([p],{id:"kso_plancreate_view",_form:null,_item:null,_date_start:null,_do_in_days:null,_do_success:null,postCreate:function(){var b=this,d=new F,e;d.confirm("Hj\u00e6lp til handleplan","N\u00e5r du opretter en handleplan, er det vigtigt, at den er REALISTISK, at det er noget DU GERNE VIL opn\u00e5, og at det er en HANDLING - at tabe sig er fx ikke en handling, men at undg\u00e5 usunde mellemm\u00e5ltider er en handling. At tabe sig er et resultat af \u00e6ndret handling.");
this.addChild(d);var g=new F;g.confirm("","Kan du justere din handleplan, s\u00e5 du er mere sikker p\u00e5 at kunne gennemf\u00f8re den?");this.addChild(g);e=new F;e.datePicker("V\u00e6lg en start dato","_date_start");this.addChild(e);e=new F;e.sliderPicker();this.addChild(e);sview=new r;e=new x({label:"Opret handleplan","class":"headingPlan"});var h=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});e.addChild(h);e.addChild(new t({icon:"kso/images/btn_help.png",
"class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));this.addChild(e);e=new x({id:"headingActionPlanCreate",baseClass:"headingActionPlan"});var p=new t({label:"Annuller",moveTo:"kso_planlist_view"});e.addChild(p);e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(e);e=new f({orientation:"vert"});this._date_start=new D({name:"date_start",label:"Start dato?"});e.addChild(this._date_start);var l=new G({label:"Varighed (antal dage)?"});this._do_in_days=
new C({labelFrom:1,labelTo:21,style:{width:"40px"},value:7});l.addChild(this._do_in_days);e.addChild(l);l=new u({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"Fx. g\u00e5 en tur rundt om boligblokken",trim:!0});e.addChild(l);l=new u({name:"do_how_much",label:"Hvor meget?","class":"mochInput",placeHolder:"Fx. 10 minutter",trim:!0});e.addChild(l);l=new u({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"Fx. F\u00f8r frokost",trim:!0});e.addChild(l);l=new u({name:"do_how_often",
label:"Hvor ofte?","class":"mochInput",placeHolder:"Fx. mandag, onsdag og fredag",trim:!0});e.addChild(l);l=new G({label:"Hvor sikker er du? (0 = slet ikke sikker, 10 = helt sikker)?",onValueChanged:function(){7>b._do_success.get("value")&&g.show()}});this._do_success=new C({labelFrom:0,labelTo:10,style:{width:"40px"},value:10});l.addChild(this._do_success);e.addChild(l);this._form=new a;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new J);
k.subscribe("plan/create",c.hitch(this,function(a,b){h.set("moveTo",a.id);p.set("moveTo",a.id);this._item=c.clone(b);b?(this._item.do_what+=" KOPI",this._item.active=1,delete this._item.id,delete this._item.do_evaluate,delete this._item.do_evaluate_txt,this._form.set("value",this._item)):this._form.reset();a.performTransition("kso_plancreate_view");var f=B.getInstance().getStore("kso_plan","kso_plan").query();f.then(function(){f.total.then(function(a){0==a&&d.show()})})}))},onSubmit:function(a){g.stop(a);
var d=B.getInstance().getStore("kso_plan","kso_plan"),f=B.getInstance().getStore("kso_diary","kso_diary"),e=this._form.get("value"),e=c.mixin(this._item,e);e.active=1;e.do_in_days=this._do_in_days.get("value");e.do_success=this._do_success.get("value");var h=new Date(this._date_start.get("value"));d.add(e).then(function(a){var g={id:a.id};c.mixin(g,a);for(var k=0;k<parseInt(e.do_in_days);k++){var p=I.date_to_iso(b.add(h,"day",k)),l={use_at:p,plan_id:a.id};0==k?g.use_at_start=p:g.use_at_end=p;f.add(l)}d.put(g)});
k.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/Switch":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/touch,dijit/_Contained,dijit/_WidgetBase,./sniff".split(","),function(h,o,l,k,c,g,q,n,e,b,d,a){return l("dojox.mobile.Switch",[d,b],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",
role:"",_createdMasks:[],buildRendering:function(){this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:q.create("span");this.inherited(arguments);var a=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];if(a=a.match(/mblSw.*Shape\d*/))this.shape=a;g.add(this.domNode,this.shape);this.domNode.innerHTML='<div class="mblSwitchInner"><div class="mblSwitchBg mblSwitchBgLeft"><div class="mblSwitchText mblSwitchTextLeft"></div></div><div class="mblSwitchBg mblSwitchBgRight"><div class="mblSwitchText mblSwitchTextRight"></div></div><div class="mblSwitchKnob"></div><input type="hidden"'+
(this.name?' name="'+this.name+'"':"")+"></div></div>";a=this.inner=this.domNode.firstChild;this.left=a.childNodes[0];this.right=a.childNodes[1];this.knob=a.childNodes[2];this.input=a.childNodes[3]},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");this._startHandle=this.connect(this.domNode,e.press,"onTouchStart");this._initialValue=this.value},_changeState:function(a,b){var c="on"===a;this.left.style.display=
"";this.right.style.display="";this.inner.style.left="";b&&g.add(this.domNode,"mblSwitchAnimation");g.remove(this.domNode,c?"mblSwitchOff":"mblSwitchOn");g.add(this.domNode,c?"mblSwitchOn":"mblSwitchOff");var d=this;setTimeout(function(){d.left.style.display=c?"":"none";d.right.style.display=!c?"":"none";g.remove(d.domNode,"mblSwitchAnimation")},b?300:0)},_createMaskImage:function(){if(!this._hasMaskImage&&(this._width=this.domNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,a("webkit"))){var b=
n.get(this.left,"borderTopLeftRadius");if("0px"!=b){var d=b.split(" "),b=parseFloat(d[0]),d=1==d.length?b:parseFloat(d[1]),e=this.domNode.offsetWidth,g=this.domNode.offsetHeight,k=(this.shape+"Mask"+e+g+b+d).replace(/\./,"_");if(!this._createdMasks[k]){this._createdMasks[k]=1;var h=c.doc.getCSSCanvasContext("2d",k,e,g);h.fillStyle="#000000";h.beginPath();b==d?(h.moveTo(b,0),h.arcTo(0,0,0,b,b),h.lineTo(0,g-b),h.arcTo(0,g,b,g,b),h.lineTo(e-b,g),h.arcTo(e,g,e,b,b),h.lineTo(e,b),h.arcTo(e,0,e-b,0,b)):
(g=Math.PI,h.scale(1,d/b),h.moveTo(b,0),h.arc(b,b,b,1.5*g,0.5*g,!0),h.lineTo(e-b,2*b),h.arc(e-b,b,b,0.5*g,1.5*g,!0));h.closePath();h.fill()}this.domNode.style.webkitMaskImage="-webkit-canvas("+k+")"}}},_onClick:function(a){if(!(a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(a){this._moved=!1;this.innerStartX=
this.inner.offsetLeft;if(!this._conn)this._conn=[this.connect(this.inner,e.move,"onTouchMove"),this.connect(this.inner,e.release,"onTouchEnd")];this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.left.style.display="";this.right.style.display="";k.stop(a);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var b=this.innerStartX+a;b<=-(this._width-
10)&&(b=-this._width);-10<=b&&(b=0);this.inner.style.left=b+"px";if(10<Math.abs(a))this._moved=!0},onTouchEnd:function(){h.forEach(this._conn,o.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(a("touch")&&!(4.1<=a("android"))){var b=c.doc.createEvent("MouseEvents");b.initEvent("click",!0,!0);this.inner.dispatchEvent(b)}}else if(b=this.inner.offsetLeft<-(this._width/2)?"off":"on",this._changeState(b,!0),b!=this.value)this.value=this.input.value=b,this.onStateChanged(b)},onStateChanged:function(){},
_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}})})},"dojox/mobile/ValuePicker":function(){define(["dojo/_base/declare","./_PickerBase","./ValuePickerSlot"],function(h,
o){return h("dojox.mobile.ValuePicker",o,{baseClass:"mblValuePicker",onValueChanged:function(){}})})},"dojox/mobile/_PickerBase":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(h,o,l,k,c){return o("dojox.mobile._PickerBase",[c,k,l],{slotClasses:[],slotProps:[],slotOrder:[],buildRendering:function(){this.inherited(arguments);this.slots=[];for(var c=0;c<this.slotClasses.length;c++){var k=this.slotOrder.length?this.slotOrder[c]:
c,h=new this.slotClasses[k](this.slotProps[k]);this.addChild(h);this.slots[k]=h}},startup:function(){this._started||(this.inherited(arguments),this.reset())},getSlots:function(){return this.slots.length?this.slots:h.filter(this.getChildren(),function(c){return-1!==c.declaredClass.indexOf("Slot")})},_getValuesAttr:function(){return h.map(this.getSlots(),function(c){return c.get("value")})},_setValuesAttr:function(c){h.forEach(this.getSlots(),function(k,h){k.set("value",c[h])})},_setColorsAttr:function(c){h.forEach(this.getSlots(),
function(k,h){k.setColor&&k.setColor(c[h])})},reset:function(){h.forEach(this.getSlots(),function(c){c.setInitialValue()})}})})},"dojox/mobile/ValuePickerSlot":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/touch,dijit/_WidgetBase,./iconUtils".split(","),function(h,o,l,k,c,g,q,n,e,b){return o("dojox.mobile.ValuePickerSlot",e,{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,readOnly:!1,
tabIndex:"0",baseClass:"mblValuePickerSlot",buildRendering:function(){this.inherited(arguments);this.initLabels();if(0<this.labels.length){this.items=[];for(i=0;i<this.labels.length;i++)this.items.push([i,this.labels[i]])}this.plusBtnNode=q.create("div",{className:"mblValuePickerSlotPlusButton mblValuePickerSlotButton",title:"+"},this.domNode);this.plusIconNode=q.create("div",{className:"mblValuePickerSlotIcon"},this.plusBtnNode);b.createIcon("mblDomButtonGrayPlus",null,this.plusIconNode);this.inputAreaNode=
q.create("div",{className:"mblValuePickerSlotInputArea"},this.domNode);this.inputNode=q.create("input",{className:"mblValuePickerSlotInput",readonly:this.readOnly},this.inputAreaNode);this.minusBtnNode=q.create("div",{className:"mblValuePickerSlotMinusButton mblValuePickerSlotButton",title:"-"},this.domNode);this.minusIconNode=q.create("div",{className:"mblValuePickerSlotIcon"},this.minusBtnNode);b.createIcon("mblDomButtonGrayMinus",null,this.minusIconNode);if(""===this.value&&0<this.items.length)this.value=
this.items[0][1];this._initialValue=this.value},startup:function(){if(!this._started)this._handlers=[this.connect(this.plusBtnNode,n.press,"_onTouchStart"),this.connect(this.minusBtnNode,n.press,"_onTouchStart"),this.connect(this.plusBtnNode,"onkeydown","_onClick"),this.connect(this.minusBtnNode,"onkeydown","_onClick"),this.connect(this.inputNode,"onchange",k.hitch(this,function(b){this._onChange(b)}))],this.inherited(arguments)},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var b=this.labels=
[],a=this.zeroPad&&Array(this.zeroPad).join("0"),c=this.labelFrom;c<=this.labelTo;c+=this.step)b.push(this.zeroPad?(a+c).slice(-this.zeroPad):c+"")},spin:function(b){for(var a=-1,c=this.get("value"),e=this.items.length,g=0;g<e;g++)if(this.items[g][1]===c){a=g;break}-1!=c&&(a+=b,0>a&&(a+=(Math.abs(Math.ceil(a/e))+1)*e),this.set("value",this.items[a%e][1]))},setInitialValue:function(){this.set("value",this._initialValue)},_onClick:function(b){if(!(b&&"keydown"===b.type&&13!==b.keyCode||!1===this.onClick(b))){b=
b.currentTarget;if(b===this.plusBtnNode||b===this.minusBtnNode)this._btn=b;this.spin(this._btn===this.plusBtnNode?1:-1)}},onClick:function(){},_onChange:function(b){!1!==this.onChange(b)&&(b=this.validate(this.get("value")),this.set("value",b.length?b[0][1]:this.value))},onChange:function(){},validate:function(b){return h.filter(this.items,function(a){return(a[1]+"").toLowerCase()==(b+"").toLowerCase()})},_onTouchStart:function(b){this._conn=[this.connect(c.body(),n.move,"_onTouchMove"),this.connect(c.body(),
n.release,"_onTouchEnd")];this.touchStartX=b.touches?b.touches[0].pageX:b.clientX;this.touchStartY=b.touches?b.touches[0].pageY:b.clientY;g.add(b.currentTarget,"mblValuePickerSlotButtonSelected");this._btn=b.currentTarget;if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._interval)clearInterval(this._interval),this._interval=null;this._timer=setTimeout(k.hitch(this,function(){this._interval=setInterval(k.hitch(this,function(){this.spin(this._btn===this.plusBtnNode?1:-1)}),60);this._timer=
null}),1E3);l.stop(b)},_onTouchMove:function(b){var a=b.touches?b.touches[0].pageY:b.clientY;if(4<=Math.abs((b.touches?b.touches[0].pageX:b.clientX)-this.touchStartX)||4<=Math.abs(a-this.touchStartY)){if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._interval)clearInterval(this._interval),this._interval=null;h.forEach(this._conn,this.disconnect,this);g.remove(this._btn,"mblValuePickerSlotButtonSelected")}},_onTouchEnd:function(b){if(this._timer)clearTimeout(this._timer),this._timer=
null;h.forEach(this._conn,this.disconnect,this);g.remove(this._btn,"mblValuePickerSlotButtonSelected");this._interval?(clearInterval(this._interval),this._interval=null):this._onClick(b)},_getKeyAttr:function(){var b=this.get("value"),a=h.filter(this.items,function(a){return a[1]===b})[0];return a?a[0]:null},_getValueAttr:function(){return this.inputNode.value},_setValueAttr:function(b){this.inputNode.value=b;this._set("value",b);if((b=this.getParent())&&b.onValueChanged)b.onValueChanged(this)},_setTabIndexAttr:function(b){this.plusBtnNode.setAttribute("tabIndex",
b);this.minusBtnNode.setAttribute("tabIndex",b)}})})},"dojox/mobile/ComboBox":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-geometry,dojo/dom-style,dojo/window,dojo/touch,dijit/form/_AutoCompleterMixin,dijit/popup,./_ComboBoxMenu,./TextBox,./sniff".split(","),function(h,o,l,k,c,g,q,n,e,b,d,a,f){h.experimental("dojox.mobile.ComboBox");return o("dojox.mobile.ComboBox",[a,e],{dropDownClass:"dojox.mobile._ComboBoxMenu",selectOnClick:!1,autoComplete:!1,
dropDown:null,maxHeight:-1,dropDownPosition:["below","above"],_throttleOpenClose:function(){this._throttleHandler&&this._throttleHandler.remove();this._throttleHandler=this.defer(function(){this._throttleHandler=null},500)},_onFocus:function(){this.inherited(arguments);!this._opened&&!this._throttleHandler&&this._startSearchAll()},onInput:function(a){this._onKey(a);this.inherited(arguments)},_setListAttr:function(a){this._set("list",a)},closeDropDown:function(){this._throttleOpenClose();if(this.endHandler)this.disconnect(this.startHandler),
this.disconnect(this.endHandler),this.disconnect(this.moveHandler),clearInterval(this.repositionTimer),this.repositionTimer=this.endHandler=null;this.inherited(arguments);b.close(this.dropDown);this._opened=!1},openDropDown:function(){var a=!this._opened,d=this.dropDown,e=d.domNode,h=this.domNode,o=this;f("touch")&&k.global.scrollBy(0,c.position(h,!1).y);if(!this._preparedNode){this._preparedNode=!0;if(e.style.width)this._explicitDDWidth=!0;if(e.style.height)this._explicitDDHeight=!0}var x={display:"",
overflow:"hidden",visibility:"hidden"};if(!this._explicitDDWidth)x.width="";if(!this._explicitDDHeight)x.height="";g.set(e,x);x=this.maxHeight;if(-1==x)var x=q.getBox(),t=c.position(h,!1),x=Math.floor(Math.max(t.y,x.h-(t.y+t.h)));b.moveOffScreen(d);d.startup&&!d._started&&d.startup();t=c.position(this.dropDown.containerNode,!1);if(x&&t.h>x)t.h=x;t.w=Math.max(t.w,h.offsetWidth);c.setMarginBox(e,t);e=b.open({parent:this,popup:d,around:h,orient:this.dropDownPosition,onExecute:function(){o.closeDropDown()},
onCancel:function(){o.closeDropDown()},onClose:function(){o._opened=!1}});this._opened=!0;if(a){var y=!1,v=!1,A=!1,z=d.domNode.parentNode,a=c.position(h,!1),x=c.position(z,!1),E=x.x-a.x,D=x.y-a.y,G=-1,C=-1;this.startHandler=this.connect(k.doc.documentElement,n.press,function(a){A=v=!0;y=!1;G=a.clientX;C=a.clientY});this.moveHandler=this.connect(k.doc.documentElement,n.move,function(a){v=!0;if(a.touches)A=y=!0;else if(A&&(a.clientX!=G||a.clientY!=C))y=!0});this.clickHandler=this.connect(d.domNode,
"onclick",function(){v=!0;A=y=!1});this.endHandler=this.connect(k.doc.documentElement,"onmouseup",function(){this.defer(function(){v=!0;!y&&A&&this.closeDropDown();A=!1})});this.repositionTimer=setInterval(l.hitch(this,function(){if(v)v=!1;else{var a=c.position(h,!1),b=c.position(z,!1),d=b.x-a.x,a=b.y-a.y;(1<=Math.abs(d-E)||1<=Math.abs(a-D))&&g.set(z,{left:parseInt(g.get(z,"left"))+E-d+"px",top:parseInt(g.get(z,"top"))+D-a+"px"})}}),50)}return e},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,
"onclick","_onClick")},destroy:function(){this.repositionTimer&&clearInterval(this.repositionTimer);this.inherited(arguments)},_onClick:function(){this._throttleHandler||(this.opened?this.closeDropDown():this._startSearchAll())}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),function(h,
o,l,k,c,g,q,n,e,b,d,a,f,p){return o("dijit.form._AutoCompleterMixin",p,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(e("ie")){var c=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=(""+a.text).replace(/\r/g,"").length}catch(d){}}return b},
_setCaretPos:function(a,b){b=parseInt(b);f.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==c.ALT||b==c.CTRL||b==c.META||b==c.SHIFT)){var d=this.dropDown,f=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(f=d.getHighlightedOption()),b){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&
this._announceOption(f);k.stop(a);break;case c.ENTER:if(f){if(f==d.nextButton){this._nextSearch(1);k.stop(a);break}else if(f==d.previousButton){this._nextSearch(-1);k.stop(a);break}k.stop(a)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;f&&this._selectOption(f);case c.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=
this.focusNode;f.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length)b.value=a,f.selectInputText(b,c)}else b.value=a,f.selectInputText(b)},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=g.hitch(this,function(b){a.nextPage(-1!==
b);this.focus()}),this.dropDown.createOptions(a,c,g.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"),this.focusNode.removeAttribute("aria-activedescendant"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,
!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState())},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0)},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (g.isString(this.dropDownClass)?g.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:g.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",
b)}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new d({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=q('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",
a[0].id)}this.inherited(arguments);this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}"),b=n.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==
d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,
b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(h){var o={};h.setObject("dojo.data.util.filter",o);o.patternToRegExp=function(h,k){for(var c="^",g=null,o=0;o<h.length;o++)switch(g=h.charAt(o),g){case "\\":c+=g;o++;c+=h.charAt(o);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+=
"\\";default:c+=g}c+="$";return k?RegExp(c,"mi"):RegExp(c,"m")};return o})},"dijit/form/DataList":function(){define("dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),function(h,o,l,k,c,g){function q(c){return{id:c.value,value:c.value,name:l.trim(c.innerText||c.textContent||"")}}return h("dijit.form.DataList",c,{constructor:function(c,e){this.domNode=o.byId(e);l.mixin(this,c);this.id&&g.add(this);this.domNode.style.display="none";this.inherited(arguments,
[{data:k("option",this.domNode).map(q)}])},destroy:function(){g.remove(this.id)},fetchSelectedItem:function(){var c=k("> option[selected]",this.domNode)[0]||k("> option",this.domNode)[0];return c&&q(c)}})})},"dijit/form/_SearchMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),function(h,o,l,k,c,g,q,n,e,b){return o("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,
fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=
null}},_processInput:function(b){if(!this.disabled&&!this.readOnly){var a=b.charOrCode;if(!b.altKey&&!((b.ctrlKey||b.metaKey)&&"x"!=a&&"v"!=a||a==k.SHIFT)){this._prev_key_backspace=b=!1;switch(a){case k.DELETE:case k.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:b="string"==typeof a||229==a}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,
"\\$1"))},_startSearch:function(b){this._abortQuery();var a=this,f=c.clone(this.query),g={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},k=n.substitute(this.queryExpr,[b]),l,o=function(){var b=a._fetchHandle=a.store.query(f,g);!a.disabled&&!(a.readOnly||l!==a._lastQuery)&&e(b,function(c){a._fetchHandle=null;!a.disabled&&!a.readOnly&&l===a._lastQuery&&e(b.total,function(b){c.total=b;var d=a.pageSize;if(isNaN(d)||d>c.total)d=c.total;c.nextPage=function(b){g.direction=
b=!1!==b;g.count=d;if(b){if(g.start+=c.length,g.start>=c.total)g.count=0}else if(g.start-=d,0>g.start)g.count=Math.max(d+g.start,0),g.start=0;0>=g.count?(c.length=0,a.onSearch(c,f,g)):o()};a.onSearch(c,f,g)})},function(b){a._fetchHandle=null;a._cancelingQuery||console.error(a.declaredClass+" "+b.toString())})};c.mixin(g,this.fetchProperties);this.store._oldAPI?l=k:(l=h.patternToRegExp(k,this.ignoreCase),l.toString=function(){return k});this._lastQuery=f[this.searchAttr]=l;this._queryDeferHandle=this.defer(o,
this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var c=this.list;if(c)this.store=b.byId(c)}this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(h,o,l,k,
c,g,q,n,e,b,d,a,f,p,r,s,w){function u(){this._popupWrapper&&(q.destroy(this._popupWrapper),delete this._popupWrapper)}k=k(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=q.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,o.after(a,"destroy",u,!0);return b},moveOffScreen:function(a){a=this._createWrapper(a);
e.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);e.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(e){for(var k=this._stack,h=e.popup,o=e.orient||["below","below-alt","above","above-alt"],q=e.parent?e.parent.isLeftToRight():n.isBodyLtr(h.ownerDocument),u=e.around,w=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;k.length&&(!e.parent||
!c.isDescendant(e.parent.domNode,k[k.length-1].widget.domNode));)this.close(k[k.length-1].widget);var D=this._createWrapper(h);g.set(D,{id:w,style:{zIndex:this._beginZIndex+k.length},"class":"dijitPopup "+(h.baseClass||h["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:e.parent?e.parent.id:""});if((p("ie")||p("mozilla"))&&!h.bgIframe)h.bgIframe=new s(D);o=u?r.around(D,u,o,q,h.orient?a.hitch(h,"orient"):null):r.at(D,e,"R"==o?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding);D.style.display=
"";D.style.visibility="visible";h.domNode.style.visibility="visible";q=[];q.push(f(D,l._keypress,a.hitch(this,function(a){if(a.charOrCode==d.ESCAPE&&e.onCancel)b.stop(a),e.onCancel();else if(a.charOrCode===d.TAB&&(b.stop(a),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));h.onCancel&&e.onCancel&&q.push(h.on("cancel",e.onCancel));q.push(h.on(h.onExecute?"execute":"change",a.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));k.push({widget:h,parent:e.parent,onExecute:e.onExecute,
onCancel:e.onCancel,onClose:e.onClose,handlers:q});if(h.onOpen)h.onOpen(o);return o},close:function(a){for(var b=this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,f=c.onClose;if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);f&&f()}}});return w.popup=new k})},"dijit/place":function(){define("dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),
function(h,o,l,k,c,g,q){function n(e,b,d,a){var f=g.getBox(e.ownerDocument);(!e.parentNode||"body"!=(""+e.parentNode.tagName).toLowerCase())&&c.body(e.ownerDocument).appendChild(e);var k=null;h.some(b,function(b){var c=b.corner,g=b.pos,h=0,l={w:{L:f.l+f.w-g.x,R:g.x-f.l,M:f.w}[c.charAt(1)],h:{T:f.t+f.h-g.y,B:g.y-f.t,M:f.h}[c.charAt(0)]},n=e.style;n.left=n.right="auto";d&&(h=d(e,b.aroundCorner,c,l,a),h="undefined"==typeof h?0:h);var q=e.style,r=q.display,z=q.visibility;if("none"==q.display)q.visibility=
"hidden",q.display="";n=o.position(e);q.display=r;q.visibility=z;r={L:g.x,R:g.x-n.w,M:Math.max(f.l,Math.min(f.l+f.w,g.x+(n.w>>1))-n.w)}[c.charAt(1)];z={T:g.y,B:g.y-n.h,M:Math.max(f.t,Math.min(f.t+f.h,g.y+(n.h>>1))-n.h)}[c.charAt(0)];g=Math.max(f.l,r);q=Math.max(f.t,z);r=Math.min(f.l+f.w,r+n.w);z=Math.min(f.t+f.h,z+n.h);r-=g;z-=q;h+=n.w-r+(n.h-z);if(null==k||h<k.overflow)k={corner:c,aroundCorner:b.aroundCorner,x:g,y:q,w:r,h:z,overflow:h,spaceAvailable:l};return!h});k.overflow&&d&&d(e,k.aroundCorner,
k.corner,k.spaceAvailable,a);var b=o.isBodyLtr(e.ownerDocument),l=e.style;l.top=k.y+"px";l[b?"left":"right"]=(b?k.x:f.w-k.x-k.w)+"px";l[b?"right":"left"]="auto";return k}return q.place={at:function(c,b,d,a){d=h.map(d,function(c){var d={corner:c,pos:{x:b.x,y:b.y}};a&&(d.pos.x+="L"==c.charAt(1)?a.x:-a.x,d.pos.y+="T"==c.charAt(0)?a.y:-a.y);return d});return n(c,d)},around:function(c,b,d,a,f){function g(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:y,R:y+A,M:y+(A>>1)}[a.charAt(1)],y:{T:v,B:v+z,M:v+(z>>
1)}[a.charAt(0)]}})}var q="string"==typeof b||"offsetWidth"in b?o.position(b,!0):b;if(b.parentNode)for(var s="absolute"==l.getComputedStyle(b).position,b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){var w=o.position(b,!0),u=l.getComputedStyle(b);/relative|absolute/.test(u.position)&&(s=!1);if(!s&&/hidden|auto|scroll/.test(u.overflow)){var x=Math.min(q.y+q.h,w.y+w.h),t=Math.min(q.x+q.w,w.x+w.w);q.x=Math.max(q.x,w.x);q.y=Math.max(q.y,w.y);q.h=x-q.y;q.w=t-q.x}"absolute"==u.position&&(s=!0);b=
b.parentNode}var y=q.x,v=q.y,A="w"in q?q.w:q.w=q.width,z="h"in q?q.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+y+", y:"+v+", height:"+q.height+", width:"+A+" } has been deprecated.  Please use { x:"+y+", y:"+v+", h:"+q.height+", w:"+A+" }","","2.0"),q.h=q.height),E=[];h.forEach(d,function(b){var c=a;switch(b){case "above-centered":g("TM","BM");break;case "below-centered":g("BM","TM");break;case "after-centered":c=!c;case "before-centered":g(c?"ML":"MR",c?"MR":"ML");break;case "after":c=
!c;case "before":g(c?"TL":"TR",c?"TR":"TL");g(c?"BL":"BR",c?"BR":"BL");break;case "below-alt":c=!c;case "below":g(c?"BL":"BR",c?"TL":"TR");g(c?"BR":"BL",c?"TR":"TL");break;case "above-alt":c=!c;case "above":g(c?"TL":"TR",c?"BL":"BR");g(c?"TR":"TL",c?"BR":"BL");break;default:g(b.aroundCorner,b.corner)}});c=n(c,E,f,{w:A,h:z});c.aroundNodePos=q;return c}}})},"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),
function(h,o,l,k,c,g,q,n,e){var b=new function(){var b=[];this.pop=function(){var a;b.length?(a=b.pop(),a.style.display=""):(9>n("ie")?(a="<iframe src='"+(l.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",a=e.doc.createElement(a)):(a=k.create("iframe"),a.src='javascript:""',a.className="dijitBackgroundIframe",a.setAttribute("role","presentation"),c.set(a,"opacity",
0.1)),a.tabIndex=-1);return a};this.push=function(a){a.style.display="none";b.push(a)}};o.BackgroundIframe=function(d){if(!d.id)throw Error("no id");if(n("ie")||n("mozilla")){var a=this.iframe=b.pop();d.appendChild(a);7>n("ie")||n("quirks")?(this.resize(d),this._conn=q(d,"resize",g.hitch(this,function(){this.resize(d)}))):c.set(a,{width:"100%",height:"100%"})}};g.extend(o.BackgroundIframe,{resize:function(b){this.iframe&&c.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),
this._conn=null;this.iframe&&(b.push(this.iframe),delete this.iframe)}});return o.BackgroundIframe})},"dojox/mobile/_ComboBoxMenu":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/form/_ComboBoxMenuMixin,dijit/_WidgetBase,./_ListTouchMixin,./scrollable".split(","),function(h,o,l,k,c,g,q,n){return o("dojox.mobile._ComboBoxMenu",[g,q,c],{baseClass:"mblComboBoxMenu",bgIframe:!0,buildRendering:function(){this.domNode=this.focusNode=k.create("div",{"class":"mblReset"});
this.containerNode=k.create("div",{style:{position:"absolute",top:0,left:0}},this.domNode);this.previousButton=k.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuPreviousButton",role:"option"},this.containerNode);this.nextButton=k.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuNextButton",role:"option"},this.containerNode);this.inherited(arguments)},_createMenuItem:function(){return k.create("div",{"class":"mblReset mblComboBoxMenuItem"+(this.isLeftToRight()?
"":" mblComboBoxMenuItemRtl"),role:"option"})},onSelect:function(c){l.add(c,"mblComboBoxMenuItemSelected")},onDeselect:function(c){l.remove(c,"mblComboBoxMenuItemSelected")},onOpen:function(){this.scrollable.init({domNode:this.domNode,containerNode:this.containerNode});this.scrollable.scrollTo({x:0,y:0})},onClose:function(){this.scrollable.cleanup()},destroyRendering:function(){this.bgIframe=!1;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.scrollable=new n;this.scrollable.resize=
function(){}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(h,o,l,k){return o("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=k.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=
this._messages.nextMessage},_setValueAttr:function(c){this.value=c;this.onChange(c)},onClick:function(c){if(c==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(c==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(c)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(c,g){var k=this._createMenuItem(),h=g(c);h.html?k.innerHTML=h.label:k.appendChild(k.ownerDocument.createTextNode(h.label));
if(""==k.innerHTML)k.innerHTML="&#160;";this.applyTextDir(k,k.innerText||k.textContent||"");return k},createOptions:function(c,g,k){this.items=c;this.previousButton.style.display=0==g.start?"none":"";l.set(this.previousButton,"id",this.id+"_prev");h.forEach(c,function(c,b){var d=this._createOption(c,k);d.setAttribute("item",b);l.set(d,"id",this.id+b);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var n=!1;c.total&&!c.total.then&&-1!=c.total?g.start+g.count<c.total?n=!0:g.start+
g.count>c.total&&g.count==c.length&&(n=!0):g.count==c.length&&(n=!0);this.nextButton.style.display=n?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var c=this.containerNode;2<c.childNodes.length;)c.removeChild(c.childNodes[c.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==
this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dojox/mobile/_ListTouchMixin":function(){define(["dojo/_base/declare","dijit/form/_ListBase"],function(h,o){return h("dojox.mobile._ListTouchMixin",o,{postCreate:function(){this.inherited(arguments);this._listConnect("click","_onClick")},_onClick:function(h,k){this._setSelectedAttr(k);
this.onClick(k)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(h,o,l){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(k,c){var g=this;return g.own(o(g.containerNode,o.selector(function(c,g,e){return c.parentNode==e},k),function(k){k.preventDefault();g[c](k,this)}))},selectFirstNode:function(){for(var k=this.containerNode.firstChild;k&&"none"==k.style.display;)k=k.nextSibling;this._setSelectedAttr(k)},selectLastNode:function(){for(var k=
this.containerNode.lastChild;k&&"none"==k.style.display;)k=k.previousSibling;this._setSelectedAttr(k)},selectNextNode:function(){var k=this.selected;if(k){for(k=k.nextSibling;k&&"none"==k.style.display;)k=k.nextSibling;k?this._setSelectedAttr(k):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var k=this.selected;if(k){for(k=k.previousSibling;k&&"none"==k.style.display;)k=k.previousSibling;k?this._setSelectedAttr(k):this.selectLastNode()}else this.selectLastNode()},
_setSelectedAttr:function(k){if(this.selected!=k){var c=this.selected;if(c)this.onDeselect(c),this.selected=null;if(k)this.selected=k,l.scrollIntoView(k),this.onSelect(k)}else if(k)this.onSelect(k)}})})},"kso/views/PlanEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog,dojox/mobile/SpinWheelDatePicker".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F){return l([p],{id:"kso_planedit_view",_form:null,_item:null,postCreate:function(){var b=this,d=new F,e;d.confirm("Hj\u00e6lp til handleplan","N\u00e5r du opretter en handleplan, er det vigtigt, at den er REALISTISK, at det er noget DU GERNE VIL opn\u00e5, og at det er en HANDLING - at tabe sig er fx ikke en handling, men at undg\u00e5 usunde mellemm\u00e5ltider er en handling. At tabe sig er et resultat af \u00e6ndret handling.");
this.addChild(d);var g=new F;g.confirm("","Kan du justere din handleplan, s\u00e5 du er mere sikker p\u00e5 at kunne gennemf\u00f8re den?");this.addChild(g);sview=new r;e=new x({label:"Rediger handleplan","class":"headingPlan"});var h=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});e.addChild(h);e.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));
this.addChild(e);e=new x({id:"headingActionPlanEdit",baseClass:"headingActionPlan"});var l=new t({label:"Annuller",moveTo:"kso_planlist_view"});e.addChild(l);e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(e);e=new f({orientation:"vert"});h=new u({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"Fx. g\u00e5 en tur rundt om boligblokken",trim:!0});e.addChild(h);h=new u({name:"do_how_much",label:"Hvor meget?","class":"mochInput",placeHolder:"Fx. 10 minutter",
trim:!0});e.addChild(h);h=new u({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"Fx. f\u00f8r frokost",trim:!0});e.addChild(h);h=new u({name:"do_how_often",label:"Hvor ofte?","class":"mochInput",placeHolder:"Fx. mandag, onsdag og fredag",trim:!0});e.addChild(h);h=new G({label:"Hvor sikker er du? (0 = slet ikke sikker, 10 = helt sikker)?",onValueChanged:function(){7>b._do_success.get("value")&&g.show()}});this._do_success=new C({labelFrom:0,labelTo:10,style:{width:"40px"},value:10});
h.addChild(this._do_success);e.addChild(h);this._form=new a;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new J);k.subscribe("plan/edit",c.hitch(this,function(a,b){l.set("moveTo",a.id);this._item=c.clone(b);if(1==this._item.active)this._item.active="on";this._form.set("value",this._item);this._do_success.set("value",this._item.do_success);a.performTransition("kso_planedit_view")}))},onSubmit:function(a){g.stop(a);var a=B.getInstance().getStore("kso_plan",
"kso_plan"),b=this._form.get("value"),b=c.mixin(this._item,b);b.active=1;b.do_success=this._do_success.get("value");b.id=this._item.id;b.rev=this._item.rev;a.put(b);k.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/SpinWheelDatePicker":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,./_DatePickerMixin,./SpinWheel,./SpinWheelSlot".split(","),function(h,o,l,k,c,g){return o("dojox.mobile.SpinWheelDatePicker",[c,k],{slotClasses:[g,g,g],slotProps:[{labelFrom:1970,
labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);l.add(this.domNode,"mblSpinWheelDatePicker");this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","onDaySet")]},disableValues:function(c){h.forEach(this.slots[2].panelNodes,function(g){for(var e=27;31>e;e++)l.toggle(g.childNodes[e],"mblSpinWheelSlotLabelGray",e>=c)})}})})},"dojox/mobile/_DatePickerMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/date,dojo/date/locale,dojo/date/stamp".split(","),
function(h,o,l,k,c,g){var q={format:function(b){return c.format(b,{datePattern:this.pattern,selector:"date"})}},n=l.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var b=new Date(this.labelFrom,0,1),a,c;for(a=this.labelFrom,c=0;a<=this.labelTo;a++,c++)b.setFullYear(a),this.labels.push(this.format(b))}}},q),e=l.mixin({initLabels:function(){this.labels=[];for(var b=new Date(2E3,0,16),a=0;12>a;a++)b.setMonth(a),this.labels.push(this.format(b))}},q),b=l.mixin({initLabels:function(){this.labels=
[];for(var b=new Date(2E3,0,1),a=1;31>=a;a++)b.setDate(a),this.labels.push(this.format(b))}},q);return o("dojox.mobile._DatePickerMixin",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var c=this.slotClasses,a=this.slotProps;c[0]=o(c[0],n);c[1]=o(c[1],e);c[2]=o(c[2],b);a[0].pattern=this.yearPattern;a[1].pattern=this.monthPattern;a[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(!this.slotOrder.length){var b=c._parseInfo().bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,
3);this.slotOrder=h.map(b,function(a){return{y:0,m:1,d:2}[a.charAt(0)]})}},reset:function(){var b=new Date,a=h.map(this.slots,function(a){return a.format(b)});this.set("colors",a);this.disableValues(this.onDaySet());this.value?(this.set("value",this.value),this.value=null):this.values?(this.set("values",this.values),this.values=null):this.set("values",a)},onYearSet:function(){this.disableValues(this.onDaySet())},onMonthSet:function(){this.disableValues(this.onDaySet())},onDaySet:function(){var b=
this.get("values"),a=c.parse(b[0]+"/"+b[1],{datePattern:this.slots[0].pattern+"/"+this.slots[1].pattern,selector:"date"}),a=k.getDaysInMonth(a);a<b[2]&&this.slots[2].set("value",a);return a},_getDateAttr:function(){var b=this.get("values"),a=this.slots;return c.parse(b[0]+"/"+b[1]+"/"+b[2],{datePattern:a[0].pattern+"/"+a[1].pattern+"/"+a[2].pattern,selector:"date"})},_setValuesAttr:function(b){h.forEach(this.getSlots(),function(a,c){var e=b[c];if("number"==typeof e){var g=[1970,1,1];g.splice(c,1,
e-0);e=a.format(new Date(g[0],g[1]-1,g[2]))}a.set("value",e)})},_setValueAttr:function(b){var a=g.fromISOString(b);this.set("values",h.map(this.slots,function(b){return b.format(a)}))},_getValueAttr:function(){return g.toISOString(this.get("date"),{selector:"date"})}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,o){var l={};h.setObject("dojo.date.stamp",l);l.fromISOString=function(k,c){if(!l._isoRegExp)l._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var g=l._isoRegExp.exec(k),h=null;if(g){g.shift();g[1]&&g[1]--;g[6]&&(g[6]*=1E3);c&&(c=new Date(c),o.forEach(o.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(b){return c["get"+b]()}),function(b,c){g[c]=g[c]||b}));h=new Date(g[0]||1970,g[1]||0,g[2]||1,g[3]||0,g[4]||0,g[5]||0,g[6]||0);100>g[0]&&h.setFullYear(g[0]||1970);var n=0,e=g[7]&&g[7].charAt(0);"Z"!=e&&(n=60*(g[8]||0)+(Number(g[9])||0),"-"!=e&&(n*=-1));e&&(n-=h.getTimezoneOffset());n&&h.setTime(h.getTime()+6E4*
n)}return h};l.toISOString=function(k,c){var g=function(b){return 10>b?"0"+b:b},c=c||{},h=[],l=c.zulu?"getUTC":"get",e="";"time"!=c.selector&&(e=k[l+"FullYear"](),e=["0000".substr((e+"").length)+e,g(k[l+"Month"]()+1),g(k[l+"Date"]())].join("-"));h.push(e);if("date"!=c.selector){e=[g(k[l+"Hours"]()),g(k[l+"Minutes"]()),g(k[l+"Seconds"]())].join(":");l=k[l+"Milliseconds"]();c.milliseconds&&(e+="."+(100>l?"0":"")+g(l));if(c.zulu)e+="Z";else if("time"!=c.selector)var l=k.getTimezoneOffset(),b=Math.abs(l),
e=e+((0<l?"-":"+")+g(Math.floor(b/60))+":"+g(b%60));h.push(e)}return h.join("T")};return l})},"dojox/mobile/SpinWheel":function(){define(["dojo/_base/declare","dojo/dom-construct","./_PickerBase","./SpinWheelSlot"],function(h,o,l){return h("dojox.mobile.SpinWheel",l,{baseClass:"mblSpinWheel",buildRendering:function(){this.inherited(arguments);o.create("div",{className:"mblSpinWheelBar"},this.domNode)},startup:function(){if(!this._started)this.centerPos=Math.round(this.domNode.offsetHeight/2),this.inherited(arguments)},
addChild:function(k,c){this.inherited(arguments);this._started&&k.setInitialValue()}})})},"dojox/mobile/SpinWheelSlot":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dijit/_Contained,dijit/_WidgetBase,./scrollable".split(","),function(h,o,l,k,c,g,q,n,e,b){return l("dojox.mobile.SpinWheelSlot",[e,n,b],{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSpinWheelSlot",
maxSpeed:500,minItems:15,centerPos:0,scrollBar:!1,constraint:!1,propagatable:!1,androidWorkaroud:!1,buildRendering:function(){this.inherited(arguments);this.initLabels();if(0<this.labels.length){this.items=[];for(i=0;i<this.labels.length;i++)this.items.push([i,this.labels[i]])}this.containerNode=q.create("div",{className:"mblSpinWheelSlotContainer"});this.containerNode.style.height=2*(c.global.innerHeight||c.doc.documentElement.clientHeight)+"px";this.panelNodes=[];for(var b=0;3>b;b++){this.panelNodes[b]=
q.create("div",{className:"mblSpinWheelSlotPanel"});var a=this.items.length,f=Math.ceil(this.minItems/a);for(j=0;j<f;j++)for(i=0;i<a;i++)q.create("div",{className:"mblSpinWheelSlotLabel",name:this.items[i][0],val:this.items[i][1],innerHTML:this._cv?this._cv(this.items[i][1]):this.items[i][1]},this.panelNodes[b]);this.containerNode.appendChild(this.panelNodes[b])}this.domNode.appendChild(this.containerNode);this.touchNode=q.create("div",{className:"mblSpinWheelSlotTouch"},this.domNode);this.setSelectable(this.domNode,
!1);if(""===this.value&&0<this.items.length)this.value=this.items[0][1];this._initialValue=this.value},startup:function(){if(!this._started)this.inherited(arguments),this.noResize=!0,this.init(),this.centerPos=this.getParent().centerPos,this._itemHeight=this.panelNodes[1].childNodes[0].offsetHeight,this.adjust(),this._keydownHandle=this.connect(this.domNode,"onkeydown","_onKeyDown")},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var b=this.labels=[],a=this.zeroPad&&Array(this.zeroPad).join("0"),
c=this.labelFrom;c<=this.labelTo;c+=this.step)b.push(this.zeroPad?(a+c).slice(-this.zeroPad):c+"")},adjust:function(){for(var b=this.panelNodes[1].childNodes,a,c=0,e=b.length;c<e;c++){var g=b[c];if(g.offsetTop<=this.centerPos&&this.centerPos<g.offsetTop+g.offsetHeight){a=this.centerPos-(g.offsetTop+Math.round(g.offsetHeight/2));break}}b=this.panelNodes[0].offsetHeight;this.panelNodes[0].style.top=-b+a+"px";this.panelNodes[1].style.top=a+"px";this.panelNodes[2].style.top=b+a+"px"},setInitialValue:function(){this.set("value",
this._initialValue)},_onKeyDown:function(b){b&&"keydown"===b.type&&(40===b.keyCode?this.spin(-1):38===b.keyCode&&this.spin(1))},_getCenterPanel:function(){for(var b=this.getPos(),a=0,c=this.panelNodes.length;a<c;a++){var e=b.y+this.panelNodes[a].offsetTop;if(e<=this.centerPos&&this.centerPos<e+this.panelNodes[a].offsetHeight)return this.panelNodes[a]}return null},setColor:function(b,a){o.forEach(this.panelNodes,function(c){o.forEach(c.childNodes,function(c){g.toggle(c,a||"mblSpinWheelSlotLabelBlue",
c.innerHTML===b)},this)},this)},disableValues:function(){o.forEach(this.panelNodes,function(b){for(var a=27;31>a;a++)g.toggle(b.childNodes[a],"mblSpinWheelSlotLabelGray",a>=nDays)})},getCenterItem:function(){var b=this.getPos(),a=this._getCenterPanel();if(a)for(var b=b.y+a.offsetTop,a=a.childNodes,c=0,e=a.length;c<e;c++)if(b+a[c].offsetTop<=this.centerPos&&this.centerPos<b+a[c].offsetTop+a[c].offsetHeight)return a[c];return null},_getKeyAttr:function(){var b=this.getCenterItem();return b&&b.getAttribute("name")},
_getValueAttr:function(){var b=this.getCenterItem();return b&&b.getAttribute("val")},_setValueAttr:function(b){var a,c,e=this.get("value");if(e){this._penddingValue=void 0;this._set("value",b);for(var g=this.items.length,k=0;k<g&&!(this.items[k][1]===""+e&&(a=k),this.items[k][1]===""+b&&(c=k),void 0!==a&&void 0!==c);k++);b=c-(a||0);this.spin(0<b?b<g-b?-b:g-b:-b<g+b?-b:-(g+b))}else this._penddingValue=b},stopAnimation:function(){this.inherited(arguments);this._set("value",this.get("value"))},spin:function(b){if(this._started){var a=
this.getPos();a.y%this._itemHeight||(a.y+=b*this._itemHeight,this.slideTo(a,1))}},getSpeed:function(){var b=0,a=this._time.length,c=(new Date).getTime()-this.startTime-this._time[a-1];2<=a&&200>c&&(b=this.calcSpeed(this._posY[a-1]-this._posY[0<=a-6?a-6:0],this._time[a-1]-this._time[0<=a-6?a-6:0]));return{x:0,y:b}},calcSpeed:function(b,a){var c=this.inherited(arguments);if(!c)return 0;var e=Math.abs(c),g=c;e>this.maxSpeed&&(g=this.maxSpeed*(c/e));return g},adjustDestination:function(b){var a=this._itemHeight,
c=b.y+Math.round(a/2);Math.abs(c);b.y=c-(0<=c?c%a:c%a+a);return!0},resize:function(){this._penddingValue&&this.set("value",this._penddingValue)},slideTo:function(b,a,c){var e=this.getPos(),g=e.y+this.panelNodes[1].offsetTop,k=g+this.panelNodes[1].offsetHeight,h=this.domNode.parentNode.offsetHeight;if(e.y<b.y){if(k>h)e=this.panelNodes[2],e.style.top=this.panelNodes[0].offsetTop-this.panelNodes[0].offsetHeight+"px",this.panelNodes[2]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[0],this.panelNodes[0]=
e}else if(e.y>b.y&&0>g)e=this.panelNodes[0],e.style.top=this.panelNodes[2].offsetTop+this.panelNodes[2].offsetHeight+"px",this.panelNodes[0]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[2],this.panelNodes[2]=e;this._initialized?40>Math.abs(this._speed.y)&&(a=0.2):(a=0,this._initialized=!0);this.inherited(arguments,[b,a,c])}})})},"kso/views/PlanEval":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/ExpandingTextArea,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojox/mobile/RadioButton,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F,K,M){return l([p],{id:"kso_planeval_view",_form:null,_item:null,postCreate:function(){var b=new M,d;b.confirm("Hj\u00e6lp til afslut handleplan",'Siden viser afslutning af handleplan.<br /><br />Tryk p\u00e5 "Gem" knappen for at afslutte en handleplan.<br /><br />Angiv din evaluering af handleplanen.');this.addChild(b);d=new M;d.confirm("","Tillykke med at din handleplan er lykkedes");this.addChild(d);this.success_dlg=d;
sview=new r;d=new t({label:"Afslut handleplan","class":"headingPlan"});var e=new y({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});d.addChild(e);d.addChild(new y({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(d);d=new t({id:"headingActionPlanEval",baseClass:"headingActionPlan"});var g=new y({label:"Annuller",moveTo:"kso_planlist_view"});d.addChild(g);
d.addChild(new y({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(d);d=new f({orientation:"vert"});var h=new u({label:"Evaluering af handleplan:",name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});d.addChild(h);h=new f;h.addChild(new B({label:"Succes",name:"do_evaluate_tmp",value:1}));h.addChild(new B({label:"Delvis-succes",name:"do_evaluate_tmp",value:2}));h.addChild(new B({label:"Ikke-succes",name:"do_evaluate_tmp",
value:3}));this._form=new a;this._form.domNode.appendChild(d.domNode);this._form.domNode.appendChild(h.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new K);k.subscribe("plan/eval",c.hitch(this,function(a,b){e.set("moveTo",a.id);g.set("moveTo",a.id);this._item=c.clone(b);this._form.reset();a.performTransition("kso_planeval_view")}))},onSubmit:function(a){g.stop(a);var a=J.getInstance().getStore("kso_plan","kso_plan"),b=this._form.get("value");b.active=0;b.do_evaluate=b.do_evaluate_tmp;
b=c.mixin(this._item,b);a.put(b);1==b.do_evaluate&&this.success_dlg.show();1<b.do_evaluate?k.publish("problem/list",this):k.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/ExpandingTextArea":function(){define(["dojo/_base/declare","dijit/form/_ExpandingTextAreaMixin","./TextArea"],function(h,o,l){return h("dojox.mobile.ExpandingTextArea",[l,o],{baseClass:"mblTextArea mblExpandingTextArea"})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/has,dojo/_base/lang,dojo/on,dojo/_base/window,../Viewport".split(","),
function(h,o,l,k,c,g,q){l.add("textarea-needs-help-shrinking",function(){var c=g.body(),e=o.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),b=e.scrollHeight>=e.clientHeight;c.removeChild(e);return b});return h("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(c(g,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(q.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function c(){var a=!1;if(""===e.value)e.value=" ",a=!0;var b=e.scrollHeight;if(a)e.value="";return b}var e=this.textbox;if("hidden"==e.style.overflowY)e.scrollTop=0;if(!this.busyResizing){this.busyResizing=!0;if(c()||e.offsetHeight){var b=c()+Math.max(e.offsetHeight-e.clientHeight,0),d=b+"px";if(d!=e.style.height)e.style.height=d,e.rows=1;if(l("textarea-needs-help-shrinking")){var a=c(),f=e.style.minHeight,g=4,k=e.scrollTop;e.style.minHeight=d;for(e.style.height="auto";0<b;){e.style.minHeight=
Math.max(b-g,4)+"px";d=c();a-=d;b-=a;if(a<g)break;a=d;g<<=1}e.style.height=b+"px";e.style.minHeight=f;e.scrollTop=k}e.style.overflowY=c()>e.clientHeight?"auto":"hidden";if("hidden"==e.style.overflowY)e.scrollTop=0}else this._estimateHeight();this.busyResizing=!1}}})})},"dojox/mobile/TextArea":function(){define(["dojo/_base/declare","dojo/dom-construct","./TextBox"],function(h,o,l){return h("dojox.mobile.TextArea",l,{baseClass:"mblTextArea",postMixInProperties:function(){if(!this.value&&this.srcNodeRef)this.value=
this.srcNodeRef.value;this.inherited(arguments)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=o.create("textarea",{});this.inherited(arguments)}})})},"dojox/mobile/RadioButton":function(){define(["dojo/_base/declare","dijit/form/_RadioButtonMixin","./CheckBox"],function(h,o,l){return h("dojox.mobile.RadioButton",[l,o],{_setTypeAttr:null,baseClass:"mblRadioButton"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/lang,dojo/query,../registry".split(","),
function(h,o,l,k,c,g,q){return o("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var k=[];g("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(c.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=q.getEnclosingWidget(c))&&k.push(c)}));return k},_setCheckedAttr:function(g){this.inherited(arguments);this._created&&g&&h.forEach(this._getRelatedWidgets(),c.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(c){return null===
c?"on":c},_onClick:function(g){if(this.checked||this.disabled)return k.stop(g),!1;return this.readOnly?(k.stop(g),h.forEach(this._getRelatedWidgets(),c.hitch(this,function(c){l.set(this.focusNode||this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dojox/mobile/CheckBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/_CheckBoxMixin","./ToggleButton"],function(h,o,l,k){return h("dojox.mobile.CheckBox",[k,l],{baseClass:"mblCheckBox",_setTypeAttr:function(){},
buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=o.create("input",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},_getValueAttr:function(){return this.checked?this.value:!1}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(h,o,l){return h("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(k){this._set("readOnly",k);o.set(this.focusNode,
"readOnly",k)},_setLabelAttr:void 0,_getSubmitValue:function(k){return!k&&0!==k?"on":k},_setValueAttr:function(k){k=this._getSubmitValue(k);this._set("value",k);o.set(this.focusNode,"value",k)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");o.set(this.focusNode,"value",this.value)},_onClick:function(k){return this.readOnly?(l.stop(k),!1):this.inherited(arguments)}})})},"dojox/mobile/ToggleButton":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/form/_ToggleButtonMixin",
"./Button"],function(h,o,l,k){return h("dojox.mobile.ToggleButton",[k,l],{baseClass:"mblToggleButton",_setCheckedAttr:function(){this.inherited(arguments);var c=(this.baseClass+" "+this["class"]).replace(/(\S+)\s*/g,"$1Checked ").split(" ");o[this.checked?"add":"remove"](this.focusNode||this.domNode,c)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,o){return h("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(h){var k=
this.checked;this._set("checked",!k);var c=this.inherited(arguments);this.set("checked",c?this.checked:k);return c},_setCheckedAttr:function(h,k){this._set("checked",h);var c=this.focusNode||this.domNode;o.set(c,"checked",!!h);h?c.setAttribute("checked",""):c.removeAttribute("checked");c.setAttribute(this._aria_attr,""+h);this._handleOnChange(h,k)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"kso/views/Plan":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A){return l([e],{id:"kso_plan_view",_item:null,postCreate:function(){var e=this,h=new A,l;h.confirm("Hj\u00e6lp til dagbog","Siden viser afsluttet handleplan samt dagbog.<br /><br />Man kan til h\u00f8jre i listen se hvilke dage handleplanen er udf\u00f8rt.");this.addChild(h);var n=new A;n.confirm("","Vil du slette handleplanen?",this.onDelete);this.addChild(n);sview=new b;l=new w({label:"Handleplan","class":"headingPlan"});var o=new p({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_planlist_view"});l.addChild(o);l.addChild(new p({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){h.show()}}));this.addChild(l);l=new w({id:"headingActionPlan",baseClass:"headingActionPlan"});l.addChild(new p({label:"Kopier",onClick:function(){k.publish("plan/create",e,e._item)}}));l.addChild(new p({label:"Slet",onClick:c.hitch(this,function(){n._view=this;n.show()})}));l.addChild(new p({label:"E-mail",
onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+e._item.do_what+"\r\n\r\nHvor meget:\r\n"+e._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+e._item.do_when+"\r\n\r\nHvor ofte:\r\n"+e._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+e._item.do_success),b=encodeURI("Deling af min handleplan");window.location.href="mailto:?subject="+b+"&body="+a;return!1}}));l.addChild(new p({label:"SMS",
onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+e._item.do_what+"\r\n\r\nHvor meget:\r\n"+e._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+e._item.do_when+"\r\n\r\nHvor ofte:\r\n"+e._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+e._item.do_success);window.location.href="sms:?body="+a;return!1}}));this.addChild(l);l=new a({label:"Handleplan:","class":"categoryPlan"});
sview.addChild(l);l=new f;sview.addChild(l);var q=new d({label:""});l.addChild(q);var r=new d({label:""});l.addChild(r);var s=new d({label:""});l.addChild(s);var u=new d({label:""});l.addChild(u);var J=new d({label:""});l.addChild(J);l=new a({label:"Evaluering:","class":"categoryPlan"});sview.addChild(l);l=new f;sview.addChild(l);var F=new d({label:""});l.addChild(F);var K=new d({label:""});l.addChild(K);l=x.getInstance().getStore("diary","kso_diary");o=new a({label:"Dagbog:","class":"categoryPlan"});
sview.addChild(o);var M=new y({store:l,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new d({clickable:!1,item:a,variableHeight:!0,_setItemAttr:function(a){var b=t.iso_to_date(a.use_at);this.set("label",g.format(new Date(b),{datePattern:"EEE dd/MM-yy",selector:"date"})+" "+(a.info?a.info:""));this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(M);this.addChild(sview);this.addChild(new v);k.subscribe("plan/diary",
c.hitch(this,function(a,b){this._item=b;M.setQuery({plan_id:b.id});q.set("label","Hvad: "+this.getText(b.do_what));r.set("label","Hvor meget: "+this.getText(b.do_how_much));s.set("label","Hvorn\u00e5r: "+this.getText(b.do_when));u.set("label","Hvor ofte: "+this.getText(b.do_how_often));J.set("label","Vurdering for succes (0-10): "+this.getText(b.do_success));1==b.do_evaluate?F.set("label","Bed\u00f8mmelse: Success"):2==b.do_evaluate?F.set("label","Bed\u00f8mmelse: Delvis-succes"):3==b.do_evaluate&&
F.set("label","Bed\u00f8mmelse: Ikke-succes");K.set("label","Tekst: "+this.getText(b.do_evaluate_txt));a.performTransition("kso_plan_view")}))},getText:function(a){return a?a:""},onDelete:function(a){if(a){var b=x.getInstance().getStore("kso_plan","kso_plan"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("plan/list",a)}},onStartView:function(){}})})},"kso/Store":function(){define("dojo/_base/declare,dojo/topic,dojo/_base/config,dojo/store/Memory,dojo/store/Observable,dojo/store/JsonRest,dojo/_base/Deferred,dojo/store/util/QueryResults".split(","),
function(h,o,l,k,c,g,q,n){var e="/service";if("string"==typeof l.service_uri)e=l.service_uri;return h(null,{entity_name:null,constructor:function(b){for(var d in b)this[d]=b[d];this._store=c(new k);this._rest_store=new g({target:e+"/entity/"+this.entity_name+"/"});this._need_sync=!0;this._updates=[];this._removes=[];this._inserts=[];var a=this;o.subscribe("moch/entity_update",function(b,c,d){if(a.entity_name==b)d.id=c,a._store.put(d)});o.subscribe("moch/entity_create",function(b,c){if(a.entity_name==
b)try{a._store.get(c.id)||a._store.add(c)}catch(d){}});o.subscribe("moch/entity_delete",function(b,c){a.entity_name==b&&a._store.get(c)&&a._store.remove(c)})},get:function(b){return this._store.get(b)},getIdentity:function(b){return this._store.getIdentity(b)},put:function(b){this._updates.push(b);this._start_update_data()},add:function(b){this._inserts.push(b);this._start_update_data()},remove:function(b){this._removes.push(b);this._start_update_data()},query:function(b,c){return this._need_sync?
this._fetch_data(b,c):this._store.query(b,c)},_fetch_data:function(b,c){if(this._need_sync){var a=new q,f=this,e=this._rest_store.query(b,c),g=n(a);e.then(function(e){f._store.setData(e);f._need_sync=!1;e=f._store.query(b,c);g.observe=e.observe;a.resolve(e)},function(){setTimeout(f._fetch_data,6E5)});return g}},_start_update_data:function(){this._thndl&&clearTimeout(this._thndl);this._update_data()},_update_data:function(){if(0==this._updates.length&&0==this._inserts.length&&0==this._removes.length)this._thndl=
void 0;else{var b=this;this._updates.forEach(function(c){b._rest_store.put(c).then(function(){},function(){this._updates.push(c)})});this._updates=[];this._inserts.forEach(function(c){delete c.id;b._rest_store.add(c).then(function(){},function(){b._inserts.push(c)})});b._inserts=[];this._removes.forEach(function(c){b._rest_store.remove(c).then(function(){},function(){b._removes.push(c)})});this._removes=[];this._thndl=setTimeout(function(){b._update_data.apply(b)},6E5)}}})})},"kso/views/DiaryList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A){return l([e],{id:"kso_diarylist_view",_item:null,postCreate:function(){var e=this,h=new A,l;h.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for valgte handleplan.<br /><br />Tryk p\u00e5 "Rediger plan" for \u00e6ndre handleplanen.<br /><br />Listen indeholder antal dage, f.eks. 14 dage.<br /><br />I dagbogen kan du notere hvilke dage handleplanen er udf\u00f8rt.<br /><br />Tryk p\u00e5 en dag for at redigere i dagbogen.');this.addChild(h);
var n=new A;n.confirm("","Vil du slette handleplanen?",this.onDelete);this.addChild(n);sview=new b;var o=new w({label:"Handleplan","class":"headingPlan"}),q=new p({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});o.addChild(q);o.addChild(new p({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){h.show()}}));this.addChild(o);l=new w({id:"headingActionDiaryList",baseClass:"headingActionPlan"});
l.addChild(new p({label:"Rediger",onClick:function(){k.publish("plan/edit",e,e._item)}}));l.addChild(new p({label:"Kopier",onClick:function(){k.publish("plan/create",e,e._item)}}));l.addChild(new p({label:"Slet",onClick:c.hitch(this,function(){n._view=this;n.show()})}));l.addChild(new p({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min handleplan med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+e._item.do_what+"\r\n\r\nHvor meget:\r\n"+
e._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+e._item.do_when+"\r\n\r\nHvor ofte:\r\n"+e._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+e._item.do_success),b=encodeURI("Deling af min handleplan");window.location.href="mailto:?subject="+b+"&body="+a;return!1}}));l.addChild(new p({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min handleplan med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+e._item.do_what+"\r\n\r\nHvor meget:\r\n"+
e._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+e._item.do_when+"\r\n\r\nHvor ofte:\r\n"+e._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+e._item.do_success);window.location.href="sms:?body="+a;return!1}}));l.addChild(new p({label:"Afslut",onClick:function(){k.publish("plan/eval",e,e._item)}}));this.addChild(l);l=new a({label:"Planlagt handling:","class":"categoryPlan"});sview.addChild(l);l=new f;sview.addChild(l);var r=new d({label:""});l.addChild(r);var s=new d({label:""});l.addChild(s);
var u=new d({label:""});l.addChild(u);var J=new d({label:""});l.addChild(J);var F=new d({label:""});l.addChild(F);l=x.getInstance().getStore("diary","kso_diary");var K=new a({label:"Dagbog:","class":"categoryPlan"});sview.addChild(K);var M=new y({store:l,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new d({clickable:!0,item:a,onClick:function(){k.publish("diary/edit",e,this.item)},_setItemAttr:function(a){var b=t.iso_to_date(a.use_at);this.set("label",
g.format(new Date(b),{datePattern:"EEE dd/MM-yy",selector:"date"})+" "+(a.info?a.info:""));this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(M);this.addChild(sview);this.addChild(new v);k.subscribe("diary/list",c.hitch(this,function(a,b){if(b)this._item=b,o.set("label",b.do_what),q.set("moveTo",a.id),r.set("label","Hvad: "+b.do_what),s.set("label","Hvor meget: "+b.do_how_much),u.set("label","Hvorn\u00e5r: "+b.do_when),J.set("label","Hvor ofte: "+
b.do_how_often),F.set("label","Vurdering for succes (0-10): "+b.do_success),M.setQuery({plan_id:b.id});a.performTransition("kso_diarylist_view")}))},onDelete:function(a){if(a){var b=x.getInstance().getStore("kso_plan","kso_plan"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("plan/list",a)}},onStartView:function(){}})})},"kso/views/DiaryEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/ScrollableView,dojox/mobile/View,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/ExpandingTextArea,dojox/mobile/Heading,dojox/mobile/Button,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog,dojo/domReady!".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H){return l([p],{id:"kso_diaryedit_view",_form:null,_item:null,postCreate:function(){var b=new H;b.confirm("Hj\u00e6lp til dagbog","Her kan du registrere, om du er lykkedes med din handleplan for hver enkelt relevant dag.<br /><br />Du kan tilf\u00f8je en kommentar. Husk at det er liges\u00e5 vigtigt at m\u00e6rke efter og justere sin handleplan undervejs.");this.addChild(b);sview=new f;var e=new u({label:"Rediger dagbog","class":"headingPlan"}),
g=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});e.addChild(g);e.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(e);var e=new u({id:"headingActionDiaryEdit",baseClass:"headingActionPlan"}),h=new t({label:"Annuller",moveTo:"kso_diarylist_view"});e.addChild(h);e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));
this.addChild(e);e=new a({orientation:"vert"});h=new w({label:"Dagbogs tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});e.addChild(h);h=new z({label:"Handleplanen udf\u00f8rt?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});e.addChild(h);this._form=new d;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new C);k.subscribe("diary/edit",c.hitch(this,function(a,b){g.set("moveTo",a.id);
a.performTransition("kso_diaryedit_view");this._item=c.clone(b);if(this._item.success)this._item.success="on";this._form.set("value",this._item)}))},onSubmit:function(a){q.stop(a);var a=E.getInstance().getStore("diary","kso_diary"),b=this._form.get("value");b.success="on"==b.success?1:0;b.id=this._item.id;b.plan_id=this._item.plan_id;b.rev=this._item.rev;b.use_at=this._item.use_at;a.put(b);k.publish("diary/list",this,null)},onStartView:function(){}})})},"kso/views/ProblemList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/dom-class,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,moch/app/mobile,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u){return l([q],{id:"kso_problemlist_view",postCreate:function(){var f=this,g=new u,h;g.confirm("Oversigt","Her ser du alle dine probleml\u00f8sninger.<br /><br />Opret en ny eller rediger en eksisterende probleml\u00f8sning.");this.addChild(g);var l=new u;l.confirm("Hj\u00e6lp til probleml\u00f8sning","Du kan have max. 5 aktive probleml\u00f8sninger.");this.addChild(l);sview=new n;h=new d({label:"Probleml\u00f8sning","class":"headingProblem"});h.addChild(new a({icon:"kso/images/btn_help.png",
"class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(h);h=new d({id:"headingActionProblemList",baseClass:"headingActionProblem"});h.addChild(new a({label:"Opret",onClick:function(){var a=r.getInstance().getStore("kso_problem","kso_problem").query({active:1});a.then(function(){a.total.then(function(a){5<=a?l.show():k.publish("problem/create",f,null)})})}}));this.addChild(h);h=r.getInstance().getStore("kso_problem","kso_problem");this.addChild(new b({label:"Alle probleml\u00f8sninger:",
"class":"categoryProblem"}));(new Boolean(!0)).test=function(){return!0};h=new s({store:h,query:{hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"do_evaluate",descending:!0},{attribute:"id",descending:!0}]},createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,onClick:function(){a.active?k.publish("solution/list",f,this.item):k.publish("problem/solution",f,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);a.active?this.set("rightText",
""):this.set("rightText","Afsluttet");this.set("icon",1==a.do_evaluate?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(h);this.addChild(sview);this.addChild(new w);k.subscribe("problem/list",c.hitch(this,function(a){a.performTransition("kso_problemlist_view")}))},onStartView:function(){}})})},"kso/views/ProblemCreate":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/dom-attr,dojo/dom-construct,dojo/date,dojo/query,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F,K,M,W,X){return l([w],{id:"kso_problemcreate_view",_form:null,_item:null,postCreate:function(){var a=new X;a.confirm("Hj\u00e6lp til probleml\u00f8sning","Skriv dine egne l\u00f8sningsforslag ned og sp\u00f8rg evt. andre om ideer til at l\u00f8se problemet.<br /><br />N\u00e5r du har gemt probleml\u00f8sningen kan du efterf\u00f8lgende afpr\u00f8ve og evaluere de enkelte ideer.");this.addChild(a);sview=new u;var b=new A({label:"Opret probleml\u00f8sning",
"class":"headingProblem"}),f=new z({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});b.addChild(f);b.addChild(new z({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new A({id:"headingActionProblemCreate",baseClass:"headingActionProblem"}),e=new z({label:"Annuller",moveTo:"kso_problemlist_view"});b.addChild(e);b.addChild(new z({label:"Gem",
onClick:c.hitch(this,this.onSubmit)}));this.addChild(b);this.tbl=b=new s({orientation:"vert"});var g=new v({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",trim:!0});b.addChild(g);g=new v({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});b.addChild(g);g=new A({baseClass:"headingActionProblem",spanLabel:!0});g.addChild(new z({label:"Tilf\u00f8j ide",onClick:c.hitch(this,function(){this.newSolution()})}));
b.addChild(g);this.tbl_ideas=g=new s({id:"ideas_container",orientation:"vert"});this._form=new r;this._form.domNode.appendChild(b.domNode);this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new W);k.subscribe("problem/create",c.hitch(this,function(b,g){d.empty("ideas_container");this.newSolution();f.set("moveTo",b.id);e.set("moveTo",b.id);this._item=c.clone(g);g?(this._item.do_what+=" KOPI",this._item.active=1,delete this._item.id,delete this._item.do_evaluate,
delete this._item.do_evaluate_txt,this._form.set("value",this._item)):this._form.reset();b.performTransition("kso_problemcreate_view");var k=K.getInstance().getStore("kso_problem","kso_problem").query();k.then(function(){k.total.then(function(b){0==b&&a.show()})})}))},newSolution:function(){idea_tmpl=new v({name:"idea",spanLabel:!0,"class":"mochInput",placeHolder:"Ide til l\u00f8sning, fx. Tag en middagslur",trim:!0});this.tbl_ideas.addChild(idea_tmpl)},onSubmit:function(a){g.stop(a);var a=K.getInstance().getStore("kso_problem",
"kso_problem"),b=K.getInstance().getStore("kso_solution","kso_solution"),c=this._form.get("value");c.active=1;a.add(c).then(function(a){var d=[];dojo.isArray(c.idea)?d=c.idea:d.push(c.idea);for(var f=0;f<d.length;f++)b.add({problem_id:a.id,info:d[f],success:0})});k.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F){return l([p],{id:"kso_problemedit_view",_form:null,_item:null,postCreate:function(){var b=this,d=new F;d.confirm("Hj\u00e6lp til probleml\u00f8sning","Her kan du redigere din probleml\u00f8sning eller slette den.");this.addChild(d);sview=new r;var e=new x({label:"Rediger problem","class":"headingProblem"}),g=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});
e.addChild(g);e.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){d.show()}}));this.addChild(e);var e=new x({id:"headingActionProblemEdit",baseClass:"headingActionProblem"}),h=new t({label:"Annuller",moveTo:"kso_planlist_view"});e.addChild(h);e.addChild(new t({label:"Afslut",onClick:function(){k.publish("problem/eval",b,b._item)}}));e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(e);var e=new f({orientation:"vert"}),
l=new u({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",trim:!0});e.addChild(l);l=new u({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});e.addChild(l);this._form=new a;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new J);k.subscribe("problem/edit",c.hitch(this,function(a,b){g.set("moveTo",a.id);h.set("moveTo",a.id);this._item=
c.clone(b);if(this._item.active)this._item.active="on";this._form.set("value",this._item);a.performTransition("kso_problemedit_view")}))},onSubmit:function(a){g.stop(a);var a=B.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value"),b=c.mixin(this._item,b);b.active=1;b.id=this._item.id;b.rev=this._item.rev;a.put(b);k.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEval":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dojo/date,dijit/registry,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeStoreList,dojox/mobile/ExpandingTextArea,dojox/mobile/TextBox,dojox/mobile/Heading,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,dojox/mobile/Button,dojox/mobile/DatePicker,dojox/mobile/ValuePicker,dojox/mobile/ValuePickerSlot,dojox/mobile/ComboBox,dojox/mobile/RadioButton,dojo/store/Memory,moch/app/mobile,moch/app/util,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H,P,B,I,J,F,K,M){return l([p],{id:"kso_problemeval_view",_form:null,_item:null,postCreate:function(){var b=new M,d;b.confirm("Hj\u00e6lp til afslut probleml\u00f8sning","Hvis det ikke lykkes dig at l\u00f8se problemet, s\u00e5 pr\u00f8v at accepter at det ikke lykkes lige nu.");this.addChild(b);d=new M;d.confirm("","Tillykke med at du har fundet en l\u00f8sning p\u00e5 dit problem! Del evt. din probleml\u00f8sning til inspiration for andre");
this.addChild(d);this.success_dlg=d;d=new M;d.confirm("","1. Tr\u00e6k p\u00e5 andre ressourcer. Del dit problem og f\u00e5 nye ideer til l\u00f8sning.<br /><br />2. Accepter at problemet m\u00e5ske ikke kan l\u00f8ses nu. Du kan tage det op p\u00e5 et andet tidspunkt");this.addChild(d);this.no_success_dlg=d;sview=new r;d=new t({label:"Afslut probleml\u00f8sning","class":"headingProblem"});var e=new y({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",
moveTo:"kso_problemlist_view"});d.addChild(e);d.addChild(new y({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(d);d=new t({id:"headingActionProblemEval",baseClass:"headingActionProblem"});var g=new y({label:"Annuller",moveTo:"kso_planlist_view"});d.addChild(g);d.addChild(new y({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(d);d=new f({orientation:"vert"});var h=new u({label:"Evaluering af probleml\u00f8sning:",
name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});d.addChild(h);h=new f;h.addChild(new B({label:"Succes",name:"do_evaluate_tmp",value:1}));h.addChild(new B({label:"Delvis-succes",name:"do_evaluate_tmp",value:2}));h.addChild(new B({label:"Ikke-succes",name:"do_evaluate_tmp",value:3}));this._form=new a;this._form.domNode.appendChild(d.domNode);this._form.domNode.appendChild(h.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new K);
k.subscribe("problem/eval",c.hitch(this,function(a,b){e.set("moveTo",a.id);g.set("moveTo",a.id);this._item=c.clone(b);this._form.reset();a.performTransition("kso_problemeval_view")}))},onSubmit:function(a){g.stop(a);var a=J.getInstance().getStore("kso_problem","kso_problem"),b=this._form.get("value");b.hidden=0;b.active=0;b.do_evaluate=b.do_evaluate_tmp;b=c.mixin(this._item,b);a.put(b);1==b.do_evaluate?this.success_dlg.show():(2==b.do_evaluate||3==b.do_evaluate)&&this.no_success_dlg.show();k.publish("problem/list",
this)},onStartView:function(){}})})},"kso/views/Problem":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v){return l([n],{id:"kso_problem_view",_item:null,_solution_list:[],postCreate:function(){var g=this,h=new v,l;h.confirm("Hj\u00e6lp til probleml\u00f8sning","Gem dine succesrige l\u00f8sninger, m\u00e5ske kan de genbruges.");this.addChild(h);var n=new v;n.confirm("","Vil du slette probleml\u00f8sningen?",this.onDelete);this.addChild(n);sview=new e;l=new s({label:"Probleml\u00f8sning","class":"headingProblem"});var o=new f({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});l.addChild(o);l.addChild(new f({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){h.show()}}));this.addChild(l);l=new s({id:"headingActionProblem",baseClass:"headingActionProblem"});l.addChild(new f({label:"Kopier",onClick:function(){k.publish("problem/create",g,g._item)}}));l.addChild(new f({label:"Slet",onClick:c.hitch(this,function(){n._view=this;n.show()})}));
l.addChild(new f({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+g._item.do_what+"\r\n\r\nForhindring:\r\n"+g._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n"+g._item.do_prevent+"\r\n\r\n");dojo.forEach(g._solution_list,function(b){a+=encodeURI(b+"\r\n")});var a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n"),b=encodeURI("Deling af min probleml\u00f8sning");
window.location.href="mailto:?subject="+b+"&body="+a;return!1}}));l.addChild(new f({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+g._item.do_what+"\r\n\r\nForhindring:\r\n"+g._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n"+g._item.do_prevent+"\r\n\r\n"),a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n");dojo.forEach(g._solution_list,
function(b){a+=encodeURI(b+"\r\n")});window.location.href="sms:?body="+a;return!1}}));this.addChild(l);l=new d({label:"Probleml\u00f8sning:","class":"categoryProblem"});sview.addChild(l);l=new a;sview.addChild(l);var p=new b({label:""});l.addChild(p);var q=new b({label:""});l.addChild(q);l=new d({label:"Evaluering:","class":"categoryProblem"});sview.addChild(l);l=new a;sview.addChild(l);var r=new b({label:""});l.addChild(r);var x=new b({label:""});l.addChild(x);l=u.getInstance().getStore("kso_solution",
"kso_solution");o=new d({label:"Ideer til l\u00f8sning:","class":"categoryProblem"});sview.addChild(o);var w=new t({store:l,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){g._solution_list=[];return new b({clickable:!1,item:a,variableHeight:!0,_setItemAttr:function(a){var b=a.info?a.info:"";this.set("label",b);this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a;g._solution_list.push(b)}})}});sview.addChild(w);this.addChild(sview);
this.addChild(new y);k.subscribe("problem/solution",c.hitch(this,function(a,b){this._item=b;w.setQuery({problem_id:b.id});p.set("label","Problemet: "+b.do_what);q.set("label","Forhindring: "+b.do_prevent);1==b.do_evaluate?r.set("label","Bed\u00f8mmelse: Success"):2==b.do_evaluate?r.set("label","Bed\u00f8mmelse: Delvis-succes"):3==b.do_evaluate&&r.set("label","Bed\u00f8mmelse: Ikke-succes");x.set("label","Tekst: "+b.do_evaluate_txt);a.performTransition("kso_problem_view")}))},onDelete:function(a){if(a){var b=
u.getInstance().getStore("kso_problem","kso_problem"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("problem/list",a)}},onStartView:function(){}})})},"kso/views/SolutionList":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/dom-class,kso/Store,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/EdgeToEdgeList,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/layout/TableContainer,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A){return l([e],{id:"kso_solutionlist_view",_item:null,_list:null,postCreate:function(){var e=this,g=new A,h;g.confirm("Hj\u00e6lp til probleml\u00f8sning","Siden viser en probleml\u00f8sning, der kan redigeres eller tilf\u00f8jes nye ideer til.");this.addChild(g);var l=new A;l.confirm("","Vil du slette probleml\u00f8sningen?",this.onDelete);this.addChild(l);sview=new b;var n=new w({label:"Probleml\u00f8sning","class":"headingProblem"}),o=new p({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});n.addChild(o);n.addChild(new p({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(n);h=new w({id:"headingActionSolutionList",baseClass:"headingActionProblem"});h.addChild(new p({label:"Rediger",onClick:function(){k.publish("problem/edit",e,e._item)}}));h.addChild(new p({label:"Kopier",onClick:function(){k.publish("problem/create",e,e._item)}}));
h.addChild(new p({label:"Slet",onClick:c.hitch(this,function(){l._view=this;l.show()})}));h.addChild(new p({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nProblem:\r\n"+e._item.do_what+"\r\n\r\nForhindring:\r\n"+e._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n");dojo.forEach(e._list.getRawData(),function(b){a+=encodeURI(b.info+"\r\n")});var a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n"),
b=encodeURI("Deling af min probleml\u00f8sning");window.location.href="mailto:?subject="+b+"&body="+a;return!1}}));h.addChild(new p({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nProblem:\r\n"+e._item.do_what+"\r\n\r\nForhindring:\r\n"+e._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n");dojo.forEach(e._list.getRawData(),function(b){a+=encodeURI(b.info+"\r\n")});a+=
encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n");window.location.href="sms:?body="+a;return!1}}));h.addChild(new p({label:"Afslut",onClick:function(){k.publish("problem/eval",e,e._item)}}));this.addChild(h);h=new a({label:"Problem:","class":"categoryProblem"});sview.addChild(h);h=new f;sview.addChild(h);var q=new d({label:""});h.addChild(q);var r=new d({label:""});h.addChild(r);h=new w({baseClass:"headingActionProblem"});h.addChild(new p({label:"Opret",onClick:function(){k.publish("solution/create",
e,e._item)}}));sview.addChild(h);h=x.getInstance().getStore("kso_solution","kso_solution");var s=new a({label:"Ideer til l\u00f8sning:","class":"categoryProblem"});sview.addChild(s);var t=new y({store:h,query:{},queryOptions:{sort:[{attribute:"id",descending:!0}]},createListItem:function(a){return new d({clickable:!0,item:a,onClick:function(){k.publish("solution/edit",e,this.item)},_setItemAttr:function(a){this.set("label",a.info?a.info:"");this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");
this.item=a}})}});this._list=t;sview.addChild(t);this.addChild(sview);this.addChild(new v);k.subscribe("solution/list",c.hitch(this,function(a,b){if(b)this._item=b,n.set("label",b.do_what),o.set("moveTo",a.id),q.set("label","Problem: "+b.do_what),r.set("label","Forhindring: "+b.do_prevent),t.setQuery({problem_id:b.id});a.performTransition("kso_solutionlist_view")}))},onDelete:function(a){if(a){var b=x.getInstance().getStore("kso_problem","kso_problem"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=
a._item.rev;b.put(c);k.publish("problem/list",a)}},onStartView:function(){}})})},"kso/views/SolutionCreate":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/ScrollableView,dojox/mobile/View,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/ExpandingTextArea,dojox/mobile/Heading,dojox/mobile/Button,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog,dojo/domReady!".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H){return l([p],{id:"kso_solutioncreate_view",_form:null,_item:null,postCreate:function(){var b=new H;b.confirm("Hj\u00e6lp til ide","Her kan du oprette nye ideer til l\u00f8sninger, b\u00e5de dine egne og andres forslag.<br /><br />Husk at afpr\u00f8ve og evaluere ideerne efterf\u00f8lgende");this.addChild(b);sview=new f;var e=new u({label:"Opret ide","class":"headingProblem"}),g=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",
style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});e.addChild(g);e.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(e);var e=new u({id:"headingActionSolutionCreate",baseClass:"headingActionProblem"}),h=new t({label:"Annuller",moveTo:"kso_solutionlist_view"});e.addChild(h);e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(e);e=new a({orientation:"vert"});h=new w({label:"Ide tekst",
name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx Tag en middagslur...",maxLength:128});e.addChild(h);this._form=new d;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new C);k.subscribe("solution/create",c.hitch(this,function(a,b){g.set("moveTo",a.id);a.performTransition("kso_solutioncreate_view");this._item=c.clone(b);this._form.reset()}))},onSubmit:function(a){q.stop(a);var a=E.getInstance().getStore("kso_solution","kso_solution"),
b=this._form.get("value");b.problem_id=this._item.id;b.success=0;b.rev=this._item.rev;a.add(b);k.publish("solution/list",this,null)},onStartView:function(){}})})},"kso/views/SolutionEdit":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/topic,dojo/_base/lang,dojo/date/locale,dojo/_base/event,dojo/string,dojo/dom,dojo/dom-class,dijit/form/Form,dojox/layout/TableContainer,dojox/mobile/ScrollableView,dojox/mobile/View,dojox/mobile/ListItem,dojox/mobile/EdgeToEdgeCategory,dojox/mobile/ExpandingTextArea,dojox/mobile/Heading,dojox/mobile/Button,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Slider,dojox/mobile/Switch,moch/app/mobile,moch/app/util,kso/BaseStoreList,kso/TabBar,kso/SimpleDialog,dojo/domReady!".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r,s,w,u,x,t,y,v,A,z,E,D,G,C,H){return l([p],{id:"kso_solutionedit_view",_form:null,_item:null,postCreate:function(){var b=new H;b.confirm("Hj\u00e6lp til ideer","Giv din vurdering af, om du synes ideen lykkedes.");this.addChild(b);sview=new f;var e=new u({label:"Rediger ide","class":"headingProblem"}),g=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});e.addChild(g);e.addChild(new t({icon:"kso/images/btn_help.png",
"class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(e);var e=new u({id:"headingActionSolutionEdit",baseClass:"headingActionProblem"}),h=new t({label:"Annuller",moveTo:"kso_solutionlist_view"});e.addChild(h);e.addChild(new t({label:"Gem",onClick:c.hitch(this,this.onSubmit)}));this.addChild(e);e=new a({orientation:"vert"});h=new w({label:"Ide tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx Jeg blev for hurtig tr\u00e6t...",maxLength:128});
e.addChild(h);h=new z({label:"Fungerede l\u00f8sningen?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});e.addChild(h);this._form=new d;this._form.domNode.appendChild(e.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new C);k.subscribe("solution/edit",c.hitch(this,function(a,b){g.set("moveTo",a.id);a.performTransition("kso_solutionedit_view");this._item=c.clone(b);if(this._item.success)this._item.success="on";this._form.set("value",this._item)}))},onSubmit:function(a){q.stop(a);
var a=E.getInstance().getStore("kso_solution","kso_solution"),b=this._form.get("value");b.success="on"==b.success?1:0;b.id=this._item.id;b.problem_id=this._item.problem_id;b.rev=this._item.rev;a.put(b);k.publish("solution/list",this,null)},onStartView:function(){}})})},"kso/views/About":function(){define("dojo/ready,dojo/on,dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojox/mobile/View,dojox/mobile/ScrollableView,dojox/mobile/ToolBarButton,dojox/mobile/TabBar,dojox/mobile/TabBarButton,dojox/mobile/Heading,dojox/mobile/Accordion,dojox/mobile/ContentPane,moch/app/mobile,kso/TabBar".split(","),
function(h,o,l,k,c,g,q,n,e,b,d,a,f,p,r){return l([g],{id:"kso_about_view",_item:null,postCreate:function(){sview=new q;var a=new d({label:"Om MIN HANDLEPLAN","class":"headingAbout"}),b=new n({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});a.addChild(b);this.addChild(a);a=c.toDom('<div style="color:black;padding:10px;"><p>MIN HANDLEPLAN er udviklet af Komiteen for Sundhedsoplysning i samarbejde med MOCH A/S</p><img src="kso/images/tf_logo.png" border="0" height="auto" width="160px" /><p>Har du sp\u00f8rgsm\u00e5l eller kommentarer til MIN HANDLEPLAN s\u00e5 send os en mail p\u00e5: <a href="#" onclick="window.location.href=\'mailto:minhandleplan@sundapps.dk\'">minhandleplan@sundapps.dk</a></p><br /><br /><p><strong>Om Komiteen for Sundhedsoplysning:</strong></p><p>Komiteen for Sundhedsoplysning er en sygdomsbek\u00e6mpende, almennyttig forening, der bl.a. arbejder med at st\u00f8tte patienter og p\u00e5r\u00f8rende, s\u00e5vel individuelt som kollektivt, i deres problemer med sygdomme og handicap<br /><br />L\u00e6s mere p\u00e5 vores hjemmeside:<br /><a href="#" onclick="window.open(\'http://sundhedsoplysning.dk\', \'_system\', \'location=yes\');">Sundhedsoplysning.dk</a></p><br /><p><strong>Om handleplaner:</strong></p><p>Komiteen for Sundhedsoplysning udbyder kurser til mennesker med kronisk/langvarig sygdom.<br /><br />Det centrale redskab p\u00e5 kurserne er at lave konkrete, realistiske handleplaner fra uge til uge.<br /><br />MIN HANDLEPLAN kan bruges i forbindelse med kurserne eller alene.<br /><br />L\u00e6s mere om kurserne p\u00e5:<br /><a href="#" onclick="window.open(\'http://patientuddannelse.info\', \'_system\', \'location=yes\');">Patientuddannelse.info</a></p><br /><p><strong>Om self-efficacy:</strong></p><p>Komiteens kurser til mennesker med kronisk/langvarig sygdom tager alle udgangspunkt i teorien om self-efficacy. Begrebet bygger p\u00e5 social, kognitiv teori og er udviklet af psykolog og professor Albert Bandura fra Stanford University.<br /><br />Self-efficacy handler om at \u00f8ge troen p\u00e5 egne evner til at s\u00e6tte m\u00e5l, og identificere de handlinger der skal til for at n\u00e5 m\u00e5let. Du \u00f8ger din self-efficacy, n\u00e5r du l\u00e6gger en handleplan og oplever at lykkes med at f\u00f8re den ud i livet.</p></div>');
sview.domNode.appendChild(a);this.addChild(sview);this.addChild(new r)},onStartView:function(){}})})},"dojox/mobile/ContentPane":function(){define(["dojo/_base/declare","./Container","./_ContentPaneMixin"],function(h,o,l){return h("dojox.mobile.ContentPane",[o,l],{baseClass:"mblContentPane"})})},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(h,o,l){return h("dojox.mobile.Container",[l,o],{baseClass:"mblContainer"})})},"dojox/mobile/_ContentPaneMixin":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/lang,dojo/_base/window,dojo/_base/xhr,./_ExecScriptMixin,./ProgressIndicator,./lazyLoadUtils".split(","),
function(h,o,l,k,c,g,q,n){return h("dojox.mobile._ContentPaneMixin",g,{href:"",lazy:!1,content:"",parseOnLoad:!0,prog:!0,executeScripts:!0,constructor:function(){if(this.prog)this._p=q.getInstance()},loadHandler:function(c){this.set("content",c)},errorHandler:function(){this._p&&this._p.stop()},load:function(){this.lazy=!1;this.set("href",this.href)},onLoad:function(){return!0},_setHrefAttr:function(e){if(this.lazy||!e||e===this._loaded)return this.lazy=!1,null;var b=this._p;b&&(k.body().appendChild(b.domNode),
b.start());this._set("href",e);this._loaded=e;return c.get({url:e,handleAs:"text",load:l.hitch(this,"loadHandler"),error:l.hitch(this,"errorHandler")})},_setContentAttr:function(c){this.destroyDescendants();"object"===typeof c?this.containerNode.appendChild(c):(this.executeScripts&&(c=this.execScript(c)),this.containerNode.innerHTML=c);if(this.parseOnLoad){var b=this;return o.when(n.instantiateLazyWidgets(b.containerNode),function(){b._p&&b._p.stop();return b.onLoad()})}this._p&&this._p.stop();return this.onLoad()}})})},
"dojox/mobile/_ExecScriptMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/window","dojo/dom-construct"],function(h,o,l,k){return o("dojox.mobile._ExecScriptMixin",null,{execScript:function(c){c=c.replace(/\f/g," ").replace(/<\/script>/g,"\u000c");c=c.replace(/<script [^>]*src=['"]([^'"]+)['"][^>]*>([^\f]*)\f/ig,function(c,h){k.create("script",{type:"text/javascript",src:h},l.doc.getElementsByTagName("head")[0]);return""});return c=c.replace(/<script>([^\f]*)\f/ig,function(c,
k){h.eval(k);return""})}})})},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/_base/sniff"],function(h,o){var l=h.getObject("dojox.mobile",!0);o("webkit")||require(["dojox/mobile/_compat"]);return l})},"kso/deviceReady":function(){define(function(){function h(h){o?h(1):l.push(h)}var o=!0,l=[];("undefined"==typeof cordova||"undefined"==typeof PhoneGap||"undefined"==typeof phonegap)&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)&&
(o=!1);document.addEventListener("deviceready",function(){o=!0;var h;for(h=0;h<l.length;h++)l[h](1)});h.load=function(k,c,g){h(g)};return h})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(h,o){var l=document.createElement("div"),k=l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,c=l.querySelectorAll,g=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;h.add("dom-matches-selector",!!k);h.add("dom-qsa",!!c);var q=
function(d,a){if(b&&-1<d.indexOf(","))return b(d,a);var f=a?a.ownerDocument||a:o.doc||document,g=(c?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(d),a=a||f;if(g){if(g[2]){var h=o.byId?o.byId(g[2]):f.getElementById(g[2]);if(!h||g[1]&&g[1]!=h.tagName.toLowerCase())return[];if(a!=f)for(f=h;f!=a;)if(f=f.parentNode,!f)return[];return g[3]?q(g[3],h):[h]}if(g[3]&&a.getElementsByClassName)return a.getElementsByClassName(g[4]);if(g[5])if(h=
a.getElementsByTagName(g[5]),g[4]||g[6])d=(g[4]||"")+g[6];else return h}if(c)return 1===a.nodeType&&"object"!==a.nodeName.toLowerCase()?n(a,d,a.querySelectorAll):a.querySelectorAll(d);h||(h=a.getElementsByTagName("*"));for(var g=[],f=0,k=h.length;f<k;f++){var l=h[f];1==l.nodeType&&e(l,d,a)&&g.push(l)}return g},n=function(b,a,c){var e=b,h=b.getAttribute("id"),k=h||"__dojo__",l=b.parentNode,n=/^\s*[+~]/.test(a);if(n&&!l)return[];h?k=k.replace(/'/g,"\\$&"):b.setAttribute("id",k);if(n&&l)b=b.parentNode;
a=a.match(g);for(l=0;l<a.length;l++)a[l]="[id='"+k+"'] "+a[l];a=a.join(",");try{return c.call(b,a)}finally{h||e.removeAttribute("id")}};if(!h("dom-matches-selector"))var e=function(){function b(a,c,d){var f=c.charAt(0);if('"'==f||"'"==f)c=c.slice(1,-1);var c=c.replace(/\\/g,""),e=k[d||""];return function(b){return(b=b.getAttribute(a))&&e(b,c)}}function a(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==
c}}function e(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var g="div"==l.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[g]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},k={"^=":function(a,b){return 0==a.indexOf(b)},"*=":function(a,b){return-1<a.indexOf(b)},"$=":function(a,b){return a.substring(a.length-b.length,
a.length)==b},"~=":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|=":function(a,b){return 0==(a+"-").indexOf(b+"-")},"=":function(a,b){return a==b},"":function(){return!0}},n={};return function(g,k,l){var o=n[k];if(!o){if(k.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(g,k,l,n,q,r,t){n?o=e(o,h[l||""](n.replace(/\\/g,""))):k?o=(" "==k?a:c)(o):q&&(o=e(o,b(q,t,r)));return""}))throw Error("Syntax error in query");
if(!o)return!0;n[k]=o}return o(g,l)}}();if(!h("dom-qsa"))var b=function(b,a){for(var c=b.match(g),e=[],h=0;h<c.length;h++){b=new String(c[h].replace(/\s*$/,""));b.indexOf=escape;for(var k=q(b,a),l=0,n=k.length;l<n;l++){var o=k[l];e[o.sourceIndex]=o}}c=[];for(h in e)c.push(e[h]);return c};q.match=k?function(b,a,c){return c&&9!=c.nodeType?n(c,a,function(a){return k.call(b,a)}):k.call(b,a)}:e;return q})},"dojox/main":function(){define(["dojo/_base/kernel"],function(h){return h.dojox})},"moch/main":function(){define(["dojo/_base/config"],
function(h){if(void 0==h.domain_name)h.domain_name=parent.dojoConfig?parent.dojoConfig.domain_name:"essens"})},"*now":function(h){h(['dojo/i18n!*preload*kso/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var h=this.require;h({cache:{}});!h.async&&h(["dojo"]);h.boot&&h.apply(null,h.boot)})();