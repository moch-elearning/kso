//>>built
(function(h,p){var l,k,d=function(){},g=function(a){for(var e in a)return 0;return 1},f={}.toString,c=function(a){return"[object Function]"==f.call(a)},b=function(a){return"[object String]"==f.call(a)},a=function(a){return"[object Array]"==f.call(a)},q=function(a,e){if(a)for(var n=0;a[n];)e(a[n++])},e=function(a,e){for(var n in e)a[n]=e[n];return a},r=function(a,n){return e(Error(a),{src:"dojoLoader",info:n})},t=1,s=function(){return"_"+t++},n=function(a,e,b){return Sa(a,e,b,0,n)},v=this,u=v.document,
y=u&&u.createElement("DiV"),w=n.has=function(a){return c(x[a])?x[a]=x[a](v,u,y):x[a]},x=w.cache=p.hasCache;w.add=function(a,e,n,b){(void 0===x[a]||b)&&(x[a]=e);return n&&w(a)};for(var z in h.has)w.add(z,h.has[z],0,1);var B=1,A=2,C=3,E=4,G=5,B="requested",A="arrived",C="not-a-module",E="executing",G="executed",F=0,I=[],Q=0,D=d,J=d,K;n.isXdUrl=d;n.initSyncLoader=function(a,e,n){Q||(Q=a,D=e,J=n);return{sync:"sync",requested:B,arrived:A,nonmodule:C,executing:E,executed:G,syncExecStack:I,modules:R,execQ:U,
getModule:W,injectModule:ta,setArrived:fa,signal:M,finishExec:ia,execModule:ja,dojoRequirePlugin:Q,getLegacyMode:function(){return F},guardCheckComplete:ka}};var H=location.protocol,L=location.host;n.isXdUrl=function(a){return/^\./.test(a)?!1:/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=H||L&&a[2]!=L)};w.add("dojo-force-activex-xhr",!u.addEventListener&&"file:"==window.location.protocol);w.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(w("native-xhr")&&!w("dojo-force-activex-xhr"))K=
function(){return new XMLHttpRequest};else{var N=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],X;for(l=0;3>l;)try{if(X=N[l++],new ActiveXObject(X))break}catch(Y){}K=function(){return new ActiveXObject(X)}}n.getXhr=K;w.add("dojo-gettext-api",1);n.getText=function(a,e,n){var b=K();b.open("GET",ua(a),!1);b.send(null);if(200==b.status||!location.host&&!b.status)n&&n(b.responseText,e);else throw r("xhrFailed",b.status);return b.responseText};var O=new Function("return eval(arguments[0]);");
n.eval=function(a,e){return O(a+"\r\n////@ sourceURL\x3d"+e)};var S={},M=n.signal=function(e,n){var b=S[e];q(b&&b.slice(0),function(e){e.apply(null,a(n)?n:[n])})},Z=n.on=function(a,e){var n=S[a]||(S[a]=[]);n.push(e);return{remove:function(){for(var a=0;a<n.length;a++)if(n[a]===e){n.splice(a,1);break}}}},P=[],T={},Ta=[],aa={},Ua=n.map={},va=[],R={},Ha="",ba={},wa={},la={},ga=0,xa=function(a){var e,n,b,q;for(e in wa)n=wa[e],(b=e.match(/^url\:(.+)/))?ba["url:"+Va(b[1],a)]=n:"*now"==e?q=n:"*noref"!=e&&
(b=ma(e,a),ba[b.mid]=ba["url:"+b.url]=n);q&&q(Ia(a));wa={}},Wa=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Ja=function(a,e){e.splice(0,e.length);for(var n in a)e.push([n,a[n],RegExp("^"+Wa(n)+"(/|$)"),n.length]);e.sort(function(a,e){return e[3]-a[3]});return e},ib=function(a,e){q(a,function(a){e.push([b(a[0])?RegExp("^"+Wa(a[0])+"$"):a[0],a[1]])})},Xa=function(a){var n=a.name;n||(n=a,a={name:n});a=e({main:"main"},a);a.location=a.location?a.location:n;a.packageMap&&
(Ua[n]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));aa[n]=a},Ya=[],na=function(a,c,r){for(var d in a){"waitSeconds"==d&&(n.waitms=1E3*(a[d]||0));"cacheBust"==d&&(Ha=a[d]?b(a[d])?a[d]:(new Date).getTime()+"":"");if("baseUrl"==d||"combo"==d)n[d]=a[d];if("async"==d){var f=a[d];n.legacyMode=F=b(f)&&/sync|legacyAsync/.test(f)?f:!f?"sync":!1;n.async=!F}a[d]!==x&&(n.rawConfig[d]=a[d],"has"!=d&&w.add("config-"+d,a[d],0,c))}n.baseUrl||(n.baseUrl="./");/\/$/.test(n.baseUrl)||(n.baseUrl+=
"/");for(d in a.has)w.add(d,a.has[d],0,c);q(a.packages,Xa);for(k in a.packagePaths)q(a.packagePaths[k],function(a){var e=k+"/"+a;b(a)&&(a={name:a});a.location=e;Xa(a)});Ja(e(Ua,a.map),va);q(va,function(a){a[1]=Ja(a[1],[]);"*"==a[0]&&(va.star=a)});Ja(e(T,a.paths),Ta);ib(a.aliases,P);if(c)Ya.push({config:a.config});else for(d in a.config)c=W(d,r),c.config=e(c.config||{},a.config[d]);a.cache&&(xa(),wa=a.cache,a.cache["*noref"]&&xa());M("config",[a,n.rawConfig])};w("dojo-cdn");var ya=u.getElementsByTagName("script");
l=0;for(var $,da,za,oa;l<ya.length;){$=ya[l++];if((za=$.getAttribute("src"))&&(oa=za.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))da=oa[3]||"",p.baseUrl=p.baseUrl||da,ga=$;if(za=$.getAttribute("data-dojo-config")||$.getAttribute("djConfig"))la=n.eval("({ "+za+" })","data-dojo-config"),ga=$}n.rawConfig={};na(p,1);w("dojo-cdn")&&((aa.dojo.location=da)&&(da+="/"),aa.dijit.location=da+"../dijit/",aa.dojox.location=da+"../dojox/");na(h,1);na(la,1);var pa=function(a){ka(function(){q(a.deps,ta)})},Sa=function(q,
c,f,g,k){var t;if(b(q)){if((t=W(q,g,!0))&&t.executed)return t.result;throw r("undefinedModule",q);}a(q)||(na(q,0,g),q=c,c=f);if(a(q))if(q.length){f="require*"+s();for(var w,v=[],u=0;u<q.length;)w=q[u++],v.push(W(w,g));t=e(Aa("",f,0,""),{injected:A,deps:v,def:c||d,require:g?g.require:n,gc:1});R[t.mid]=t;pa(t);var h=qa&&"sync"!=F;ka(function(){ja(t,h)});t.executed||U.push(t);ha()}else c&&c();return k},Ia=function(a){if(!a)return n;var b=a.require;b||(b=function(e,n,q){return Sa(e,n,q,a,b)},a.require=
e(b,n),b.module=a,b.toUrl=function(e){return Va(e,a)},b.toAbsMid=function(e){return Ka(e,a)},b.syncLoadNls=function(e){e=ma(e,a);var n=R[e.mid];if(!n||!n.executed)if(ca=ba[e.mid]||ba["url:"+e.url])Ba(ca),n=R[e.mid];return n&&n.executed&&n.result});return b},U=[],Ca=[],V={},jb=function(a){a.injected=B;V[a.mid]=1;a.url&&(V[a.url]=a.pack||1);Za()},fa=function(a){a.injected=A;delete V[a.mid];a.url&&delete V[a.url];g(V)&&(Da(),"xd"==F&&(F="sync"))},kb=n.idle=function(){return!Ca.length&&g(V)&&!U.length&&
!qa},La=function(a,e){if(e)for(var n=0;n<e.length;n++)if(e[n][2].test(a))return e[n];return 0},$a=function(a){var e=[],n,b;for(a=a.replace(/\\/g,"/").split("/");a.length;)n=a.shift(),".."==n&&e.length&&".."!=b?(e.pop(),b=e[e.length-1]):"."!=n&&e.push(b=n);return e.join("/")},Aa=function(a,e,b,q){var c=n.isXdUrl(q);return{pid:a,mid:e,pack:b,url:q,executed:0,def:0,isXd:c,isAmd:!!(c||aa[a]&&aa[a].isAmd)}},ab=function(a,e,n,b,d,f,g,k,s){var t,v,u,h;h=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||h&&
!e)return Aa(0,a,0,a);a=$a(h?e.mid+"/../"+a:a);if(/^\./.test(a))throw r("irrationalPath",a);e&&(u=La(e.mid,f));(u=(u=u||f.star)&&La(a,u[1]))&&(a=u[1]+a.substring(u[3]));e=(oa=a.match(/^([^\/]+)(\/(.+))?$/))?oa[1]:"";(t=n[e])?a=e+"/"+(v=oa[3]||t.main):e="";var y=0;q(k,function(e){var n=a.match(e[0]);n&&0<n.length&&(y=c(e[1])?a.replace(e[0],e[1]):e[1])});if(y)return ab(y,0,n,b,d,f,g,k,s);if(n=b[a])return s?Aa(n.pid,n.mid,n.pack,n.url):b[a];b=(u=La(a,g))?u[1]+a.substring(u[3]):e?t.location+"/"+v:w("config-tlmSiblingOfDojo")?
"../"+a:a;/(^\/)|(\:)/.test(b)||(b=d+b);return Aa(e,a,t,$a(b+".js"))},ma=function(a,e){return ab(a,e,aa,R,n.baseUrl,va,Ta,P)},bb=function(a,e,n){return a.normalize?a.normalize(e,function(a){return Ka(a,n)}):Ka(e,n)},cb=0,W=function(a,e,n){var b,q;(b=a.match(/^(.+?)\!(.*)$/))?(q=W(b[1],e,n),"sync"==F&&!q.executed&&(ta(q),q.injected===A&&!q.executed&&ka(function(){ja(q)}),q.executed?Ea(q):U.unshift(q)),q.executed===G&&!q.load&&Ea(q),q.load?(b=bb(q,b[2],e),a=q.mid+"!"+(q.dynamic?++cb+"!":"")+b):(b=b[2],
a=q.mid+"!"+ ++cb+"!waitingForPlugin"),a={plugin:q,mid:a,req:Ia(e),prid:b}):a=ma(a,e);return R[a.mid]||!n&&(R[a.mid]=a)},Ka=n.toAbsMid=function(a,e){return ma(a,e).mid},Va=n.toUrl=function(a,e){var n=ma(a+"/x",e),b=n.url;return ua(0===n.pid?a:b.substring(0,b.length-5))},db={injected:A,executed:G,def:C,result:C},Ma=function(a){return R[a]=e({mid:a},db)},lb=Ma("require"),mb=Ma("exports"),nb=Ma("module"),Fa={},Na=0,Ea=function(a){var e=a.result;a.dynamic=e.dynamic;a.normalize=e.normalize;a.load=e.load;
return a},ob=function(a){var n={};q(a.loadQ,function(b){var q=bb(a,b.prid,b.req.module),c=a.dynamic?b.mid.replace(/waitingForPlugin$/,q):a.mid+"!"+q,q=e(e({},b),{mid:c,prid:q,injected:0});R[c]||eb(R[c]=q);n[b.mid]=R[c];fa(b);delete R[b.mid]});a.loadQ=0;var b=function(a){for(var e=a.deps||[],b=0;b<e.length;b++)(a=n[e[b].mid])&&(e[b]=a)},c;for(c in R)b(R[c]);q(U,b)},ia=function(a){n.trace("loader-finish-exec",[a.mid]);a.executed=G;a.defOrder=Na++;q(a.provides,function(a){a()});a.loadQ&&(Ea(a),ob(a));
for(l=0;l<U.length;)U[l]===a?U.splice(l,1):l++;/^require\*/.test(a.mid)&&delete R[a.mid]},ra=[],ja=function(a,e){if(a.executed===E)return n.trace("loader-circular-dependency",[ra.concat(a.mid).join("-\x3e")]),!a.def||e?Fa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Fa;var b=a.mid,q=a.deps||[],d,f=[],g=0;ra.push(b);n.trace("loader-exec-module",["exec",ra.length,b]);for(a.executed=E;d=q[g++];){d=d===lb?Ia(a):d===mb?a.cjs.exports:d===nb?a.cjs:ja(d,e);if(d===Fa)return a.executed=0,n.trace("loader-exec-module",
["abort",b]),ra.pop(),Fa;f.push(d)}n.trace("loader-run-factory",[a.mid]);var b=a.def,k;I.unshift(a);if(w("config-dojo-loader-catches"))try{k=c(b)?b.apply(null,f):b}catch(s){M("error",a.result=r("factoryThrew",[a,s]))}else k=c(b)?b.apply(null,f):b;a.result=void 0===k&&a.cjs?a.cjs.exports:k;I.shift(a);ia(a);ra.pop()}return a.result},qa=0,ka=function(a){try{qa++,a()}finally{qa--}kb()&&M("idle",[])},ha=function(){qa||ka(function(){D();for(var a,e,n=0;n<U.length;)a=Na,e=U[n],ja(e),a!=Na?(D(),n=0):n++})};
void 0===w("dojo-loader-eval-hint-url")&&w.add("dojo-loader-eval-hint-url",1);var ua=function(a){a+="";return a+(Ha?(/\?/.test(a)?"\x26":"?")+Ha:"")},eb=function(a){var e=a.plugin;e.executed===G&&!e.load&&Ea(e);var n=function(e){a.result=e;fa(a);ia(a);ha()};e.load?e.load(a.prid,a.req,n):e.loadQ?e.loadQ.push(a):(e.loadQ=[a],U.unshift(e),ta(e))},ca=0,sa=0,Oa=0,Ba=function(a,e){w("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Oa=1;if(w("config-dojo-loader-catches"))try{a===ca?ca.call(null):
n.eval(a,w("dojo-loader-eval-hint-url")?e.url:e.mid)}catch(b){M("error",r("evalModuleThrew",e))}else a===ca?ca.call(null):n.eval(a,w("dojo-loader-eval-hint-url")?e.url:e.mid);Oa=0},ta=function(a){var b=a.mid,c=a.url;if(!a.executed&&!a.injected&&!(V[b]||a.url&&(a.pack&&V[a.url]===a.pack||1==V[a.url])))if(jb(a),a.plugin)eb(a);else{var d=function(){fb(a);if(a.injected!==A){if(w("dojo-enforceDefine")){M("error",r("noDefine",a));return}fa(a);e(a,db);n.trace("loader-define-nonmodule",[a.url])}F?!I.length&&
ha():ha()};if(ca=ba[b]||ba["url:"+a.url])n.trace("loader-inject",["cache",a.mid,c]),Ba(ca,a),d();else{if(F)if(a.isXd)"sync"==F&&(F="xd");else if(!(a.isAmd&&"sync"!=F)){var f=function(e){if("sync"==F){I.unshift(a);Ba(e,a);I.shift();fb(a);a.cjs||(fa(a),ia(a));if(a.finish){e=b+"*finish";var r=a.finish;delete a.finish;Pa(e,["dojo",("dojo/require!"+r.join(",")).replace(/\./g,"/")],function(a){q(r,function(e){a.require(e)})});U.unshift(W(e))}d()}else(e=J(a,e))?(Ba(e,a),d()):(sa=a,n.injectUrl(ua(c),d,a),
sa=0)};n.trace("loader-inject",["xhr",a.mid,c,"sync"!=F]);if(w("config-dojo-loader-catches"))try{n.getText(c,"sync"!=F,f)}catch(g){M("error",r("xhrInjectFailed",[a,g]))}else n.getText(c,"sync"!=F,f);return}n.trace("loader-inject",["script",a.mid,c]);sa=a;n.injectUrl(ua(c),d,a);sa=0}}},Qa=function(a,b,q){n.trace("loader-define-module",[a.mid,b]);var d=a.mid;if(a.injected===A)return M("error",r("multipleDefine",a)),a;e(a,{deps:b,def:q,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(e){a.cjs.exports=
e},config:function(){return a.config}}});for(var f=0;b[f];f++)b[f]=W(b[f],a);F&&!V[d]&&(pa(a),U.push(a),ha());fa(a);!c(q)&&!b.length&&(a.result=q,ia(a));return a},fb=function(a,e){for(var n=[],b,c;Ca.length;)c=Ca.shift(),e&&(c[0]=e.shift()),b=c[0]&&W(c[0])||a,n.push([b,c[1],c[2]]);xa(a);q(n,function(a){pa(Qa.apply(null,a))})},Ga=0,Da=d,Za=d,Da=function(){Ga&&clearTimeout(Ga);Ga=0},Za=function(){Da();n.waitms&&(Ga=window.setTimeout(function(){Da();M("error",r("timeout",V))},n.waitms))};w.add("ie-event-behavior",
u.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ra=function(a,e,n,b){if(w("ie-event-behavior"))return a.attachEvent(n,b),function(){a.detachEvent(n,b)};a.addEventListener(e,b,!1);return function(){a.removeEventListener(e,b,!1)}},pb=Ra(window,"load","onload",function(){n.pageLoaded=1;"complete"!=u.readyState&&(u.readyState="complete");pb()}),ya=u.getElementsByTagName("script");for(l=0;!ga;)if(!/^dojo/.test(($=ya[l++])&&$.type))ga=$;
n.injectUrl=function(a,e,b){b=b.node=u.createElement("script");var n=Ra(b,"load","onreadystatechange",function(a){a=a||window.event;var b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))n(),q(),e&&e()}),q=Ra(b,"error","onerror",function(e){n();q();M("error",r("scriptError",[a,e]))});b.type="text/javascript";b.charset="utf-8";b.src=a;ga.parentNode.insertBefore(b,ga);return b};n.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(e){}};var ea=n.trace=function(a,
e){if(ea.on&&ea.group[a]){M("trace",[a,e]);for(var q,c=[],r="trace:"+a+(e.length?":"+e[0]:""),d=1;d<e.length;)q=e[d++],b(q)?r+=", "+q:c.push(q);n.log(r);c.length&&c.push(".");n.log.apply(n,c)}};e(ea,{on:1,group:{},set:function(a,n){b(a)?ea.group[a]=n:e(ea.group,a)}});ea.set(e(e(e({},p.trace),h.trace),la.trace));Z("config",function(a){a.trace&&ea.set(a.trace)});var Pa=function(a,e,q){var d=arguments.length,f=["require","exports","module"],g=[0,a,e];1==d?g=[0,c(a)?f:[],a]:2==d&&b(a)?g=[a,c(e)?f:[],
e]:3==d&&(g=[a,e,q]);n.trace("loader-define",g.slice(0,2));if((d=g[0]&&W(g[0]))&&!V[d.mid])pa(Qa(d,g[1],g[2]));else if(!w("ie-event-behavior")||Oa)Ca.push(g);else{d=d||sa;if(!d)for(a in V)if((f=R[a])&&f.node&&"interactive"===f.node.readyState){d=f;break}d?(xa(d),pa(Qa(d,g[1],g[2]))):M("error",r("ieDefineFailed",g[0]));ha()}};Pa.amd={vendor:"dojotoolkit.org"};e(e(n,p.loaderPatch),h.loaderPatch);Z("error",function(a){try{if(console.error(a),a instanceof Error)for(var e in a);}catch(b){}});e(n,{uid:s,
cache:ba,packs:aa});if(v.define)M("error",r("defineAlreadyDefined",0));else{v.define=Pa;v.require=n;q(Ya,function(a){na(a)});var gb=la.deps||h.deps||p.deps,hb=la.callback||h.callback||p.callback;n.boot=gb||hb?[gb||[],hb]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":!0,"dojo-loader":!0,dom:!0,"host-browser":!0},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
name:"dojox"},{location:"../moch",name:"moch"},{location:"../site",name:"site"},{location:"../mobile",main:"index",name:"mobile"},{location:"../cms",name:"cms"},{location:"../front",name:"front"},{location:"../kso",name:"kso"}]});
require({cache:{"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./_base/browser ./_base/loader".split(" "),function(h,p,l,k,d,g,f,c){f.isDebug&&l(["./_firebug/firebug"]);var b=f.require;b&&(b=g.map(d.isArray(b)?b:[b],function(a){return a.replace(/\./g,"/")}),h.isAsync?l(b):c(1,function(){l(b)}));return h})},"dojo/_base/kernel":function(){define(["../has",
"./config","require","module"],function(h,p,l,k){var d;h={};var g={},f={config:p,global:this,dijit:h,dojox:g};h={dojo:["dojo",f],dijit:["dijit",h],dojox:["dojox",g]};k=l.map&&l.map[k.id.match(/[^\/]+/)[0]];for(d in k)h[d]?h[d][0]=k[d]:h[d]=[k[d],{}];for(d in h)k=h[d],k[1]._scopeName=k[0],p.noGlobals||(this[k[0]]=k[1]);f.scopeMap=h;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=l.async;f.locale=p.locale;k="$Rev: 43d05c6 $".match(/\d+/);f.version={major:1,minor:9,patch:1,flag:"",revision:k?+k[0]:NaN,
toString:function(){var b=f.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};"undefined"!=typeof console||(console={});h="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(k=0;c=h[k++];)console[c]||function(){var b=c+"";console[b]="log"in console?function(){var a=
Array.apply({},arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();f.deprecated=f.experimental=function(){};if(p.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");k={};for(d in p.modulePaths)k[d.replace(/\./g,"/")]=p.modulePaths[d];l({paths:k})}f.moduleUrl=function(b,a){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var q=null;b&&(q=l.toUrl(b.replace(/\./g,"/")+(a?"/"+a:"")+"/*.*").replace(/\/\*\.\*/,"")+(a?"":"/"));return q};
f._hasResource={};return f})},"dojo/has":function(){define(["require","module"],function(h,p){var l=h.has||function(){};l.add("dom-addeventlistener",!!document.addEventListener);l.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);l.add("device-width",screen.availWidth||innerWidth);var k=document.createElement("form");l.add("dom-attributes-explicit",0==k.attributes.length);l.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length);l.clearElement=
function(d){d.innerHTML="";return d};l.normalize=function(d,g){var f=d.match(/[\?:]|[^:\?]*/g),c=0,b=function(a){var q=f[c++];if(":"==q)return 0;if("?"==f[c++]){if(!a&&l(q))return b();b(!0);return b(a)}return q||0};return(d=b())&&g(d)};l.load=function(d,g,f){d?g([d],f):f()};return l})},"dojo/_base/config":function(){define(["../has","require"],function(h,p){var l={},k=p.rawConfig,d;for(d in k)l[d]=k[d];!l.locale&&"undefined"!=typeof navigator&&(l.locale=(navigator.language||navigator.userLanguage).toLowerCase());
return l})},"dojo/sniff":function(){define(["./has"],function(h){var p=navigator,l=p.userAgent,p=p.appVersion,k=parseFloat(p);h.add("air",0<=l.indexOf("AdobeAIR"));h.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0);h.add("khtml",0<=p.indexOf("Konqueror")?k:void 0);h.add("webkit",parseFloat(l.split("WebKit/")[1])||void 0);h.add("chrome",parseFloat(l.split("Chrome/")[1])||void 0);h.add("safari",0<=p.indexOf("Safari")&&!h("chrome")?parseFloat(p.split("Version/")[1]):void 0);h.add("mac",0<=p.indexOf("Macintosh"));
h.add("quirks","BackCompat"==document.compatMode);if(l.match(/(iPhone|iPod|iPad)/)){var d=RegExp.$1.replace(/P/,"p"),g=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));h.add(d,g);h.add("ios",g)}h.add("android",parseFloat(l.split("Android ")[1])||void 0);h.add("bb",(0<=l.indexOf("BlackBerry")||0<=l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||void 0);h.add("svg","undefined"!==typeof SVGAngle);h("webkit")||(0<=l.indexOf("Opera")&&h.add("opera",9.8<=k?parseFloat(l.split("Version/")[1])||
k:k),0<=l.indexOf("Gecko")&&(!h("khtml")&&!h("webkit"))&&h.add("mozilla",k),h("mozilla")&&h.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&!h("opera")&&(l=parseFloat(p.split("MSIE ")[1])||void 0,(p=document.documentMode)&&(5!=p&&Math.floor(l)!=p)&&(l=p),h.add("ie",l)),h.add("wii","undefined"!=typeof opera&&opera.wiiremote));return h})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(h,p){p.add("bug-for-in-skips-shadowed",
function(){for(var a in{toString:1})return 0;return 1});var l=p("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],k=l.length,d=function(a,b,e){var c,d=0,f=h.global;if(!e)if(a.length){c=a[d++];try{e=h.scopeMap[c]&&h.scopeMap[c][1]}catch(n){}e=e||(c in f?f[c]:b?f[c]={}:void 0)}else return f;for(;e&&(c=a[d++]);)e=c in e?e[c]:b?e[c]={}:void 0;return e},g=Object.prototype.toString,f=function(a,b,e){return(e||[]).concat(Array.prototype.slice.call(a,
b||0))},c=/\{([^\}]+)\}/g,b={_extraNames:l,_mixin:function(a,b,e){var c,d,f,n={};for(c in b)if(d=b[c],!(c in a)||a[c]!==d&&(!(c in n)||n[c]!==d))a[c]=e?e(d):d;if(p("bug-for-in-skips-shadowed")&&b)for(f=0;f<k;++f)if(c=l[f],d=b[c],!(c in a)||a[c]!==d&&(!(c in n)||n[c]!==d))a[c]=e?e(d):d;return a},mixin:function(a,q){a||(a={});for(var e=1,c=arguments.length;e<c;e++)b._mixin(a,arguments[e]);return a},setObject:function(a,b,e){var c=a.split(".");a=c.pop();return(e=d(c,!0,e))&&a?e[a]=b:void 0},getObject:function(a,
b,e){return d(a.split("."),b,e)},exists:function(a,c){return void 0!==b.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===g.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var e=1,d=arguments.length;e<d;e++)b._mixin(a.prototype,arguments[e]);return a},_hitchArgs:function(a,c){var e=b._toArray(arguments,2),d=b.isString(c);return function(){var f=b._toArray(arguments),g=d?(a||h.global)[c]:c;return g&&g.apply(a||this,e.concat(f))}},hitch:function(a,c){if(2<arguments.length)return b._hitchArgs.apply(h,arguments);c||(c=
a,a=null);if(b.isString(c)){a=a||h.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return!a?c:function(){return c.apply(a,arguments||[])}},delegate:function(){function a(){}return function(c,e){a.prototype=c;var d=new a;a.prototype=null;e&&b._mixin(d,e);return d}}(),_toArray:p("ie")?function(){function a(a,e,b){b=b||[];for(e=e||0;e<a.length;e++)b.push(a[e]);return b}return function(b){return(b.item?a:f).apply(this,
arguments)}}():f,partial:function(a){return b.hitch.apply(h,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,e,d;if(b.isArray(a)){c=[];e=0;for(d=a.length;e<d;++e)e in a&&c.push(b.clone(a[e]))}else c=a.constructor?new a.constructor:{};return b._mixin(c,a,b.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,q,e){return a.replace(e||c,b.isFunction(q)?q:function(a,e){return b.getObject(e,!1,q)})}};b.mixin(h,b);return b})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(h,p,l){function k(a){return f[a]=new Function("item","index","array",a)}function d(a){var b=!a;return function(e,c,d){var g=0,n=e&&e.length||0,v;n&&"string"==typeof e&&(e=e.split(""));"string"==typeof c&&
(c=f[c]||k(c));if(d)for(;g<n;++g){if(v=!c.call(d,e[g],g,e),a^v)return!v}else for(;g<n;++g)if(v=!c(e[g],g,e),a^v)return!v;return b}}function g(a){var q=1,e=0,d=0;a||(q=e=d=-1);return function(f,g,n,k){if(k&&0<q)return b.lastIndexOf(f,g,n);k=f&&f.length||0;var u=a?k+d:e;n===c?n=a?e:k+d:0>n?(n=k+n,0>n&&(n=e)):n=n>=k?k+d:n;for(k&&"string"==typeof f&&(f=f.split(""));n!=u;n+=q)if(f[n]==g)return n;return-1}}var f={},c,b={every:d(!1),some:d(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(a,b,e){var c=
0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=f[b]||k(b));if(e)for(;c<d;++c)b.call(e,a[c],c,a);else for(;c<d;++c)b(a[c],c,a)},map:function(a,b,e,c){var d=0,g=a&&a.length||0;c=new (c||Array)(g);g&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=f[b]||k(b));if(e)for(;d<g;++d)c[d]=b.call(e,a[d],d,a);else for(;d<g;++d)c[d]=b(a[d],d,a);return c},filter:function(a,b,e){var c=0,d=a&&a.length||0,g=[],n;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&
(b=f[b]||k(b));if(e)for(;c<d;++c)n=a[c],b.call(e,n,c,a)&&g.push(n);else for(;c<d;++c)n=a[c],b(n,c,a)&&g.push(n);return g},clearCache:function(){f={}}};l.mixin(h,b);return b})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(h,p,l,k,d){var g=0,f=[],c=0;p=function(){g=1;h._postLoad=h.config.afterOnLoad=!0;b()};var b=function(){if(!c){for(c=1;g&&(!k||0==k._Q.length)&&(l.idle?l.idle():1)&&f.length;){var a=f.shift();try{a()}catch(b){if(b.info=b.message,
l.signal)l.signal("error",b);else throw b;}}c=0}};l.on&&l.on("idle",b);k&&(k._onQEmpty=b);var a=h.ready=h.addOnLoad=function(a,c,q){var g=d._toArray(arguments);"number"!=typeof a?(q=c,c=a,a=1E3):g.shift();q=q?d.hitch.apply(h,g):function(){c()};q.priority=a;for(g=0;g<f.length&&a>=f[g].priority;g++);f.splice(g,0,q);b()},q=h.config.addOnLoad;if(q)a[d.isArray(q)?"apply":"call"](h,q);h.config.parseOnLoad&&!h.isAsync&&a(99,function(){h.parser||(h.deprecated("Add explicit require(['dojo/parser']);","","2.0"),
l(["dojo/parser"]))});k?k(p):p();return a})},"dojo/domReady":function(){define(["./has"],function(h){function p(a){b.push(a);c&&l()}function l(){if(!a){for(a=!0;b.length;)try{b.shift()(d)}catch(e){}a=!1;p._onQEmpty()}}var k=this,d=document,g={loaded:1,complete:1},f="string"!=typeof d.readyState,c=!!g[d.readyState],b=[],a;p.load=function(a,e,b){p(b)};p._Q=b;p._onQEmpty=function(){};f&&(d.readyState="loading");if(!c){var q=[],e=function(a){a=a||k.event;c||"readystatechange"==a.type&&!g[d.readyState]||
(f&&(d.readyState="complete"),c=1,l())},r=function(a,n){a.addEventListener(n,e,!1);b.push(function(){a.removeEventListener(n,e,!1)})};if(!h("dom-addeventlistener")){var r=function(a,n){n="on"+n;a.attachEvent(n,e);b.push(function(){a.detachEvent(n,e)})},t=d.createElement("div");try{t.doScroll&&null===k.frameElement&&q.push(function(){try{return t.doScroll("left"),1}catch(a){}})}catch(s){}}r(d,"DOMContentLoaded");r(k,"load");"onreadystatechange"in d?r(d,"readystatechange"):f||q.push(function(){return g[d.readyState]});
if(q.length){var n=function(){if(!c){for(var a=q.length;a--;)if(q[a]()){e("poller");return}setTimeout(n,30)}};n()}}return p})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(h,p,l){function k(a,e){throw Error("declare"+(e?" "+e:"")+": "+a);}function d(a,e,b){var n,c,d,q,f,g,r,s=this._inherited=this._inherited||{};"string"==typeof a&&(n=a,a=e,e=b);b=0;q=a.callee;(n=n||q.nom)||k("can't deduce a name to call inherited()",this.declaredClass);f=this.constructor._meta;d=
f.bases;r=s.p;if(n!=A){if(s.c!==q&&(r=0,g=d[0],f=g._meta,f.hidden[n]!==q)){(c=f.chains)&&"string"==typeof c[n]&&k("calling chained method with inherited: "+n,this.declaredClass);do if(f=g._meta,c=g.prototype,f&&(c[n]===q&&c.hasOwnProperty(n)||f.hidden[n]===q))break;while(g=d[++r]);r=g?r:-1}if(g=d[++r])if(c=g.prototype,g._meta&&c.hasOwnProperty(n))b=c[n];else{q=w[n];do if(c=g.prototype,(b=c[n])&&(g._meta?c.hasOwnProperty(n):b!==q))break;while(g=d[++r])}b=g&&b||w[n]}else{if(s.c!==q&&(r=0,(f=d[0]._meta)&&
f.ctor!==q)){c=f.chains;for((!c||"manual"!==c.constructor)&&k("calling chained constructor with inherited",this.declaredClass);(g=d[++r])&&!((f=g._meta)&&f.ctor===q););r=g?r:-1}for(;(g=d[++r])&&!(b=(f=g._meta)?f.ctor:g););b=g&&b}s.c=b;s.p=r;if(b)return!0===e?b:b.apply(this,e||a)}function g(a,e){return"string"==typeof a?this.__inherited(a,e,!0):this.__inherited(a,!0)}function f(a,e,b){var n=this.getInherited(a,e);if(n)return n.apply(this,b||e||a)}function c(a){for(var e=this.constructor._meta.bases,
b=0,n=e.length;b<n;++b)if(e[b]===a)return!0;return this instanceof a}function b(a,e){for(var b in e)b!=A&&e.hasOwnProperty(b)&&(a[b]=e[b]);if(p("bug-for-in-skips-shadowed"))for(var n=l._extraNames,c=n.length;c;)b=n[--c],b!=A&&e.hasOwnProperty(b)&&(a[b]=e[b])}function a(a){u.safeMixin(this.prototype,a);return this}function q(a,e){return u([this].concat(a),e||{})}function e(a,e){return function(){var b=arguments,n=b,c=b[0],d,q;q=a.length;var f;if(!(this instanceof b.callee))return v(b);if(e&&(c&&c.preamble||
this.preamble)){f=Array(a.length);f[0]=b;for(d=0;;){if(c=b[0])(c=c.preamble)&&(b=c.apply(this,b)||b);c=a[d].prototype;(c=c.hasOwnProperty("preamble")&&c.preamble)&&(b=c.apply(this,b)||b);if(++d==q)break;f[d]=b}}for(d=q-1;0<=d;--d)c=a[d],(c=(q=c._meta)?q.ctor:c)&&c.apply(this,f?f[d]:b);(c=this.postscript)&&c.apply(this,n)}}function r(a,e){return function(){var b=arguments,n=b,c=b[0];if(!(this instanceof b.callee))return v(b);e&&(c&&(c=c.preamble)&&(n=c.apply(this,n)||n),(c=this.preamble)&&c.apply(this,
n));a&&a.apply(this,b);(c=this.postscript)&&c.apply(this,b)}}function t(a){return function(){var e=arguments,b=0,n,c;if(!(this instanceof e.callee))return v(e);for(;n=a[b];++b)if(n=(c=n._meta)?c.ctor:n){n.apply(this,e);break}(n=this.postscript)&&n.apply(this,e)}}function s(a,e,b){return function(){var n,c,d=0,q=1;b&&(d=e.length-1,q=-1);for(;n=e[d];d+=q)c=n._meta,(n=(c?c.hidden:n.prototype)[a])&&n.apply(this,arguments)}}function n(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function v(a){var e=
a.callee,b=n(e);e.apply(b,a);return b}function u(f,v,h){"string"!=typeof f&&(h=v,v=f,f="");h=h||{};var p,z,D,J,K,H,L,N=1,X=v;if("[object Array]"==x.call(v)){N=f;D=[];J=[{cls:0,refs:[]}];H={};for(var Y=1,O=v.length,S=0,M,Z,P,T;S<O;++S){(M=v[S])?"[object Function]"!=x.call(M)&&k("mixin #"+S+" is not a callable constructor.",N):k("mixin #"+S+" is unknown. Did you use dojo.require to pull it in?",N);Z=M._meta?M._meta.bases:[M];P=0;for(M=Z.length-1;0<=M;--M)T=Z[M].prototype,T.hasOwnProperty("declaredClass")||
(T.declaredClass="uniqName_"+B++),T=T.declaredClass,H.hasOwnProperty(T)||(H[T]={count:0,refs:[],cls:Z[M]},++Y),T=H[T],P&&P!==T&&(T.refs.push(P),++P.count),P=T;++P.count;J[0].refs.push(P)}for(;J.length;){P=J.pop();D.push(P.cls);for(--Y;z=P.refs,1==z.length;){P=z[0];if(!P||--P.count){P=0;break}D.push(P.cls);--Y}if(P){S=0;for(O=z.length;S<O;++S)P=z[S],--P.count||J.push(P)}}Y&&k("can't build consistent linearization",N);M=v[0];D[0]=M?M._meta&&M===D[D.length-M._meta.bases.length]?M._meta.bases.length:
1:0;H=D;D=H[0];N=H.length-D;v=H[N]}else H=[0],v?"[object Function]"==x.call(v)?(D=v._meta,H=H.concat(D?D.bases:v)):k("base class is not a callable constructor.",f):null!==v&&k("unknown base class. Did you use dojo.require to pull it in?",f);if(v)for(z=N-1;;--z){p=n(v);if(!z)break;D=H[z];(D._meta?b:y)(p,D.prototype);J=new Function;J.superclass=v;J.prototype=p;v=p.constructor=J}else p={};u.safeMixin(p,h);D=h.constructor;D!==w.constructor&&(D.nom=A,p.constructor=D);for(z=N-1;z;--z)(D=H[z]._meta)&&D.chains&&
(L=y(L||{},D.chains));p["-chains-"]&&(L=y(L||{},p["-chains-"]));D=!L||!L.hasOwnProperty(A);H[0]=J=L&&"manual"===L.constructor?t(H):1==H.length?r(h.constructor,D):e(H,D);J._meta={bases:H,hidden:h,chains:L,parents:X,ctor:h.constructor};J.superclass=v&&v.prototype;J.extend=a;J.createSubclass=q;J.prototype=p;p.constructor=J;p.getInherited=g;p.isInstanceOf=c;p.inherited=C;p.__inherited=d;f&&(p.declaredClass=f,l.setObject(f,J));if(L)for(K in L)p[K]&&("string"==typeof L[K]&&K!=A)&&(D=p[K]=s(K,H,"after"===
L[K]),D.nom=K);return J}var y=l.mixin,w=Object.prototype,x=w.toString,z=new Function,B=0,A="constructor",C=h.config.isDebug?f:d;h.safeMixin=u.safeMixin=function(a,e){var b,n;for(b in e)if(n=e[b],(n!==w[b]||!(b in w))&&b!=A)"[object Function]"==x.call(n)&&(n.nom=b),a[b]=n;if(p("bug-for-in-skips-shadowed"))for(var c=l._extraNames,d=c.length;d;)if(b=c[--d],n=e[b],(n!==w[b]||!(b in w))&&b!=A)"[object Function]"==x.call(n)&&(n.nom=b),a[b]=n;return a};return h.declare=u})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(h,p,l,k,d,g,f,c){function b(a,e,b,d,q){d=c.hitch(b,d);if(!a||!a.addEventListener&&!a.attachEvent)return k.after(a||h.global,e,d,!0);"string"==typeof e&&"on"==e.substring(0,2)&&(e=e.substring(2));a||(a=h.global);if(!q)switch(e){case "keypress":e=t;break;case "mouseenter":e=g.enter;break;case "mouseleave":e=g.leave}return p(a,e,d,q)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}f.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==a.charCode&&!f("opera")});var q={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},e=f("mac")?"metaKey":"ctrlKey",r=function(e,b){var d=c.mixin({},e,b);a(d);d.preventDefault=function(){e.preventDefault()};d.stopPropagation=function(){e.stopPropagation()};return d},t;t=f("events-keypress-typed")?function(a,
e){var b=p(a,"keydown",function(a){var b=a.keyCode,c=13!=b&&32!=b&&(27!=b||!f("ie"))&&(48>b||90<b)&&(96>b||111<b)&&(186>b||192<b)&&(219>b||222<b)&&229!=b;if(c||a.ctrlKey){c=c?0:b;if(a.ctrlKey){if(3==b||13==b)return e.call(a.currentTarget,a);c=95<c&&106>c?c-48:!a.shiftKey&&65<=c&&90>=c?c+32:q[c]||c}b=r(a,{type:"keypress",faux:!0,charCode:c});e.call(a.currentTarget,b);if(f("ie"))try{a.keyCode=b.keyCode}catch(n){}}}),c=p(a,"keypress",function(a){var b=a.charCode;a=r(a,{charCode:32<=b?b:0,faux:!0});return e.call(this,
a)});return{remove:function(){b.remove();c.remove()}}}:f("opera")?function(a,b){return p(a,"keypress",function(a){var e=a.which;3==e&&(e=99);e=32>e&&!a.shiftKey?0:e;a.ctrlKey&&(!a.shiftKey&&65<=e&&90>=e)&&(e+=32);return b.call(this,r(a,{charCode:e}))})}:function(e,b){return p(e,"keypress",function(e){a(e);return b.call(this,e)})};var s={_keypress:t,connect:function(a,e,c,d,q){var f=arguments,g=[],r=0;g.push("string"==typeof f[0]?null:f[r++],f[r++]);var k=f[r+1];g.push("string"==typeof k||"function"==
typeof k?f[r++]:null,f[r++]);for(k=f.length;r<k;r++)g.push(f[r]);return b.apply(this,g)},disconnect:function(a){a&&a.remove()},subscribe:function(a,e,b){return l.subscribe(a,c.hitch(e,b))},publish:function(a,e){return l.publish.apply(l,[a].concat(e))},connectPublisher:function(a,e,b){var c=function(){s.publish(a,arguments)};return b?s.connect(e,b,c):s.connect(e,c)},isCopyKey:function(a){return a[e]}};s.unsubscribe=s.disconnect;c.mixin(h,s);return s})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect",
"./_base/kernel","./sniff"],function(h,p,l){function k(a,n,d,q,f){if(q=n.match(/(.*):(.*)/))return n=q[2],q=q[1],c.selector(q,n).call(f,a,d);l("touch")&&(b.test(n)&&(d=B(d)),!l("event-orientationchange")&&"orientationchange"==n&&(n="resize",a=window,d=B(d)));t&&(d=t(d));if(a.addEventListener){var g=n in e,r=g?e[n]:n;a.addEventListener(r,d,g);return{remove:function(){a.removeEventListener(r,d,g)}}}if(u&&a.attachEvent)return u(a,"on"+n,d);throw Error("Target must be an event emitter");}function d(){this.cancelable=
!1;this.defaultPrevented=!0}function g(){this.bubbles=!1}var f=window.ScriptEngineMajorVersion;l.add("jscript",f&&f()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);l.add("event-focusin",function(a,e,b){return!!b.attachEvent});var c=function(a,e,b,n){return"function"==typeof a.on&&"function"!=typeof e&&!a.nodeType?a.on(e,b):c.parse(a,
e,b,k,n,this)};c.pausable=function(a,e,b,n){var d;a=c(a,e,function(){if(!d)return b.apply(this,arguments)},n);a.pause=function(){d=!0};a.resume=function(){d=!1};return a};c.once=function(a,e,b,n){var d=c(a,e,function(){d.remove();return b.apply(this,arguments)});return d};c.parse=function(a,e,b,c,n,d){if(e.call)return e.call(d,a,b);if(-1<e.indexOf(",")){e=e.split(/\s*,\s*/);for(var q=[],f=0,g;g=e[f++];)q.push(c(a,g,b,n,d));q.remove=function(){for(var a=0;a<q.length;a++)q[a].remove()};return q}return c(a,
e,b,n,d)};var b=/^touch/;c.selector=function(a,e,b){return function(n,d){function q(e){for(f=f&&f.matches?f:p.query;!f.matches(e,a,n);)if(e==n||!1===b||!(e=e.parentNode)||1!=e.nodeType)return;return e}var f="function"==typeof a?{matches:a}:this,g=e.bubble;return g?c(n,g(q),d):c(n,e,function(a){var e=q(a.target);return e&&d.call(e,a)})}};var a=[].slice,q=c.emit=function(e,b,c){var n=a.call(arguments,2),q="on"+b;if("parentNode"in e){var f=n[0]={},r;for(r in c)f[r]=c[r];f.preventDefault=d;f.stopPropagation=
g;f.target=e;f.type=b;c=f}do e[q]&&e[q].apply(e,n);while(c&&c.bubbles&&(e=e.parentNode));return c&&c.cancelable&&c},e=l("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!l("event-stopimmediatepropagation"))var r=function(){this.modified=this.immediatelyStopped=!0},t=function(a){return function(e){if(!e.immediatelyStopped)return e.stopImmediatePropagation=r,a.apply(this,arguments)}};if(l("dom-addeventlistener"))c.emit=function(a,e,b){if(a.dispatchEvent&&document.createEvent){var n=a.ownerDocument.createEvent("HTMLEvents");
n.initEvent(e,!!b.bubbles,!!b.cancelable);for(var d in b)d in n||(n[d]=b[d]);return a.dispatchEvent(n)&&n}return q.apply(c,arguments)};else{c._fixEvent=function(a,e){a||(a=(e&&(e.ownerDocument||e.document||e).parentWindow||window).event);if(!a)return a;try{s&&(a.type==s.type&&a.srcElement==s.target)&&(a=s)}catch(b){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=e||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||
(a.stopPropagation=y,a.preventDefault=w),a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}return a};var s,n=function(a){this.handle=a};n.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var v=function(a){return function(e){e=c._fixEvent(e,this);var b=a.call(this,e);e.modified&&(s||setTimeout(function(){s=
null}),s=e);return b}},u=function(a,e,b){b=v(b);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=a[e];if(!c||!c.listeners){var d=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");c.listeners=
[];a[e]=c;c.global=this;d&&c.listeners.push(_dojoIEListeners_.push(d)-1)}c.listeners.push(a=c.global._dojoIEListeners_.push(b)-1);return new n(a)}return h.after(a,e,b,!0)},y=function(){this.cancelBubble=!0},w=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(l("touch"))var x=function(){},z=window.orientation,B=function(a){return function(e){var b=e.corrected;if(!b){var c=e.type;
try{delete e.type}catch(n){}if(e.type){if(l("mozilla")){var b={},d;for(d in e)b[d]=e[d]}else x.prototype=e,b=new x;b.preventDefault=function(){e.preventDefault()};b.stopPropagation=function(){e.stopPropagation()}}else b=e,b.type=c;e.corrected=b;if("resize"==c){if(z==window.orientation)return null;z=window.orientation;b.type="orientationchange";return a.call(this,b)}"rotation"in b||(b.rotation=0,b.scale=1);var c=b.changedTouches[0],q;for(q in c)delete b[q],b[q]=c[q]}return a.call(this,b)}};return c})},
"dojo/topic":function(){define(["./Evented"],function(h){var p=new h;return{publish:function(h,k){return p.emit.apply(p,arguments)},subscribe:function(h,k){return p.on.apply(p,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(h,p){function l(){}var k=h.after;l.prototype={on:function(d,g){return p.parse(this,d,g,function(d,c){return k(d,"on"+c,g,!0)})},emit:function(d,g){var f=[this];f.push.apply(f,arguments);return p.emit.apply(p,f)}};return l})},"dojo/aspect":function(){define([],
function(){function h(c,b,a,d){var e=c[b],f="around"==b,g;if(f){var s=a(function(){return e.advice(this,arguments)});g={remove:function(){s&&(s=c=a=null)},advice:function(a,b){return s?s.apply(a,b):e.advice(a,b)}}}else g={remove:function(){if(g.advice){var e=g.previous,d=g.next;!d&&!e?delete c[b]:(e?e.next=d:c[b]=d,d&&(d.previous=e));c=a=g.advice=null}},id:k++,advice:a,receiveArguments:d};if(e&&!f)if("after"==b){for(;e.next&&(e=e.next););e.next=g;g.previous=e}else"before"==b&&(c[b]=g,g.next=e,e.previous=
g);else c[b]=g;return g}function p(c){return function(b,a,d,e){var f=b[a],g;if(!f||f.target!=b)b[a]=g=function(){for(var a=k,e=arguments,b=g.before;b;)e=b.advice.apply(this,e)||e,b=b.next;if(g.around)var c=g.around.advice(this,e);for(b=g.after;b&&b.id<a;){if(b.receiveArguments)var d=b.advice.apply(this,e),c=d===l?c:d;else c=b.advice.call(this,c,e);b=b.next}return c},f&&(g.around={advice:function(a,e){return f.apply(a,e)}}),g.target=b;b=h(g||f,c,d,e);d=null;return b}}var l,k=0,d=p("after"),g=p("before"),
f=p("around");return{before:g,around:f,after:d}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(h,p,l,k){if(p._fixEvent){var d=p._fixEvent;p._fixEvent=function(f,c){(f=d(f,c))&&k.normalizeEvent(f);return f}}var g={fix:function(d,c){return p._fixEvent?p._fixEvent(d,c):d},stop:function(d){l("dom-addeventlistener")||d&&d.preventDefault?(d.preventDefault(),d.stopPropagation()):(d=d||window.event,d.cancelBubble=!0,p._preventDefault.call(d))}};h.fixEvent=
g.fix;h.stopEvent=g.stop;return g})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(h,p,l,k){function d(a,b,e,c,d,f){f=f||"px";a=a.style;isNaN(b)||(a.left=b+f);isNaN(e)||(a.top=e+f);0<=c&&(a.width=c+f);0<=d&&(a.height=d+f)}function g(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function f(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||g(a)}
var c={boxModel:"content-box"};h("ie")&&(c.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");c.getPadExtents=function(a,b){a=l.byId(a);var e=b||k.getComputedStyle(a),c=k.toPixelValue,d=c(a,e.paddingLeft),f=c(a,e.paddingTop),n=c(a,e.paddingRight),e=c(a,e.paddingBottom);return{l:d,t:f,r:n,b:e,w:d+n,h:f+e}};c.getBorderExtents=function(a,b){a=l.byId(a);var e=k.toPixelValue,c=b||k.getComputedStyle(a),d="none"!=c.borderLeftStyle?e(a,c.borderLeftWidth):0,f="none"!=c.borderTopStyle?e(a,
c.borderTopWidth):0,n="none"!=c.borderRightStyle?e(a,c.borderRightWidth):0,e="none"!=c.borderBottomStyle?e(a,c.borderBottomWidth):0;return{l:d,t:f,r:n,b:e,w:d+n,h:f+e}};c.getPadBorderExtents=function(a,b){a=l.byId(a);var e=b||k.getComputedStyle(a),d=c.getPadExtents(a,e),e=c.getBorderExtents(a,e);return{l:d.l+e.l,t:d.t+e.t,r:d.r+e.r,b:d.b+e.b,w:d.w+e.w,h:d.h+e.h}};c.getMarginExtents=function(a,b){a=l.byId(a);var e=b||k.getComputedStyle(a),c=k.toPixelValue,d=c(a,e.marginLeft),f=c(a,e.marginTop),n=c(a,
e.marginRight),e=c(a,e.marginBottom);return{l:d,t:f,r:n,b:e,w:d+n,h:f+e}};c.getMarginBox=function(a,b){a=l.byId(a);var e=b||k.getComputedStyle(a),d=c.getMarginExtents(a,e),f=a.offsetLeft-d.l,g=a.offsetTop-d.t,n=a.parentNode,v=k.toPixelValue;if(h("mozilla")){var u=parseFloat(e.left),e=parseFloat(e.top);!isNaN(u)&&!isNaN(e)?(f=u,g=e):n&&n.style&&(n=k.getComputedStyle(n),"visible"!=n.overflow&&(f+="none"!=n.borderLeftStyle?v(a,n.borderLeftWidth):0,g+="none"!=n.borderTopStyle?v(a,n.borderTopWidth):0))}else if((h("opera")||
8==h("ie")&&!h("quirks"))&&n)n=k.getComputedStyle(n),f-="none"!=n.borderLeftStyle?v(a,n.borderLeftWidth):0,g-="none"!=n.borderTopStyle?v(a,n.borderTopWidth):0;return{l:f,t:g,w:a.offsetWidth+d.w,h:a.offsetHeight+d.h}};c.getContentBox=function(a,b){a=l.byId(a);var e=b||k.getComputedStyle(a),d=a.clientWidth,f=c.getPadExtents(a,e),g=c.getBorderExtents(a,e);d?(e=a.clientHeight,g.w=g.h=0):(d=a.offsetWidth,e=a.offsetHeight);h("opera")&&(f.l+=g.l,f.t+=g.t);return{l:f.l,t:f.t,w:d-f.w-g.w,h:e-f.h-g.h}};c.setContentSize=
function(a,b,e){a=l.byId(a);var g=b.w;b=b.h;f(a)&&(e=c.getPadBorderExtents(a,e),0<=g&&(g+=e.w),0<=b&&(b+=e.h));d(a,NaN,NaN,g,b)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,q,e){a=l.byId(a);var r=e||k.getComputedStyle(a);e=q.w;var t=q.h,s=f(a)?b:c.getPadBorderExtents(a,r),r=c.getMarginExtents(a,r);if(h("webkit")&&g(a)){var n=a.style;0<=e&&!n.width&&(n.width="4px");0<=t&&!n.height&&(n.height="4px")}0<=e&&(e=Math.max(e-s.w-r.w,0));0<=t&&(t=Math.max(t-s.h-r.h,0));d(a,q.l,q.t,e,t)};c.isBodyLtr=
function(a){a=a||p.doc;return"ltr"==(p.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};c.docScroll=function(a){a=a||p.doc;var b=p.doc.parentWindow||p.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=h("quirks")?p.body(a):a.documentElement)&&{x:c.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};h("ie")&&(c.getIeDocumentElementOffset=function(a){a=a||p.doc;a=a.documentElement;if(8>h("ie")){var b=a.getBoundingClientRect(),e=b.left,b=b.top;7>h("ie")&&(e+=
a.clientLeft,b+=a.clientTop);return{x:0>e?0:e,y:0>b?0:b}}return{x:0,y:0}});c.fixIeBiDiScrollLeft=function(a,b){b=b||p.doc;var e=h("ie");if(e&&!c.isBodyLtr(b)){var d=h("quirks"),f=d?p.body(b):b.documentElement,g=p.global;6==e&&(!d&&g.frameElement&&f.scrollHeight>f.clientHeight)&&(a+=f.clientLeft);return 8>e||d?a+f.clientWidth-f.scrollWidth:-a}return a};c.position=function(a,b){a=l.byId(a);var e=p.body(a.ownerDocument),d=a.getBoundingClientRect(),d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};
if(9>h("ie")){var f=c.getIeDocumentElementOffset(a.ownerDocument);d.x-=f.x+(h("quirks")?e.clientLeft+e.offsetLeft:0);d.y-=f.y+(h("quirks")?e.clientTop+e.offsetTop:0)}b&&(e=c.docScroll(a.ownerDocument),d.x+=e.x,d.y+=e.y);return d};c.getMarginSize=function(a,b){a=l.byId(a);var e=c.getMarginExtents(a,b||k.getComputedStyle(a)),d=a.getBoundingClientRect();return{w:d.right-d.left+e.w,h:d.bottom-d.top+e.h}};c.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!h("dom-addeventlistener")){var b=
a.target,b=b&&b.ownerDocument||document,e=h("quirks")?b.body:b.documentElement,d=c.getIeDocumentElementOffset(b);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(e.scrollLeft||0,b)-d.x;a.pageY=a.clientY+(e.scrollTop||0)-d.y}};return c})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(h,p,l){var k={global:h.global,doc:this.document||null,body:function(d){d=d||h.doc;return d.body||d.getElementsByTagName("body")[0]},setContext:function(d,g){h.global=k.global=d;h.doc=k.doc=g},
withGlobal:function(d,g,f,c){var b=h.global;try{return h.global=k.global=d,k.withDoc.call(null,d.document,g,f,c)}finally{h.global=k.global=b}},withDoc:function(d,g,f,c){var b=k.doc,a=l("quirks"),q=l("ie"),e,r,t;try{h.doc=k.doc=d;h.isQuirks=l.add("quirks","BackCompat"==h.doc.compatMode,!0,!0);if(l("ie")&&(t=d.parentWindow)&&t.navigator)e=parseFloat(t.navigator.appVersion.split("MSIE ")[1])||void 0,(r=d.documentMode)&&(5!=r&&Math.floor(e)!=r)&&(e=r),h.isIE=l.add("ie",e,!0,!0);f&&"string"==typeof g&&
(g=f[g]);return g.apply(f,c||[])}finally{h.doc=k.doc=b,h.isQuirks=l.add("quirks",a,!0,!0),h.isIE=l.add("ie",q,!0,!0)}}};p.mixin(h,k);return k})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(h,p){if(7>=h("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var k={};h("ie")?k.byId=function(d,f){if("string"!=typeof d)return d;var c=f||p.doc,b=d&&c.getElementById(d);if(b&&(b.attributes.id.value==d||b.id==d))return b;c=c.all[d];if(!c||c.nodeName)c=[c];for(var a=
0;b=c[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==d||b.id==d)return b}:k.byId=function(d,f){return("string"==typeof d?(f||p.doc).getElementById(d):d)||null};k.isDescendant=function(d,f){try{d=k.byId(d);for(f=k.byId(f);d;){if(d==f)return!0;d=d.parentNode}}catch(c){}return!1};h.add("css-user-select",function(d,f,c){if(!c)return!1;d=c.style;f=["Khtml","O","ms","Moz","Webkit"];c=f.length;var b="userSelect";do if("undefined"!==typeof d[b])return b;while(c--&&(b=f[c]+"UserSelect"));return!1});
var d=h("css-user-select");k.setSelectable=d?function(g,f){k.byId(g).style[d]=f?"":"none"}:function(d,f){d=k.byId(d);var c=d.getElementsByTagName("*"),b=c.length;if(f)for(d.removeAttribute("unselectable");b--;)c[b].removeAttribute("unselectable");else for(d.setAttribute("unselectable","on");b--;)c[b].setAttribute("unselectable","on")};return k})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(h,p){function l(b,e,c){e=e.toLowerCase();if(h("ie")){if("auto"==c){if("height"==e)return b.offsetHeight;
if("width"==e)return b.offsetWidth}if("fontweight"==e)switch(c){case 700:return"bold";default:return"normal"}}e in a||(a[e]=q.test(e));return a[e]?g(b,c):c}var k,d={};k=h("webkit")?function(a){var b;if(1==a.nodeType){var e=a.ownerDocument.defaultView;b=e.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=e.getComputedStyle(a,null))}return b||{}}:h("ie")&&(9>h("ie")||h("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};d.getComputedStyle=k;var g;g=h("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var e=a.style,c=a.runtimeStyle,d=e.left,f=c.left;c.left=a.currentStyle.left;try{e.left=b,b=e.pixelLeft}catch(q){b=0}e.left=d;c.left=f;return b}:function(a,b){return parseFloat(b)||0};d.toPixelValue=g;var f=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){return b?{}:null}},c=9>h("ie")||10>h("ie")&&h("quirks")?function(a){try{return f(a).Opacity/
100}catch(b){return 1}}:function(a){return k(a).opacity},b=9>h("ie")||10>h("ie")&&h("quirks")?function(a,e){""===e&&(e=1);var c=100*e;1===e?(a.style.zoom="",f(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,f(a)?f(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",f(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&b(c,
e);return e}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,styleFloat:1,"float":1};d.get=function(a,b){var f=p.byId(a),n=arguments.length;if(2==n&&"opacity"==b)return c(f);b=e[b]?"cssFloat"in f.style?"cssFloat":"styleFloat":b;var q=d.getComputedStyle(f);return 1==n?q:l(f,b,q[b]||f.style[b])};d.set=function(a,c,f){var n=p.byId(a),q=arguments.length,g="opacity"==c;c=e[c]?"cssFloat"in n.style?"cssFloat":"styleFloat":c;if(3==q)return g?
b(n,f):n.style[c]=f;for(var k in c)d.set(a,k,c[k]);return d.getComputedStyle(n)};return d})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(h,p,l,k,d){function g(d,c){var b=function(a,b){return p(a,d,function(e){if(c)return c(e,b);if(!k.isDescendant(e.relatedTarget,a))return b.call(this,e)})};b.bubble=function(a){return g(d,function(b,e){var c=a(b.target),d=b.relatedTarget;if(c&&c!=(d&&1==d.nodeType&&a(d)))return e.call(c,b)})};return b}l.add("dom-quirks",
d.doc&&"BackCompat"==d.doc.compatMode);l.add("events-mouseenter",d.doc&&"onmouseenter"in d.doc.createElement("div"));l.add("events-mousewheel",d.doc&&"onmousewheel"in d.doc);d=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,c){return d.button&c},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,c){return d.button==c},isLeft:function(d){return 0==
d.button},isMiddle:function(d){return 1==d.button},isRight:function(d){return 2==d.button}};h.mouseButtons=d;h=l("events-mousewheel")?"mousewheel":function(d,c){return p(d,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;c.call(this,b)})};return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:h,isLeft:d.isLeft,isMiddle:d.isMiddle,isRight:d.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(h,p,l){h._name="browser";p.mixin(h,{isBrowser:!0,isFF:l("ff"),
isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});return l})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(h,p){return h.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:p("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,
END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,
UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:p("mac")&&!p("air")?p("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(h,p,l,k,d,g,f){var c=function(){},b=Object.freeze||function(){},a=h.Deferred=function(f){function e(a){if(s)throw Error("This deferred has already been resolved");h=a;s=!0;r()}function r(){for(var a;!a&&w;){var b=w;w=w.next;if(a=b.progress==c)s=!1;
var e=u?b.error:b.resolved;d("config-useDeferredInstrumentation")&&u&&p.instrumentRejected&&p.instrumentRejected(h,!!e);if(e)try{var n=e(h);n&&"function"===typeof n.then?n.then(g.hitch(b.deferred,"resolve"),g.hitch(b.deferred,"reject"),g.hitch(b.deferred,"progress")):(e=a&&void 0===n,a&&!e&&(u=n instanceof Error),b.deferred[e&&u?"reject":"resolve"](e?h:n))}catch(f){b.deferred.reject(f)}else u?b.deferred.reject(h):b.deferred.resolve(h)}}var h,s,n,v,u,y,w,x=this.promise=new l;this.isResolved=x.isResolved=
function(){return 0==v};this.isRejected=x.isRejected=function(){return 1==v};this.isFulfilled=x.isFulfilled=function(){return 0<=v};this.isCanceled=x.isCanceled=function(){return n};this.resolve=this.callback=function(a){this.fired=v=0;this.results=[a,null];e(a)};this.reject=this.errback=function(a){u=!0;this.fired=v=1;d("config-useDeferredInstrumentation")&&p.instrumentRejected&&p.instrumentRejected(a,!!w);e(a);this.results=[null,a]};this.progress=function(a){for(var b=w;b;){var e=b.progress;e&&
e(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,c);return this};x.then=this.then=function(b,e,d){var n=d==c?this:new a(x.cancel);b={resolved:b,error:e,progress:d,deferred:n};w?y=y.next=b:w=y=b;s&&r();return n.promise};var z=this;x.cancel=this.cancel=function(){if(!s){var a=f&&f(z);s||(a instanceof Error||(a=new k(a)),a.log=!1,z.reject(a))}n=!0};b(x)};g.extend(a,{addCallback:function(a){return this.addCallbacks(g.hitch.apply(h,arguments))},addErrback:function(a){return this.addCallbacks(null,
g.hitch.apply(h,arguments))},addBoth:function(a){var b=g.hitch.apply(h,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=h.when=f;return a})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(h,p,l,k,d){var g=Object.freeze||function(){},f=function(a,b,d,f,n){2===b&&(q.instrumentRejected&&0===a.length)&&q.instrumentRejected(d,!1,f,n);for(n=0;n<a.length;n++)c(a[n],b,d,f)},c=function(e,c,d,f){var n=e[c],
g=e.deferred;if(n)try{var k=n(d);if(0===c)"undefined"!==typeof k&&a(g,c,k);else{if(k&&"function"===typeof k.then){e.cancel=k.cancel;k.then(b(g,1),b(g,2),b(g,0));return}a(g,1,k)}}catch(h){a(g,2,h)}else a(g,c,d);2===c&&q.instrumentRejected&&q.instrumentRejected(d,!!n,f,g.promise)},b=function(b,c){return function(d){a(b,c,d)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},q=function(a){var b=this.promise=new k,d=this,h,n,v,u=
!1,y=[];Error.captureStackTrace&&(Error.captureStackTrace(d,q),Error.captureStackTrace(b,q));this.isResolved=b.isResolved=function(){return 1===h};this.isRejected=b.isRejected=function(){return 2===h};this.isFulfilled=b.isFulfilled=function(){return!!h};this.isCanceled=b.isCanceled=function(){return u};this.progress=function(a,e){if(h){if(!0===e)throw Error("This deferred has already been fulfilled.");return b}f(y,0,a,null,d);return b};this.resolve=function(a,e){if(h){if(!0===e)throw Error("This deferred has already been fulfilled.");
return b}f(y,h=1,n=a,null,d);y=null;return b};var w=this.reject=function(a,e){if(h){if(!0===e)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(v={},w);f(y,h=2,n=a,v,d);y=null;return b};this.then=b.then=function(a,e,d){var f=[d,a,e];f.cancel=b.cancel;f.deferred=new q(function(a){return f.cancel&&f.cancel(a)});h&&!y?c(f,h,n,v):y.push(f);return f.deferred.promise};this.cancel=b.cancel=function(b,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");
}else{if(a){var d=a(b);b="undefined"===typeof d?b:d}u=!0;if(h){if(2===h&&n===b)return b}else return"undefined"===typeof b&&(b=new l),w(b),b}};g(b)};q.prototype.toString=function(){return"[object Deferred]"};d&&d(q);return q})},"dojo/errors/CancelError":function(){define(["./create"],function(h){return h("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(h){return function(p,l,k,d){k=k||Error;var g=function(d){if(k===Error){Error.captureStackTrace&&
Error.captureStackTrace(this,g);var c=Error.call(this,d),b;for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.message=d;this.stack=c.stack}else k.apply(this,arguments);l&&l.apply(this,arguments)};g.prototype=h.delegate(k.prototype,d);g.prototype.name=p;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(h){function p(){throw new TypeError("abstract");}return h.extend(function(){},{then:function(h,k,d){p()},cancel:function(h,k){p()},isResolved:function(){p()},
isRejected:function(){p()},isFulfilled:function(){p()},isCanceled:function(){p()},always:function(h){return this.then(h,h)},otherwise:function(h){return this.then(null,h)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(h,p,l,k){function d(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+
b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(a,d)}function g(a,b,c,f){b||d(a,c,f)}function f(e,d,f,g){d?k.some(b,function(a,c){if(a.error===e)return b.splice(c,1),!0}):k.some(b,function(a){return a.error===e})||b.push({error:e,rejection:f,deferred:g,timestamp:(new Date).getTime()});a||(a=setTimeout(c,q))}function c(){var e=(new Date).getTime(),f=e-q;b=k.filter(b,function(a){return a.timestamp<
f?(d(a.error,a.rejection,a.deferred),!1):!0});a=b.length?setTimeout(c,b[0].timestamp+q-e):!1}var b=[],a=!1,q=1E3;return function(a){var b=p("config-useDeferredInstrumentation");if(b){h.on("resolved",l.hitch(console,"log","resolved"));h.on("rejected",l.hitch(console,"log","rejected"));h.on("progress",l.hitch(console,"log","progress"));var c=[];"string"===typeof b&&(c=b.split(","),b=c.shift());if("report-rejections"===b)a.instrumentRejected=g;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=
f,q=parseInt(c[0],10)||q;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(h,p,l){function k(f){setTimeout(function(){g.apply(d,f)},0)}var d=new l,g=d.emit;d.emit=null;p.prototype.trace=function(){var d=h._toArray(arguments);this.then(function(c){k(["resolved",c].concat(d))},function(c){k(["rejected",c].concat(d))},function(c){k(["progress",c].concat(d))});return this};p.prototype.traceRejected=
function(){var d=h._toArray(arguments);this.otherwise(function(c){k(["rejected",c].concat(d))});return this};return d})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(h,p){return function(l,k,d,g){var f=l&&"function"===typeof l.then,c=f&&l instanceof p;if(f)c||(f=new h(l.cancel),l.then(f.resolve,f.reject,f.progress),l=f.promise);else return 1<arguments.length?k?k(l):l:(new h).resolve(l);return k||d||g?l.then(k,d,g):l}})},"dojo/_base/json":function(){define(["./kernel",
"../json"],function(h,p){h.fromJson=function(h){return eval("("+h+")")};h._escapeString=p.stringify;h.toJsonIndentStr="\t";h.toJson=function(l,k){return p.stringify(l,function(d,g){if(g){var f=g.__json__||g.json;if("function"==typeof f)return f.call(g)}return g},k&&h.toJsonIndentStr)};return h})},"dojo/json":function(){define(["./has"],function(h){var p="undefined"!=typeof JSON;h.add("json-parse",p);h.add("json-stringify",p&&'{"a":1}'==JSON.stringify({a:0},function(k,d){return d||1}));if(h("json-stringify"))return JSON;
var l=function(k){return('"'+k.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:h("json-parse")?JSON.parse:function(k,d){if(d&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(k))throw new SyntaxError("Invalid characters in JSON");return eval("("+k+")")},stringify:function(k,d,g){function f(b,a,q){d&&(b=d(q,b));var e;e=typeof b;if("number"==
e)return isFinite(b)?b+"":"null";if("boolean"==e)return b+"";if(null===b)return"null";if("string"==typeof b)return l(b);if("function"==e||"undefined"==e)return c;if("function"==typeof b.toJSON)return f(b.toJSON(q),a,q);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,e,c){a=b["getUTC"+e]()+(c?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return f(b.valueOf(),a,q);var k=g?a+g:"",h=g?" ":"",s=g?"\n":"";if(b instanceof Array){var h=
b.length,n=[];for(q=0;q<h;q++)e=f(b[q],k,q),"string"!=typeof e&&(e="null"),n.push(s+k+e);return"["+n.join(",")+s+a+"]"}n=[];for(q in b){var v;if(b.hasOwnProperty(q)){if("number"==typeof q)v='"'+q+'"';else if("string"==typeof q)v=l(q);else continue;e=f(b[q],k,q);"string"==typeof e&&n.push(s+k+v+":"+h+e)}}return"{"+n.join(",")+s+a+"}"}var c;"string"==typeof d&&(g=d,d=null);return f(k,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(h,p,l,k){var d=
h.Color=function(d){d&&this.setColor(d)};d.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};p.extend(d,{r:255,g:255,b:255,a:1,_set:function(d,f,c,b){this.r=d;this.g=f;this.b=c;this.a=b},setColor:function(g){p.isString(g)?d.fromString(g,
this):p.isArray(g)?d.fromArray(g,this):(this._set(g.r,g.g,g.b,g.a),g instanceof d||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(d){d=this[d].toString(16);return 2>d.length?"0"+d:d},this).join("")},toCss:function(d){var f=this.r+", "+this.g+", "+this.b;return(d?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});
d.blendColors=h.blendColors=function(g,f,c,b){var a=b||new d;l.forEach(["r","g","b","a"],function(b){a[b]=g[b]+(f[b]-g[b])*c;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};d.fromRgb=h.colorFromRgb=function(g,f){var c=g.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&d.fromArray(c[1].split(/\s*,\s*/),f)};d.fromHex=h.colorFromHex=function(g,f){var c=f||new d,b=4==g.length?4:8,a=(1<<b)-1;g=Number("0x"+g.substr(1));if(isNaN(g))return null;l.forEach(["b","g","r"],function(d){var e=g&a;
g>>=b;c[d]=4==b?17*e:e});c.a=1;return c};d.fromArray=h.colorFromArray=function(g,f){var c=f||new d;c._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));isNaN(c.a)&&(c.a=1);return c.sanitize()};d.fromString=h.colorFromString=function(g,f){var c=d.named[g];return c&&d.fromArray(c,f)||d.fromRgb(g,f)||d.fromHex(g,f)};return d})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(h){return h})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(h,p,l){var k=window,d={addOnWindowUnload:function(d,f){h.windowUnloaded||l(k,"unload",h.windowUnloaded=function(){});l(k,"unload",p.hitch(d,f))},addOnUnload:function(d,f){l(k,"beforeunload",p.hitch(d,f))}};h.addOnWindowUnload=d.addOnWindowUnload;h.addOnUnload=d.addOnUnload;return d})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),
function(h,p,l,k,d,g,f,c){h.byId=p.byId;h.isDescendant=p.isDescendant;h.setSelectable=p.setSelectable;h.getAttr=k.get;h.setAttr=k.set;h.hasAttr=k.has;h.removeAttr=k.remove;h.getNodeProp=k.getNodeProp;h.attr=function(b,a,c){return 2==arguments.length?k["string"==typeof a?"get":"set"](b,a):k.set(b,a,c)};h.hasClass=g.contains;h.addClass=g.add;h.removeClass=g.remove;h.toggleClass=g.toggle;h.replaceClass=g.replace;h._toDom=h.toDom=f.toDom;h.place=f.place;h.create=f.create;h.empty=function(b){f.empty(b)};
h._destroyElement=h.destroy=function(b){f.destroy(b)};h._getPadExtents=h.getPadExtents=c.getPadExtents;h._getBorderExtents=h.getBorderExtents=c.getBorderExtents;h._getPadBorderExtents=h.getPadBorderExtents=c.getPadBorderExtents;h._getMarginExtents=h.getMarginExtents=c.getMarginExtents;h._getMarginSize=h.getMarginSize=c.getMarginSize;h._getMarginBox=h.getMarginBox=c.getMarginBox;h.setMarginBox=c.setMarginBox;h._getContentBox=h.getContentBox=c.getContentBox;h.setContentSize=c.setContentSize;h._isBodyLtr=
h.isBodyLtr=c.isBodyLtr;h._docScroll=h.docScroll=c.docScroll;h._getIeDocumentElementOffset=h.getIeDocumentElementOffset=c.getIeDocumentElementOffset;h._fixIeBiDiScrollLeft=h.fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft;h.position=c.position;h.marginBox=function(b,a){return a?c.setMarginBox(b,a):c.getMarginBox(b)};h.contentBox=function(b,a){return a?c.setContentSize(b,a):c.getContentBox(b)};h.coords=function(b,a){h.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=p.byId(b);var d=
l.getComputedStyle(b),d=c.getMarginBox(b,d),e=c.position(b,a);d.x=e.x;d.y=e.y;return d};h.getProp=d.get;h.setProp=d.set;h.prop=function(b,a,c){return 2==arguments.length?d["string"==typeof a?"get":"set"](b,a):d.set(b,a,c)};h.getStyle=l.get;h.setStyle=l.set;h.getComputedStyle=l.getComputedStyle;h.__toPixelValue=h.toPixelValue=l.toPixelValue;h.style=function(b,a,c){switch(arguments.length){case 1:return l.get(b);case 2:return l["string"==typeof a?"get":"set"](b,a)}return l.set(b,a,c)};return h})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(h,p,l,k,d,g){function f(a,b){var e=a.getAttributeNode&&a.getAttributeNode(b);return e&&e.specified}var c={innerHTML:1,className:1,htmlFor:p("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};h.has=function(a,d){var e=d.toLowerCase();return c[g.names[e]||d]||f(k.byId(a),b[e]||d)};h.get=function(a,d){a=k.byId(a);var e=d.toLowerCase(),h=g.names[e]||d,t=a[h];if(c[h]&&"undefined"!=typeof t||"href"!=h&&("boolean"==typeof t||l.isFunction(t)))return t;e=b[e]||
d;return f(a,e)?a.getAttribute(e):null};h.set=function(a,f,e){a=k.byId(a);if(2==arguments.length){for(var r in f)h.set(a,r,f[r]);return a}r=f.toLowerCase();var t=g.names[r]||f,s=c[t];if("style"==t&&"string"!=typeof e)return d.set(a,e),a;if(s||"boolean"==typeof e||l.isFunction(e))return g.set(a,f,e);a.setAttribute(b[r]||f,e);return a};h.remove=function(a,c){k.byId(a).removeAttribute(b[c.toLowerCase()]||c)};h.getNodeProp=function(a,c){a=k.byId(a);var e=c.toLowerCase(),d=g.names[e]||c;if(d in a&&"href"!=
d)return a[d];e=b[e]||c;return f(a,e)?a.getAttribute(e):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(h,p,l,k,d,g,f,c){var b={},a=0,q=p._scopeName+"attrid";h.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};h.get=function(a,b){a=d.byId(a);var c=b.toLowerCase();return a[h.names[c]||
b]};h.set=function(e,r,t){e=d.byId(e);if(2==arguments.length&&"string"!=typeof r){for(var s in r)h.set(e,s,r[s]);return e}s=r.toLowerCase();s=h.names[s]||r;if("style"==s&&"string"!=typeof t)return g.set(e,t),e;if("innerHTML"==s)return l("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(f.empty(e),e.appendChild(f.toDom(t,e.ownerDocument))):e[s]=t,e;if(k.isFunction(t)){var n=e[q];n||(n=a++,e[q]=n);b[n]||(b[n]={});var v=b[n][s];if(v)c.disconnect(v);else try{delete e[s]}catch(u){}t?
b[n][s]=c.connect(e,s,t):e[s]=null;return e}e[s]=t;return e}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(h,p,l,k,d,g){function f(a,b){var e=b.parentNode;e&&e.insertBefore(a,b)}function c(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(e){}for(var c;c=a.lastChild;)b(c,a)}function b(a,b){a.firstChild&&c(a);b&&(l("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var a={option:["select"],
tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},q=/<\s*([\w\:]+)/,e={},r=0,t="__"+p._scopeName+"ToDomId",s;for(s in a)a.hasOwnProperty(s)&&(p=a[s],p.pre="option"==s?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+p.join("\x3e\x3c")+"\x3e",p.post="\x3c/"+p.reverse().join("\x3e\x3c/")+"\x3e");var n;8>=l("ie")&&(n=function(a){a.__dojo_html5_tested=
"yes";var b=v("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});u(b)});h.toDom=function(b,c){c=c||k.doc;var d=c[t];d||(c[t]=d=++r+"",e[d]=c.createElement("div"));8>=l("ie")&&!c.__dojo_html5_tested&&c.body&&n(c);b+="";var f=b.match(q),g=f?f[1].toLowerCase():
"",d=e[d];if(f&&a[g]){f=a[g];d.innerHTML=f.pre+b+f.post;for(f=f.length;f;--f)d=d.firstChild}else d.innerHTML=b;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(g=c.createDocumentFragment();f=d.firstChild;)g.appendChild(f);return g};h.place=function(a,b,e){b=d.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?h.toDom(a,b.ownerDocument):d.byId(a));if("number"==typeof e){var c=b.childNodes;!c.length||c.length<=e?b.appendChild(a):f(a,c[0>e?0:e])}else switch(e){case "before":f(a,b);break;
case "after":e=a;(c=b.parentNode)&&(c.lastChild==b?c.appendChild(e):c.insertBefore(e,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":h.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){f(a,b.firstChild);break}default:b.appendChild(a)}return a};var v=h.create=function(a,b,e,c){var n=k.doc;e&&(e=d.byId(e),n=e.ownerDocument);"string"==typeof a&&(a=n.createElement(a));b&&g.set(a,b);e&&h.place(a,e,c);return a};h.empty=function(a){c(d.byId(a))};var u=h.destroy=
function(a){(a=d.byId(a))&&b(a,a.parentNode)}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(h,p,l){function k(b){if("string"==typeof b||b instanceof String){if(b&&!g.test(b))return f[0]=b,f;b=b.split(g);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:p.filter(b,function(a){return a})}var d,g=/\s+/,f=[""],c={};return d={contains:function(b,a){return 0<=(" "+l.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=l.byId(b);
a=k(a);var c=b.className,e,c=c?" "+c+" ":" ";e=c.length;for(var d=0,f=a.length,g;d<f;++d)(g=a[d])&&0>c.indexOf(" "+g+" ")&&(c+=g+" ");e<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){b=l.byId(b);var c;if(void 0!==a){a=k(a);c=" "+b.className+" ";for(var e=0,d=a.length;e<d;++e)c=c.replace(" "+a[e]+" "," ");c=h.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,f){b=l.byId(b);c.className=b.className;d.remove(c,f);d.add(c,a);b.className!==c.className&&(b.className=
c.className)},toggle:function(b,a,c){b=l.byId(b);if(void 0===c){a=k(a);for(var e=0,f=a.length,g;e<f;++e)g=a[e],d[d.contains(b,g)?"remove":"add"](b,g)}else d[c?"add":"remove"](b,a);return c}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(h,p,l){p=p.NodeList;var k=p.prototype;k.connect=p._adaptAsForEach(function(){return h.connect.apply(this,arguments)});k.coords=p._adaptAsMap(h.coords);p.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(p.events,function(d){var g="on"+d;k[g]=function(d,c){return this.connect(g,d,c)}});return h.NodeList=p})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(h,p,l,k,d,g,f,c){function b(a,b){var e=function(e,c){if("string"==typeof c&&(c=l.byId(c),!c))return new b([]);var d="string"==typeof e?a(e,c):e?e.end&&e.on?e:[e]:[];return d.end&&d.on?d:new b(d)};e.matches=a.match||function(a,b,
c){return 0<e.filter([a],b,c).length};e.filter=a.filter||function(a,b,c){return e(b,c).filter(function(b){return-1<d.indexOf(a,b)})};if("function"!=typeof a){var c=a.search;a=function(a,b){return c(b||document,a)}}return e}p.add("array-extensible",function(){return 1==g.delegate([],{length:1}).length&&!p("bug-for-in-skips-shadowed")});var a=Array.prototype,q=a.slice,e=a.concat,r=d.forEach,t=function(a,b,e){b=[0].concat(q.call(b,0));e=e||h.global;return function(c){b[0]=c;return a.apply(e,b)}},s=function(a){var b=
this instanceof n&&p("array-extensible");"number"==typeof a&&(a=Array(a));var e=a&&"length"in a?a:arguments;if(b||!e.sort){for(var c=b?this:[],d=c.length=e.length,f=0;f<d;f++)c[f]=e[f];if(b)return c;e=c}g._mixin(e,v);e._NodeListCtor=function(a){return n(a)};return e},n=s,v=n.prototype=p("array-extensible")?[]:{};n._wrap=v._wrap=function(a,b,e){a=new (e||this._NodeListCtor||n)(a);return b?a._stash(b):a};n._adaptAsMap=function(a,b){return function(){return this.map(t(a,arguments,b))}};n._adaptAsForEach=
function(a,b){return function(){this.forEach(t(a,arguments,b));return this}};n._adaptAsFilter=function(a,b){return function(){return this.filter(t(a,arguments,b))}};n._adaptWithCondition=function(a,b,e){return function(){var c=arguments,d=t(a,c,e);if(b.call(e||h.global,c))return this.map(d);this.forEach(d);return this}};r(["slice","splice"],function(b){var e=a[b];v[b]=function(){return this._wrap(e.apply(this,arguments),"slice"==b?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var b=
d[a];v[a]=function(){return b.apply(h,[this].concat(q.call(arguments,0)))}});g.extend(s,{constructor:n,_NodeListCtor:n,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var e=this.map(function(e){return k(e,a,b)});e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()};return e},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=q.call(this,0),c=d.map(arguments,function(a){return q.call(a,
0)});return this._wrap(e.apply(b,c),this)},map:function(a,b){return this._wrap(d.map(this,a,b),this)},forEach:function(a,b){r(this,a,b);return this},filter:function(a){var b=arguments,e=this,c=0;if("string"==typeof a){e=u._filterResult(this,b[0]);if(1==b.length)return e._stash(this);c=1}return this._wrap(d.filter(e,b[c],b[c+1]),this)},instantiate:function(a,b){var e=g.isFunction(a)?a:g.getObject(a);b=b||{};return this.forEach(function(a){new e(b,a)})},at:function(){var a=new this._NodeListCtor(0);
r(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=b(c,s);h.query=b(c,function(a){return s(a)});u.load=function(a,e,c){f.load(a,e,function(a){c(b(a,s))})};h._filterQueryResult=u._filterResult=function(a,b,e){return new s(u.filter(a,b,e))};h.NodeList=u.NodeList=s;return u})},"dojo/selector/_loader":function(){define(["../has","require"],function(h,p){var l=document.createElement("div");h.add("dom-qsa2.1",!!l.querySelectorAll);h.add("dom-qsa3",
function(){try{return l.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==l.querySelectorAll(".TEST:empty").length}catch(d){}});var k;return{load:function(d,g,f,c){c=p;d="default"==d?h("config-selectorEngine")||"css3":d;d="css2"==d||"lite"==d?"./lite":"css2.1"==d?h("dom-qsa2.1")?"./lite":"./acme":"css3"==d?h("dom-qsa3")?"./lite":"./acme":"acme"==d?"./acme":(c=g)&&d;if("?"==d.charAt(d.length-1)){d=d.substring(0,d.length-1);var b=!0}if(b&&(h("dom-compliant-qsa")||k))return f(k);c([d],function(a){"./lite"!=
d&&(k=a);f(a)})}}})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(h,p,l,k,d,g,f,c,b){function a(a){return function(b,e,c){return 2==arguments.length?a["string"==typeof e?"get":"set"](b,e):a.set(b,e,c)}}var q=function(a){return 1==a.length&&"string"==typeof a[0]},e=function(a){var b=a.parentNode;b&&b.removeChild(a)},r=p.NodeList,t=r._adaptWithCondition,s=r._adaptAsForEach,
n=r._adaptAsMap;k.extend(r,{_normalize:function(a,b){var e=!0===a.parse;if("string"==typeof a.template){var c=a.templateFunc||h.string&&h.string.substitute;a=c?c(a.template,a):a}c=typeof a;"string"==c||"number"==c?(a=g.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?k._toArray(a.childNodes):[a]):k.isArrayLike(a)?k.isArray(a)||(a=k._toArray(a)):a=[a];e&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,e,c){if(!(1!=b.nodeType&&"only"==e))for(var d,n=a.length,
f=n-1;0<=f;f--){var q=c?this._cloneNode(a[f]):a[f];if(a._runParse&&h.parser&&h.parser.parse){d||(d=b.ownerDocument.createElement("div"));d.appendChild(q);h.parser.parse(d);for(q=d.firstChild;d.firstChild;)d.removeChild(d.firstChild)}f==n-1?g.place(q,b,e):b.parentNode.insertBefore(q,b);b=q}},position:n(f.position),attr:t(a(c),q),style:t(a(b),q),addClass:s(d.add),removeClass:s(d.remove),toggleClass:s(d.toggle),replaceClass:s(d.replace),empty:s(g.empty),removeAttr:s(c.remove),marginBox:n(f.getMarginBox),
place:function(a,b){var e=p(a)[0];return this.forEach(function(a){g.place(a,e,b)})},orphan:function(a){return(a?p._filterResult(this,a):this).forEach(e)},adopt:function(a,b){return p(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new r;this.map(function(e){p(a,e).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,e=this,c=0;if("string"==typeof a){e=p._filterResult(this,b[0]);if(1==b.length)return e._stash(this);c=1}return this._wrap(l.filter(e,
b[c],b[c+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var e=0,c;c=this[e];e++)a.length?this._place(a,c,b,0<e):g.empty(c);return this}});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){h._xhrObj=s._create;var v=h.config;h.objectToQuery=k.objectToQuery;h.queryToObject=
k.queryToObject;h.fieldToObject=g.fieldToObject;h.formToObject=g.toObject;h.formToQuery=g.toQuery;h.formToJson=g.toJson;h._blockAsync=!1;var u=h._contentHandlers=h.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){a=a.responseText;var e=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==e||-1==c)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(e+2,c))},javascript:function(a){return h.eval(a.responseText)},
xml:function(a){var b=a.responseXML;b&&(p("dom-qsa2.1")&&!b.querySelectorAll&&p("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(p("ie")&&(!b||!b.documentElement)){var e=function(a){return"MSXML"+a+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),e(3),e(2)];q.some(e,function(e){try{var c=new ActiveXObject(e);c.async=!1;c.loadXML(a.responseText);b=c}catch(d){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?
u["json-comment-filtered"](a):u.json(a)}};h._ioSetArgs=function(b,e,c,n){var q={args:b,url:b.url},r=null;if(b.form){var r=d.byId(b.form),s=r.getAttributeNode("action");q.url=q.url||(s?s.value:null);r=g.toObject(r)}s=[{}];r&&s.push(r);b.content&&s.push(b.content);b.preventCache&&s.push({"dojo.preventCache":(new Date).valueOf()});q.query=k.objectToQuery(a.mixin.apply(null,s));q.handleAs=b.handleAs||"text";var u=new f(function(a){a.canceled=!0;e&&e(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),
b.dojoType="cancel",a.ioArgs.error=b);return b});u.addCallback(c);var l=b.load;l&&a.isFunction(l)&&u.addCallback(function(a){return l.call(b,a,q)});var w=b.error;w&&a.isFunction(w)&&u.addErrback(function(a){return w.call(b,a,q)});var t=b.handle;t&&a.isFunction(t)&&u.addBoth(function(a){return t.call(b,a,q)});u.addErrback(function(a){return n(a,u)});v.ioPublish&&(h.publish&&!1!==q.args.ioPublish)&&(u.addCallbacks(function(a){h.publish("/dojo/io/load",[u,a]);return a},function(a){h.publish("/dojo/io/error",
[u,a]);return a}),u.addBoth(function(a){h.publish("/dojo/io/done",[u,a]);return a}));u.ioArgs=q;return u};var y=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},x=function(a){0>=z&&(z=0,v.ioPublish&&(h.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&h.publish("/dojo/io/stop"))},z=0;r.after(t,"_onAction",function(){z-=1});r.after(t,"_onInFlight",x);h._ioCancelAll=t.cancelAll;h._ioNotifyStart=function(a){v.ioPublish&&
(h.publish&&!1!==a.ioArgs.args.ioPublish)&&(z||h.publish("/dojo/io/start"),z+=1,h.publish("/dojo/io/send",[a]))};h._ioWatch=function(b,e,c,d){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return e(b)},isReady:function(a){return c(b)},handleResponse:function(a){return d(b)}});t(b);x(b)};h._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};h.xhr=function(a,b,e){var c,d=h._ioSetArgs(b,function(a){c&&c.cancel()},
y,w),n=d.ioArgs;"postData"in b?n.query=b.postData:"putData"in b?n.query=b.putData:"rawBody"in b?n.query=b.rawBody:(2<arguments.length&&!e||-1==="POST|PUT".indexOf(a.toUpperCase()))&&h._ioAddQueryToUrl(n);var f={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:n};"undefined"!==typeof b.headers&&(f.headers=b.headers);"undefined"!==typeof b.contentType&&(f.headers||(f.headers={}),f.headers["Content-Type"]=b.contentType);"undefined"!==typeof n.query&&(f.data=n.query);
"undefined"!==typeof b.sync&&(f.sync=b.sync);h._ioNotifyStart(d);try{c=s(n.url,f,!0)}catch(g){return d.cancel(),d}d.ioArgs.xhr=c.response.xhr;c.then(function(){d.resolve(d)}).otherwise(function(a){n.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);d.reject(a)});return d};h.xhrGet=function(a){return h.xhr("GET",a)};h.rawXhrPost=h.xhrPost=function(a){return h.xhr("POST",a,!0)};h.rawXhrPut=h.xhrPut=function(a){return h.xhr("PUT",a,!0)};h.xhrDelete=
function(a){return h.xhr("DELETE",a)};h._isDocumentOk=function(a){return n.checkStatus(a.status)};h._getText=function(a){var b;h.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(h.xhr,{_xhrObj:h._xhrObj,fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:k.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:k.queryToObject,contentHandlers:u,_ioSetArgs:h._ioSetArgs,_ioCancelAll:h._ioCancelAll,_ioNotifyStart:h._ioNotifyStart,_ioWatch:h._ioWatch,_ioAddQueryToUrl:h._ioAddQueryToUrl,
_isDocumentOk:h._isDocumentOk,_getText:h._getText,get:h.xhrGet,post:h.xhrPost,put:h.xhrPut,del:h.xhrDelete});return h.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(h){var p={};return{objectToQuery:function(l){var k=encodeURIComponent,d=[],g;for(g in l){var f=l[g];if(f!=p[g]){var c=k(g)+"\x3d";if(h.isArray(f))for(var b=0,a=f.length;b<a;++b)d.push(c+k(f[b]));else d.push(c+k(f))}}return d.join("\x26")},queryToObject:function(l){var k=decodeURIComponent;l=l.split("\x26");for(var d=
{},g,f,c=0,b=l.length;c<b;++c)if(f=l[c],f.length){var a=f.indexOf("\x3d");0>a?(g=k(f),f=""):(g=k(f.slice(0,a)),f=k(f.slice(a+1)));"string"==typeof d[g]&&(d[g]=[d[g]]);h.isArray(d[g])?d[g].push(f):d[g]=f}return d}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(h,p,l,k){var d={fieldToObject:function(d){var f=null;if(d=p.byId(d)){var c=d.name,b=(d.type||"").toLowerCase();if(c&&b&&!d.disabled)if("radio"==b||"checkbox"==b)d.checked&&(f=d.value);else if(d.multiple){f=
[];for(d=[d.firstChild];d.length;)for(c=d.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&f.push(c.value);else{c.nextSibling&&d.push(c.nextSibling);c.firstChild&&d.push(c.firstChild);break}}else f=d.value}return f},toObject:function(g){var f={};g=p.byId(g).elements;for(var c=0,b=g.length;c<b;++c){var a=g[c],q=a.name,e=(a.type||"").toLowerCase();if(q&&e&&0>"file|submit|image|reset|button".indexOf(e)&&!a.disabled){var k=f,l=q,a=d.fieldToObject(a);if(null!==a){var s=
k[l];"string"==typeof s?k[l]=[s,a]:h.isArray(s)?s.push(a):k[l]=a}"image"==e&&(f[q+".x"]=f[q+".y"]=f[q].x=f[q].y=0)}}return f},toQuery:function(g){return l.objectToQuery(d.toObject(g))},toJson:function(g,f){return k.stringify(d.toObject(g),null,f?4:0)}};return d})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(h,p,l,k,d,g){function f(){for(var d=
+new Date,e=0,f;e<a.length&&(f=a[e]);e++){var g=f.response,k=g.options;if(f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(g))a.splice(e--,1),c._onAction&&c._onAction();else if(f.isReady&&f.isReady(g))a.splice(e--,1),f.handleResponse(g),c._onAction&&c._onAction();else if(f.startTime&&f.startTime+(k.timeout||0)<d)a.splice(e--,1),f.cancel(new p("Timeout exceeded",g)),c._onAction&&c._onAction()}c._onInFlight&&c._onInFlight(f);a.length||(clearInterval(b),b=null)}function c(c){c.response.options.timeout&&
(c.startTime=+new Date);c.isFulfilled()||(a.push(c),b||(b=setInterval(f,50)),c.response.options.sync&&f())}var b=null,a=[];c.cancelAll=function(){try{k.forEach(a,function(a){try{a.cancel(new l("All requests canceled."))}catch(b){}})}catch(b){}};d&&(g&&d.doc.attachEvent)&&g(d.global,"unload",function(){c.cancelAll()});return c})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(h,p,l,k,d,g,f,c){function b(a){return q(a)}function a(a){return a.data||a.text}h.deepCopy=function(a,b){for(var c in b){var d=a[c],n=b[c];d!==n&&(d&&"object"===typeof d&&n&&"object"===typeof n?h.deepCopy(d,n):a[c]=n)}return a};h.deepCreate=function(a,b){b=b||{};var c=f.delegate(a),d,n;for(d in a)(n=a[d])&&"object"===typeof n&&(c[d]=h.deepCreate(n,b[d]));return h.deepCopy(c,b)};var q=Object.freeze||function(a){return a};h.deferred=function(e,d,g,s,n,v){var u=new k(function(a){d&&d(u,e);return!a||
!(a instanceof p)&&!(a instanceof l)?new l("Request canceled",e):a});u.response=e;u.isValid=g;u.isReady=s;u.handleResponse=n;g=u.then(b).otherwise(function(a){a.response=e;throw a;});h.notify&&g.then(f.hitch(h.notify,"emit","load"),f.hitch(h.notify,"emit","error"));s=g.then(a);n=new c;for(var y in s)s.hasOwnProperty(y)&&(n[y]=s[y]);n.response=g;q(n);v&&u.then(function(a){v.call(u,a)},function(a){v.call(u,e,a)});u.promise=n;u.then=n.then;return u};h.addCommonMethods=function(a,b){g.forEach(b||["GET",
"POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=f.delegate(d||{});d.method=b;return a(c,d)}})};h.parseArgs=function(a,b,c){var f=b.data,n=b.query;f&&!c&&"object"===typeof f&&(b.data=d.objectToQuery(f));n?("object"===typeof n&&(n=d.objectToQuery(n)),b.preventCache&&(n+=(n?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(n="request.preventCache\x3d"+ +new Date);a&&n&&(a+=(~a.indexOf("?")?"\x26":"?")+n);return{url:a,options:b,getHeader:function(a){return null}}};
h.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(h){return h("RequestError",function(h,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(h,p){return h("RequestTimeoutError",null,p,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(h,p,l,k,d){function g(a,
b){var e=a.xhr;a.status=a.xhr.status;a.text=e.responseText;"xml"===a.options.handleAs&&(a.data=e.responseXML);if(!b)try{l(a)}catch(c){b=c}b?this.reject(b):k.checkStatus(e.status)?this.resolve(a):(b=new h("Unable to load "+a.url+" status: "+e.status,a),this.reject(b))}function f(a){return this.xhr.getResponseHeader(a)}function c(n,s,l){var w=k.parseArgs(n,k.deepCreate(t,s),d("native-formdata")&&s&&s.data&&s.data instanceof FormData);n=w.url;s=w.options;var x,z=k.deferred(w,e,b,a,g,function(){x&&x()}),
B=w.xhr=c._create();if(!B)return z.cancel(new h("XHR was not created")),l?z:z.promise;w.getHeader=f;q&&(x=q(B,z,w));var A=s.data,C=!s.sync,E=s.method;try{B.open(E,n,C,s.user||r,s.password||r);s.withCredentials&&(B.withCredentials=s.withCredentials);var G=s.headers;n="application/x-www-form-urlencoded";if(G)for(var F in G)"content-type"===F.toLowerCase()?n=G[F]:G[F]&&B.setRequestHeader(F,G[F]);n&&!1!==n&&B.setRequestHeader("Content-Type",n);(!G||!("X-Requested-With"in G))&&B.setRequestHeader("X-Requested-With",
"XMLHttpRequest");k.notify&&k.notify.emit("send",w,z.promise.cancel);B.send(A)}catch(I){z.reject(I)}p(z);B=null;return l?z:z.promise}d.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});d.add("dojo-force-activex-xhr",function(){return d("activex")&&!document.addEventListener&&"file:"===window.location.protocol});d.add("native-xhr2",function(){if(d("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==
typeof a.upload)}});d.add("native-formdata",function(){return"function"===typeof FormData});var b,a,q,e;d("native-xhr2")?(b=function(a){return!this.isFulfilled()},e=function(a,b){b.xhr.abort()},q=function(a,b,e){function c(a){b.handleResponse(e)}function d(a){a=new h("Unable to load "+e.url+" status: "+a.target.status,e);b.handleResponse(e,a)}function n(a){a.lengthComputable&&(e.loaded=a.loaded,e.total=a.total,b.progress(e))}a.addEventListener("load",c,!1);a.addEventListener("error",d,!1);a.addEventListener("progress",
n,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",d,!1);a.removeEventListener("progress",n,!1);a=null}}):(b=function(a){return a.xhr.readyState},a=function(a){return 4===a.xhr.readyState},e=function(a,b){var e=b.xhr,c=typeof e.abort;("function"===c||"object"===c||"unknown"===c)&&e.abort()});var r,t={data:null,query:null,sync:!1,method:"GET"};c._create=function(){throw Error("XMLHTTP not available");};if(d("native-xhr")&&!d("dojo-force-activex-xhr"))c._create=
function(){return new XMLHttpRequest};else if(d("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),c._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(s){try{new ActiveXObject("Microsoft.XMLHTTP"),c._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){}}k.addCommonMethods(c);return c})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(h,p,l,k){function d(b){var a=c[b.options.handleAs];
b.data=a?a(b):b.data||b.text;return b}k.add("activex","undefined"!==typeof ActiveXObject);k.add("dom-parser",function(b){return"DOMParser"in b});var g;if(k("activex")){var f=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];g=function(b){var a=b.data;a&&(k("dom-qsa2.1")&&!a.querySelectorAll&&k("dom-parser"))&&(a=(new DOMParser).parseFromString(b.text,"application/xml"));if(!a||!a.documentElement){var c=b.text;l.some(f,function(b){try{var d=new ActiveXObject(b);
d.async=!1;d.loadXML(c);a=d}catch(f){return!1}return!0})}return a}}var c={javascript:function(b){return p.eval(b.text||"")},json:function(b){return h.parse(b.text||null)},xml:g};d.register=function(b,a){c[b]=a};return d})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(h,p,l,k,d,g,f,c,b){var a=l.mixin,q={},e=q._Line=function(a,b){this.start=a;this.end=b};e.prototype.getValue=function(a){return(this.end-this.start)*
a+this.start};var r=q.Animation=function(b){a(this,b);l.isArray(this.curve)&&(this.curve=new e(this.curve[0],this.curve[1]))};r.prototype=new k;l.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var e=b||[];if(this[a])if(p.debugAtAllCosts)this[a].apply(this,e);else try{this[a].apply(this,e)}catch(c){console.error("exception in animation handler for:",a),console.error(c)}return this},play:function(a,
b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var e=a||this.delay,c=l.hitch(this,"_play",b);if(0<e)return this._delayTimer=setTimeout(c,e),this;c();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());
this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();
if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():
(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var t=0,s=null,n={run:function(){}};l.extend(r,{_startTimer:function(){this._timer||(this._timer=g.after(n,"run",l.hitch(this,"_cycle"),!0),
t++);s||(s=setInterval(l.hitch(n,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,t--);0>=t&&(clearInterval(s),s=null,t=0)}});var v=f("ie")?function(a){var e=a.style;!e.width.length&&"auto"==b.get(a,"width")&&(e.width="auto")}:function(){};q._fade=function(e){e.node=c.byId(e.node);var d=a({properties:{}},e);e=d.properties.opacity={};e.start=!("start"in d)?function(){return+b.get(d.node,"opacity")||0}:d.start;e.end=d.end;e=q.animateProperty(d);g.after(e,
"beforeBegin",l.partial(v,d.node),!0);return e};q.fadeIn=function(b){return q._fade(a({end:1},b))};q.fadeOut=function(b){return q._fade(a({end:0},b))};q._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var e=a[b];e.start instanceof d&&(e.tempColor=new d)}};u.prototype.getValue=function(a){var b={},e;for(e in this._properties){var c=this._properties[e],n=c.start;n instanceof d?b[e]=d.blendColors(n,c.end,a,c.tempColor).toCss():l.isArray(n)||
(b[e]=(c.end-n)*a+n+("opacity"!=e?c.units||"px":0))}return b};q.animateProperty=function(e){var n=e.node=c.byId(e.node);e.easing||(e.easing=h._defaultEasing);e=new r(e);g.after(e,"beforeBegin",l.hitch(e,function(){var e={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var f=this.properties[c];l.isFunction(f)&&(f=f(n));f=e[c]=a({},l.isObject(f)?f:{end:f});l.isFunction(f.start)&&(f.start=f.start(n));l.isFunction(f.end)&&(f.end=f.end(n));var g=0<=c.toLowerCase().indexOf("color"),
q=function(a,e){var c={height:a.offsetHeight,width:a.offsetWidth}[e];if(void 0!==c)return c;c=b.get(a,e);return"opacity"==e?+c:g?c:parseFloat(c)};"end"in f?"start"in f||(f.start=q(n,c)):f.end=q(n,c);g?(f.start=new d(f.start),f.end=new d(f.end)):f.start="opacity"==c?+f.start:parseFloat(f.start)}this.curve=new u(e)}),!0);g.after(e,"onAnimate",l.hitch(b,"set",e.node),!0);return e};q.anim=function(a,b,e,c,d,n){return q.animateProperty({node:a,duration:e||r.prototype.duration,properties:b,easing:c,onEnd:d}).play(n||
0)};a(h,q);h._Animation=r;return q})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(h,p,l,k,d,g,f){var c=function(a){return a.replace(/\./g,"/")},b=/\/\/>>built/,a=[],q=[],e=function(b,e,c){a.push(c);f.forEach(b.split(","),function(a){a=I(a,e.module);q.push(a);Q(a)});r()},r=function(){var b,e;for(e in G)if(b=G[e],void 0===b.noReqPluginCheck&&(b.noReqPluginCheck=/loadInit\!/.test(e)||/require\!/.test(e)?1:0),!b.executed&&!b.noReqPluginCheck&&
b.injected==x)return;N(function(){var b=a;a=[];f.forEach(b,function(a){a(1)})})},t=function(a,b,e){var c=/\(|\)/g,d=1;for(c.lastIndex=b;(b=c.exec(a))&&!(d=")"==b[0]?d-1:d+1,0==d););if(0!=d)throw"unmatched paren around character "+c.lastIndex+" in: "+a;return[h.trim(a.substring(e,c.lastIndex))+";\n",c.lastIndex]},s=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,n=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,v=/(^|\s)(require|define)\s*\(/m,u=function(a,
b){var e,c,d,f=[],g=[];e=[];for(b=b||a.replace(s,function(a){n.lastIndex=v.lastIndex=0;return n.test(a)||v.test(a)?"":a});e=n.exec(b);)c=n.lastIndex,d=c-e[0].length,c=t(b,c,d),"loadInit"==e[2]?f.push(c[0]):g.push(c[0]),n.lastIndex=c[1];e=f.concat(g);return e.length||!v.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),e.join(""),e]:0},y=l.initSyncLoader(e,r,function(a,e){var c,n,f=[],g=[];if(b.test(e)||!(c=u(e)))return 0;n=a.mid+"-*loadInit";for(var q in I("dojo",a).result.scopeMap)f.push(q),
g.push('"'+q+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+n+"',{\n\tnames:"+d.stringify(f)+",\n\tdef:function("+f.join(",")+"){"+c[1]+"}});\n\ndefine("+d.stringify(f.concat(["dojo/loadInit!"+n]))+", function("+f.join(",")+"){\n"+c[0]+"});"}),w=y.sync,x=y.requested,z=y.arrived,B=y.nonmodule,A=y.executing,C=y.executed,E=y.syncExecStack,G=y.modules,F=y.execQ,I=y.getModule,Q=y.injectModule,D=y.setArrived,J=y.signal,K=y.finishExec,H=y.execModule,L=y.getLegacyMode,N=y.guardCheckComplete,e=y.dojoRequirePlugin;
h.provide=function(a){var b=E[0],e=g.mixin(I(c(a),l.module),{executed:A,result:g.getObject(a,!0)});D(e);b&&(b.provides||(b.provides=[])).push(function(){e.result=g.getObject(a);delete e.provides;e.executed!==C&&K(e)});return e.result};p.add("config-publishRequireResult",1,0,0);h.require=function(a,b){var e=function(a,b){var e=I(c(a),l.module);if(E.length&&E[0].finish)E[0].finish.push(a);else{if(e.executed)return e.result;b&&(e.result=B);var d=L();Q(e);d=L();e.executed!==C&&e.injected===z&&y.guardCheckComplete(function(){H(e)});
if(e.executed)return e.result;d==w?e.cjs?F.unshift(e):E.length&&(E[0].finish=[a]):F.push(e)}}(a,b);p("config-publishRequireResult")&&(!g.exists(a)&&void 0!==e)&&g.setObject(a,e);return e};h.loadInit=function(a){a()};h.registerModulePath=function(a,b){var e={};e[a.replace(/\./g,"/")]=b;l({paths:e})};h.platformRequire=function(a){a=(a.common||[]).concat(a[h._name]||a["default"]||[]);for(var b;a.length;)g.isArray(b=a.shift())?h.require.apply(h,b):h.require(b)};h.requireIf=h.requireAfterIf=function(a,
b,e){a&&h.require(b,e)};h.requireLocalization=function(a,b,e){l(["../i18n"],function(c){c.getLocalization(a,b,e)})};return{extractLegacyApiApplications:u,require:e,loadInit:function(a,b,d){b([a],function(a){b(a.names,function(){for(var n="",f=[],g=0;g<arguments.length;g++)n+="var "+a.names[g]+"\x3d arguments["+g+"]; ",f.push(arguments[g]);eval(n);var q=b.module,s=[],r,n={provide:function(a){a=c(a);a=I(a,q);a!==q&&D(a)},require:function(a,b){a=c(a);b&&(I(a,q).result=B);s.push(a)},requireLocalization:function(a,
b,e){r||(r=["dojo/i18n"]);e=(e||h.locale).toLowerCase();a=c(a)+"/nls/"+(/root/i.test(e)?"":e+"/")+c(b);I(a,q).isXd&&r.push("dojo/i18n!"+a)},loadInit:function(a){a()}},g={},l;try{for(l in n)g[l]=h[l],h[l]=n[l];a.def.apply(null,f)}catch(u){J("error",[{src:k.id,id:"failedDojoLoadInit"},u])}finally{for(l in n)h[l]=g[l]}r&&(s=s.concat(r));s.length?e(s.join(","),b,d):d()})})}}})}}});
require({cache:{"kso/main":function(){define("dojo/ready dojo/on dojo/_base/lang dojo/topic dojo/_base/declare dojo/_base/event dojo/string dojo/_base/window dijit/form/Form dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/TextBox dojox/mobile/Button dojox/layout/TableContainer moch/app/mobile moch/app/util moch/store/SqlStore dojo/text!./kso.sql dojo/store/Observable dojox/mobile/Heading kso/TabBarLogin kso/views/Home kso/views/PlanList kso/views/PlanCreate kso/views/PlanEdit kso/views/PlanEval kso/views/Plan kso/views/DiaryList kso/views/DiaryEdit kso/views/ProblemList kso/views/ProblemCreate kso/views/ProblemEdit kso/views/ProblemEval kso/views/Problem kso/views/SolutionList kso/views/SolutionCreate kso/views/SolutionEdit kso/views/About dojox/mobile/compat ./deviceReady!".split(" "),function(h,
p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H,L,N,X,Y){function O(a){c.body().appendChild(a.domNode);a.startup()}function S(a,b){if("undefined"==typeof a&&window.localStorage){var e=window.localStorage;a=e.getItem("user_login");b=e.getItem("user_password")}a&&b&&s.rpc().user_login({login:a,password:b}).then(function(e){!0==e.valid?(k.publish("moch/loggedin",e.valid),window.localStorage&&(e=window.localStorage,e.setItem("user_login",a),e.setItem("user_password",b))):e.error&&alert(f.substitute(e.error,
{handle:a}))})}var M=d([a],{id:"login_view",postCreate:function(){sview=new q;var a=new b({onSubmit:function(b){g.stop(b);b=a.get("value");S(b.login,b.password)}}),c=new t({orientation:"vert"});c.addChild(new e({label:"Log ind p\u00e5 Din Handleplan",placeHolder:"Indtast e-mail",name:"login",style:{width:"99%"}}));c.addChild(new e({placeHolder:"Indtast kode",name:"password",type:"password",style:{width:"99%"}}));c.addChild(new r({label:"Log ind",type:"submit",spanLabel:!0,style:{width:"100%"}}));
c.startup();a.domNode.appendChild(c.domNode);sview.addChild(a);this.addChild(sview);this.addChild(new x)}}),Z=d([a],{id:"forgot_password_view",postCreate:function(){sview=new q;var a=new b({onSubmit:function(b){g.stop(b);var e=a.get("value");e.send_new_password=!0;s.rpc().user_login(e).then(function(a){!0!=a.valid&&a.error&&alert(f.substitute(a.error,{handle:e.login}))})}}),c=new t({orientation:"vert"});c.addChild(new e({label:"F\u00e5 tilsendt en ny kode:",placeHolder:"Indtast e-mail",name:"email",
style:{width:"99%"}}));c.addChild(new r({label:"Send ny kode",type:"submit",spanLabel:!0,style:{width:"99%"}}));c.startup();a.domNode.appendChild(c.domNode);sview.addChild(a);this.addChild(sview);this.addChild(new x)}}),P=d([a],{id:"create_user_view",postCreate:function(){sview=new q;var a=new b({onSubmit:function(b){g.stop(b);var e=a.get("value");e.authorization_key="kso_new_user";s.rpc().self_registration(e).then(function(a){!0!=a.valid&&a.error&&alert(f.substitute(a.error,{handle:e.login}))})}}),
c=new t({orientation:"vert",customClass:"login"});c.addChild(new e({label:"Opret en ny bruger:",placeHolder:"Indtast e-mail",name:"new_user_email",style:{width:"99%"}}));c.addChild(new e({placeHolder:"Indtast valgfri kode",name:"password",style:{width:"99%"}}));c.addChild(new r({label:"Opret bruger",type:"submit",spanLabel:!0,style:{width:"99%"}}));c.startup();a.domNode.appendChild(c.domNode);sview.addChild(a);this.addChild(sview);this.addChild(new x)}});s.init({auto_login:!0,_local_stores:{},_local_stores_cnt:0,
getStore:function(a,b){if(!(a in this._local_stores)){var e={db_name:"kso",trace:!0,entity_name:b};0==this._local_stores_cnt&&(e.onDatabaseCreate=function(a){var b=u.split(";");for(i in b){var e=b[i].trim();5<e.length&&a.executeSql(e,[],function(a,b){},function(a,b){console.error("error in SQL ",e)})}});switch(b){case "kso_problem":e.table_name="kso_problem";e.meta="id do_what do_prevent do_solution do_help do_evaluate do_evaluate_txt active public hidden".split(" ");break;case "kso_plan":e.table_name=
"kso_plan";e.meta="id do_what do_how_much do_when do_how_often do_in_days do_success do_evaluate do_evaluate_txt active public hidden use_at_start use_at_end".split(" ");break;case "kso_diary":e.table_name="kso_diary";e.meta=["id","plan_id","info","success","use_at"];break;case "kso_solution":e.table_name="kso_solution";e.meta=["id","problem_id","info","success"];break;default:alert("requesting unknown table_entity "+b)}this._local_stores_cnt++;this._local_stores[a]=y(new v(e))}return this._local_stores[a]},
createHome:function(){this._main_view||(this._main_view=new z,O(this._main_view))},onReady:function(){this.onLogin();window.setInterval(l.hitch(this,function(){this.onReminder()}),36E5)},onReminder:function(){this.getStore("kso_plan","kso_plan").query().then(function(a){for(var b=[],e=new Date,c=0;c<a.length;c++){if(!0==a[c].active&&!1==a[c].hidden)var d=n.iso_to_date(a[c].use_at_end);e>=d&&b.push(a[c].do_what)}0<b.length&&s.getInstance().notification(b.join("\r\n"),null,"Husk at afslutte og evaluere disse handleplaner")})},
onUserLogin:function(){S();this._login_view=new M;O(this._login_view);O(new Z);O(new P)},onLogin:function(){this.createHome();O(new B);O(new A);O(new C);O(new E);O(new G);O(new I);O(new F);O(new Q);O(new D);O(new J);O(new K);O(new H);O(new L);O(new N);O(new X);O(new Y);this.onReminder();window.setInterval(l.hitch(this,function(){this.onReminder()}),6E5);this._login_view&&this._login_view.performTransition("kso_home_view",-1,"coverv")}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],
function(h,p){var l={};p.setObject("dojo.string",l);l.rep=function(k,d){if(0>=d||!k)return"";for(var g=[];;){d&1&&g.push(k);if(!(d>>=1))break;k+=k}return g.join("")};l.pad=function(k,d,g,f){g||(g="0");k=String(k);d=l.rep(g,Math.ceil((d-k.length)/g.length));return f?k+d:d+k};l.substitute=function(k,d,g,f){f=f||h.global;g=g?p.hitch(f,g):function(c){return c};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,b,a){c=p.getObject(b,!1,d);a&&(c=p.getObject(a,!1,f).call(f,c,b));return g(c,
b).toString()})};l.trim=String.prototype.trim?p.trim:function(k){k=k.replace(/^\s+/,"");for(var d=k.length-1;0<=d;d--)if(/\S/.test(k.charAt(d))){k=k.substring(0,d+1);break}return k};return l})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(h,p,l,k,d,g,f,c){return h("dijit.form.Form",[d,g,f,c],{name:"",action:"",method:"",encType:"","accept-charset":"",
accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(b){p.set(this.domNode,"encType",b);k("ie")&&(this.domNode.encoding=b);this._set("encType",b)},reset:function(b){var a={returnValue:!0,
preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:b?b.target:this.domNode,target:b?b.target:this.domNode};!1!==this.onReset(a)&&a.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(b){this.reset(b);b.stopPropagation();b.preventDefault();return!1},_onSubmit:function(b){var a=this.constructor.prototype;if(this.execute!=a.execute||this.onExecute!=a.onExecute)l.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.",
"","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(b)&&(b.stopPropagation(),b.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(h,
p,l,k,d,g,f,c,b,a,q,e,r){function t(){}function s(a){return function(b,e,c,d){return b&&"string"==typeof e&&b[e]==t?b.on(e.substring(2).toLowerCase(),f.hitch(c,d)):a.apply(l,arguments)}}h.around(l,"connect",s);g.connect&&h.around(g,"connect",s);h=k("dijit._Widget",[q,e,r],{onClick:t,onDblClick:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseOut:t,onMouseOver:t,onMouseLeave:t,onMouseEnter:t,onMouseUp:t,constructor:function(a){this._toConnect={};for(var b in a)this[b]===t&&(this._toConnect[b.replace(/^on/,
"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===t?l.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){g.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,
b)},attr:function(a,b){if(p.isDebug){var e=arguments.callee._ach||(arguments.callee._ach={}),c=(arguments.callee.caller||"unknown caller").toString();e[c]||(g.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+c,"","2.0"),e[c]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){g.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?
c("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});d("dijit-legacy-requires")&&b(0,function(){require(["dijit/_base"])});return h})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(h,p,l,k){var d={},g={},f={length:0,add:function(c){if(g[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");
g[c.id]=c;this.length++},remove:function(c){g[c]&&(delete g[c],this.length--)},byId:function(c){return"string"==typeof c?g[c]:c},byNode:function(c){return g[c.getAttribute("widgetId")]},toArray:function(){var c=[],b;for(b in g)c.push(g[b]);return c},getUniqueId:function(c){var b;do b=c+"_"+(c in d?++d[c]:d[c]=0);while(g[b]);return"dijit"==k._scopeName?b:k._scopeName+"_"+b},findWidgets:function(c,b){function a(e){for(e=e.firstChild;e;e=e.nextSibling)if(1==e.nodeType){var c=e.getAttribute("widgetId");
c?(c=g[c])&&d.push(c):e!==b&&a(e)}}var d=[];a(c);return d},_destroyAll:function(){k._curFocus=null;k._prevFocus=null;k._activeStack=[];h.forEach(f.findWidgets(l.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var b=1==c.nodeType&&c.getAttribute("widgetId");if(b)return g[b];c=c.parentNode}return null},_hash:g};return k.registry=f})},"dijit/main":function(){define(["dojo/_base/kernel"],function(h){return h.dijit})},
"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B){function A(a){return function(b){c[b?"set":"remove"](this.domNode,
a,b);this._set(a,b)}}r.add("dijit-legacy-requires",!t.isAsync);r.add("dojo-bidi",!1);r("dijit-legacy-requires")&&v(0,function(){h(["dijit/_base/manager"])});var C={};k=g("dijit._WidgetBase",[u,x],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:k.blankGif||h.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,e=a._setterAttrs=[],a=a._onMap={},c;for(c in b.attributeMap)e.push(c);for(c in b)/^on/.test(c)&&(a[c.substring(2).toLowerCase()]=c),/^_set[A-Z](.*)Attr$/.test(c)&&(c=c.charAt(4).toLowerCase()+c.substr(5,c.length-9),(!b.attributeMap||!(c in b.attributeMap))&&e.push(c))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();
this.srcNodeRef=f.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,s.mixin(this,a));this.postMixInProperties();this.id||(this.id=B.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);B.add(this);this.buildRendering();
var e;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&(c.parentNode&&this.domNode!==c)&&(c.parentNode.replaceChild(this.domNode,c),e=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();e&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);p.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var e=this._get(b);e&&this.set(b,e)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(p.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,p.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&s.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=
!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(e){e.destroyRecursive?e.destroyRecursive(a):e.destroy&&e.destroy(a)}this._beingDestroyed=!0;this.uninitialize();p.forEach(this._connects,s.hitch(this,"disconnect"));p.forEach(this._supportingWidgets,b);this.domNode&&p.forEach(B.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);B.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);
this.domNode&&(b?c.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){p.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;s.isObject(a)?e.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,e,d){d=3<=
arguments.length?d:this.attributeMap[a];p.forEach(s.isArray(d)?d:[d],function(d){var n=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":s.isFunction(e)&&(e=s.hitch(this,e));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;n.tagName?c.set(n,d,e):n.set(d,e);break;case "innerText":n.innerHTML="";n.appendChild(this.ownerDocument.createTextNode(e));break;case "innerHTML":n.innerHTML=e;break;case "class":b.replace(n,e,this[a])}},this)},get:function(a){var b=
this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var e in a)this.set(e,a[e]);return this}e=this._getAttrNames(a);var c=this[e.s];if(s.isFunction(c))var d=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!s.isFunction(this.focusNode)?"focusNode":"domNode",n=this[c]&&this[c].tagName,f;if(f=n)if(!(f=C[n])){f=this[c];var g={},q;for(q in f)g[q.toLowerCase()]=!0;f=C[n]=g}q=f;e=a in this.attributeMap?this.attributeMap[a]:
e.s in this?this[e.s]:q&&e.l in q&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=e&&this._attrToDom(a,b,e);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var e=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+e+"Attr",g:"_get"+e+"Attr",l:e.toLowerCase()}},_set:function(a,b){var e=this[a];this[a]=b;this._created&&b!==e&&(this._watchCallbacks&&
this._watchCallbacks(a,e,b),this.emit("attrmodified-"+a,{detail:{prevValue:e,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,e){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var c,d=this["on"+a];d&&(c=d.apply(this,e?e:[b]));this._started&&!this._beingDestroyed&&n.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var e=this._onMap(a);return e?l.after(this,e,b,!0):this.own(n(this.domNode,
a,b))[0]},_onMap:function(a){var b=this.constructor,e=b._onMap;if(!e){var e=b._onMap={},c;for(c in b.prototype)/^on/.test(c)&&(e[c.replace(/^on/,"").toLowerCase()]=c)}return e["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?B.findWidgets(this.containerNode):[]},getParent:function(){return B.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,e){return this.own(d.connect(a,
b,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(y.subscribe(a,s.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:q.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=e.get(this.domNode,"display")},placeAt:function(b,e){var c=!b.tagName&&B.byId(b);c&&c.addChild&&(!e||"number"===typeof e)?c.addChild(this,e):(c=c?c.containerNode&&!/after|before|replace/.test(e||"")?
c.containerNode:c.domNode:f.byId(b,this.ownerDocument),a.place(this.domNode,c,e),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var e=setTimeout(s.hitch(this,function(){e&&(e=null,this._destroyed||s.hitch(this,a)())}),b||0);return{remove:function(){e&&(clearTimeout(e),e=null);return null}}}});r("dojo-bidi")&&k.extend(z);return k})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(h,p,l,k){return h("dojo.Stateful",
null,{_attrPairNames:{},_getAttrNames:function(d){var g=this._attrPairNames;return g[d]?g[d]:g[d]={s:"_"+d+"Setter",g:"_"+d+"Getter"}},postscript:function(d){d&&this.set(d)},_get:function(d,g){return"function"===typeof this[g.g]?this[g.g]():this[d]},get:function(d){return this._get(d,this._getAttrNames(d))},set:function(d,g){if("object"===typeof d){for(var f in d)d.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,d[f]);return this}f=this._getAttrNames(d);var c=this._get(d,f);f=this[f.s];var b;
"function"===typeof f?b=f.apply(this,Array.prototype.slice.call(arguments,1)):this[d]=g;if(this._watchCallbacks){var a=this;k(b,function(){a._watchCallbacks(d,c,g)})}return this},_changeAttrValue:function(d,g){var f=this.get(d);this[d]=g;this._watchCallbacks&&this._watchCallbacks(d,f,g);return this},watch:function(d,g){var f=this._watchCallbacks;if(!f)var c=this,f=this._watchCallbacks=function(a,b,d,g){var k=function(n){if(n){n=n.slice();for(var f=0,g=n.length;f<g;f++)n[f].call(c,a,b,d)}};k(f["_"+
a]);g||k(f["*"])};!g&&"function"===typeof d?(g=d,d="*"):d="_"+d;var b=f[d];"object"!==typeof b&&(b=f[d]=[]);b.push(g);var a={};a.unwatch=a.remove=function(){var a=l.indexOf(b,g);-1<a&&b.splice(a,1)};return a}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,p,l){return l("dijit.Destroyable",null,{destroy:function(k){this._destroyed=!0},own:function(){h.forEach(arguments,function(k){var d="destroyRecursive"in k?"destroyRecursive":"destroy"in
k?"destroy":"remove",g=p.before(this,"destroy",function(c){k[d](c)}),f=p.after(k,d,function(){g.remove();f.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(h,p,l,k,d,g){h=k("dijit._OnDijitClickMixin",null,{connect:function(d,c,b){return this.inherited(arguments,[d,"ondijitclick"==c?g:c,b])}});h.a11yclick=g;return h})},"dijit/a11yclick":function(){define(["dojo/keys",
"dojo/mouse","dojo/on","dojo/touch"],function(h,p,l,k){function d(c){if((c.keyCode===h.ENTER||c.keyCode===h.SPACE)&&!/input|button|textarea/i.test(c.target.nodeName))for(c=c.target;c;c=c.parentNode)if(c.dojoClick)return!0}var g;l(document,"keydown",function(c){d(c)?(g=c.target,c.preventDefault()):g=null});l(document,"keyup",function(c){d(c)&&c.target==g&&(g=null,l.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});
var f=function(c,b){c.dojoClick=!0;return l(c,"click",b)};f.click=f;f.press=function(c,b){var a=l(c,k.press,function(a){("mousedown"!=a.type||p.isLeft(a))&&b(a)}),d=l(c,"keydown",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&b(a)});return{remove:function(){a.remove();d.remove()}}};f.release=function(c,b){var a=l(c,k.release,function(a){("mouseup"!=a.type||p.isLeft(a))&&b(a)}),d=l(c,"keyup",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&b(a)});return{remove:function(){a.remove();
d.remove()}}};f.move=k.move;return f})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(h,p,l,k,d,g,f,c,b,a){function q(a,b,e){return n&&e?function(a,b){return g(a,e,b)}:t?function(e,c){var d=g(e,b,c),n=g(e,a,function(a){(!C||(new Date).getTime()>C+1E3)&&c.call(this,a)});return{remove:function(){d.remove();n.remove()}}}:function(b,e){return g(b,a,e)}}function e(a){do if(a.dojoClick)return a.dojoClick;
while(a=a.parentNode)}function r(b,c,d){if(u=!b.target.disabled&&e(b.target))y=b.target,w=b.touches?b.touches[0].pageX:b.clientX,x=b.touches?b.touches[0].pageY:b.clientY,z=("object"==typeof u?u.x:"number"==typeof u?u:0)||4,B=("object"==typeof u?u.y:"number"==typeof u?u:0)||4,v||(v=!0,a.doc.addEventListener(c,function(a){u=u&&a.target==y&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-w)<=z&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-x)<=B},!0),a.doc.addEventListener(d,function(a){if(u){A=
(new Date).getTime();var b=a.target;"LABEL"===b.tagName&&(b=l.byId(b.getAttribute("for"))||b);setTimeout(function(){g.emit(b,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),b=function(b){a.doc.addEventListener(b,function(a){!a._dojo_click&&((new Date).getTime()<=A+1E3&&!("INPUT"==a.target.tagName&&k.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==
a.target.type)&&"TEXTAREA"!=a.target.tagName&&"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)},b("click"),b("mousedown"),b("mouseup"))}var t=f("touch"),s=5>f("ios"),n=navigator.msPointerEnabled,v,u,y,w,x,z,B,A,C,E;t&&(n?b(function(){a.doc.addEventListener("MSPointerDown",function(a){r(a,"MSPointerMove","MSPointerUp")},!0)}):b(function(){function b(a){var e=d.delegate(a,{bubbles:!0});6<=f("ios")&&(e.touches=a.touches,e.altKey=a.altKey,e.changedTouches=a.changedTouches,
e.ctrlKey=a.ctrlKey,e.metaKey=a.metaKey,e.shiftKey=a.shiftKey,e.targetTouches=a.targetTouches);return e}E=a.body();a.doc.addEventListener("touchstart",function(a){C=(new Date).getTime();var b=E;E=a.target;g.emit(b,"dojotouchout",{relatedTarget:E,bubbles:!0});g.emit(E,"dojotouchover",{relatedTarget:b,bubbles:!0});r(a,"touchmove","touchend")},!0);g(a.doc,"touchmove",function(e){C=(new Date).getTime();var c=a.doc.elementFromPoint(e.pageX-(s?0:a.global.pageXOffset),e.pageY-(s?0:a.global.pageYOffset));
c&&(E!==c&&(g.emit(E,"dojotouchout",{relatedTarget:c,bubbles:!0}),g.emit(c,"dojotouchover",{relatedTarget:E,bubbles:!0}),E=c),g.emit(c,"dojotouchmove",b(e)))});g(a.doc,"touchend",function(e){C=(new Date).getTime();var c=a.doc.elementFromPoint(e.pageX-(s?0:a.global.pageXOffset),e.pageY-(s?0:a.global.pageYOffset))||a.body();g.emit(c,"dojotouchend",b(e))})}));p={press:q("mousedown","touchstart","MSPointerDown"),move:q("mousemove","dojotouchmove","MSPointerMove"),release:q("mouseup","dojotouchend","MSPointerUp"),
cancel:q(c.leave,"touchcancel",t?"MSPointerCancel":null),over:q("mouseover","dojotouchover","MSPointerOver"),out:q("mouseout","dojotouchout","MSPointerOut"),enter:c._eventHandler(q("mouseover","dojotouchover","MSPointerOver")),leave:c._eventHandler(q("mouseout","dojotouchout","MSPointerOut"))};return h.touch=p})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(h,p,l,k){k.extend(p,{focused:!1,onFocus:function(){},onBlur:function(){},
_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return l("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){var v,u=new (p([q,g],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,
function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(d,"empty",a);h.before(d,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var e=this,d=a.document&&a.document.body;if(d){var n=c(a.document,"mousedown, touchstart",function(a){e._justMouseDowned=!0;setTimeout(function(){e._justMouseDowned=!1},0);if(!a||!(a.target&&null==a.target.parentNode))e._onTouchNode(b||
a.target,"mouse")}),f=c(d,"focusin",function(a){v=(new Date).getTime();if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(t.isTabNavigable(a.target)?e._onFocusNode(b||a.target):e._onTouchNode(b||a.target))}}),g=c(d,"focusout",function(a){(new Date).getTime()<v+100||e._onBlurNode(b||a.target)});return{remove:function(){n.remove();f.remove();g.remove();d=n=f=g=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=
setTimeout(f.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var d=k.get(a,
"dijitPopupParent");if(d)a=s.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===e.body())break;a=r.get(a.ownerDocument).frameElement}else{var n=a.getAttribute&&a.getAttribute("widgetId"),f=n&&s.byId(n);f&&!("mouse"==b&&f.get("disabled"))&&c.unshift(n);a=a.parentNode}}}catch(g){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",
this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var e=this.activeStack,c=e.length-1,d=a.length-1;if(a[d]!=e[c]){this.set("activeStack",a);var n;for(n=c;0<=n&&e[n]!=a[n];n--)if(c=s.byId(e[n]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(n++;n<=d;n++)if(c=s.byId(a[n]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));b(function(){var b=
u.registerWin(r.get(document));a("ie")&&c(window,"unload",function(){b&&(b.remove(),b=null)})});n.focus=function(a){u.focus(a)};for(var y in u)/^_/.test(y)||(n.focus[y]="function"==typeof u[y]?f.hitch(u,y):u[y]);u.watch(function(a,b,e){n.focus[a]=e});return u})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(h,p,l,k,d,g,f){p.add("rtl-adjust-position-for-verticalScrollBar",function(b,a){var c=l.body(a),e=f.create("div",
{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),g=f.create("div",{style:{overflow:"hidden",direction:"ltr"}},e,"last"),k=0!=d.position(g).x;e.removeChild(g);c.removeChild(e);return k});p.add("position-fixed-support",function(b,a){var c=l.body(a),e=f.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},c,"last"),g=f.create("span",{style:{position:"fixed",left:"0",
top:"0"}},e,"last"),k=d.position(g).x!=d.position(e).x;e.removeChild(g);c.removeChild(e);return k});var c={getBox:function(b){b=b||l.doc;var a="BackCompat"==b.compatMode?l.body(b):b.documentElement,f=d.docScroll(b);if(p("touch")){var e=c.get(b);b=e.innerWidth||a.clientWidth;a=e.innerHeight||a.clientHeight}else b=a.clientWidth,a=a.clientHeight;return{l:f.x,t:f.y,w:b,h:a}},get:function(b){if(p("ie")&&c!==document.parentWindow){b.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");
var a=b._parentWindow;b._parentWindow=null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(b,a){try{b=k.byId(b);var c=b.ownerDocument||l.doc,e=l.body(c),f=c.documentElement||e.parentNode,h=p("ie"),s=p("webkit");if(!(b==e||b==f))if(!p("mozilla")&&(!h&&!s&&!p("opera"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var n="BackCompat"==c.compatMode,v=Math.min(e.clientWidth||f.clientWidth,f.clientWidth||e.clientWidth),u=Math.min(e.clientHeight||f.clientHeight,f.clientHeight||e.clientHeight),
c=s||n?e:f,y=a||d.position(b),w=b.parentNode,s=function(a){return 6>=h||7==h&&n?!1:p("position-fixed-support")&&"fixed"==g.get(a,"position").toLowerCase()};if(!s(b))for(;w;){w==e&&(w=c);var x=d.position(w),z=s(w),B="rtl"==g.getComputedStyle(w).direction.toLowerCase();if(w==c){x.w=v;x.h=u;c==f&&(h&&B)&&(x.x+=c.offsetWidth-x.w);if(0>x.x||!h||9<=h)x.x=0;if(0>x.y||!h||9<=h)x.y=0}else{var A=d.getPadBorderExtents(w);x.w-=A.w;x.h-=A.h;x.x+=A.l;x.y+=A.t;var C=w.clientWidth,E=x.w-C;0<C&&0<E&&(B&&p("rtl-adjust-position-for-verticalScrollBar")&&
(x.x+=E),x.w=C);C=w.clientHeight;E=x.h-C;0<C&&0<E&&(x.h=C)}z&&(0>x.y&&(x.h+=x.y,x.y=0),0>x.x&&(x.w+=x.x,x.x=0),x.y+x.h>u&&(x.h=u-x.y),x.x+x.w>v&&(x.w=v-x.x));var G=y.x-x.x,F=y.y-x.y,I=G+y.w-x.w,Q=F+y.h-x.h,D,J;if(0<I*G&&(w.scrollLeft||w==c||w.scrollWidth>w.offsetHeight)){D=Math[0>G?"max":"min"](G,I);if(B&&(8==h&&!n||9<=h))D=-D;J=w.scrollLeft;w.scrollLeft+=D;D=w.scrollLeft-J;y.x-=D}if(0<Q*F&&(w.scrollTop||w==c||w.scrollHeight>w.offsetHeight))D=Math.ceil(Math[0>F?"max":"min"](F,Q)),J=w.scrollTop,w.scrollTop+=
D,D=w.scrollTop-J,y.y-=D;w=w!=c&&!z&&w.parentNode}}}catch(K){console.error("scrollIntoView: "+K),b.scrollIntoView(!1)}}};h.setObject("dojo.window",c);return c})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(h,p,l,k,d,g,f){var c={_isElementShown:function(b){var a=k.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=l.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return l.has(b,
"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var c=b.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;a=c.body}catch(e){try{a=b.contentWindow.document.body}catch(d){return!1}}return a&&("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}},isTabNavigable:function(b){return l.get(b,"disabled")?!1:l.has(b,"tabIndex")?0<=l.get(b,"tabIndex"):
c.hasDefaultTabStop(b)},_getTabNavigable:function(b){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,e,f,k,h,n,v={},u=c._isElementShown,p=c.isTabNavigable,w=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=g("ie")&&"HTML"!==b.scopeName||!u(b))){if(p(b)){var c=+l.get(b,"tabIndex");if(!l.has(b,"tabIndex")||0==c)d||(d=b),e=b;else if(0<c){if(!f||c<k)k=c,f=b;if(!h||c>=n)n=c,h=b}c=a(b);l.get(b,"checked")&&
c&&(v[c]=b)}"SELECT"!=b.nodeName.toUpperCase()&&w(b)}};u(b)&&w(b);return{first:v[a(d)]||d,last:v[a(e)]||e,lowest:v[a(f)]||f,highest:v[a(h)]||h}},getFirstInTabbingOrder:function(b,a){var d=c._getTabNavigable(p.byId(b,a));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(b,a){var d=c._getTabNavigable(p.byId(b,a));return d.last?d.last:d.highest}};d.mixin(f,c);return c})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(h,
p,l,k,d){var g=d.doc.documentElement;d=k("ie");var f=k("opera"),c=Math.floor,b=k("ff"),a=h.boxModel.replace(/-/,""),f={dj_quirks:k("quirks"),dj_opera:f,dj_khtml:k("khtml"),dj_webkit:k("webkit"),dj_safari:k("safari"),dj_chrome:k("chrome"),dj_gecko:k("mozilla"),dj_ios:k("ios"),dj_android:k("android")};d&&(f.dj_ie=!0,f["dj_ie"+c(d)]=!0,f.dj_iequirks=k("quirks"));b&&(f["dj_ff"+c(b)]=!0);f["dj_"+a]=!0;var q="",e;for(e in f)f[e]&&(q+=e+" ");g.className=p.trim(g.className+" "+q);l(function(){if(!h.isBodyLtr()){var a=
"dj_rtl dijitRtl "+q.replace(/ /g,"-rtl ");g.className=p.trim(g.className+" "+a+"dj_rtl dijitRtl "+q.replace(/ /g,"-rtl "))}});return k})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(h,p,l,k){l(function(){p("highcontrast")&&h.add(k.body(),"dijit_a11y")});return p})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(h,p,l,k,d,g,f){d.add("highcontrast",function(){var c=
f.doc.createElement("div");c.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(p.blankGif||h.toUrl("./resources/blank.gif"))+");";f.body().appendChild(c);var b=k.getComputedStyle(c),a=b.backgroundImage,b=b.borderTopColor==b.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=d("ie")?c.outerHTML="":f.body().removeChild(c);return b});g(function(){d("highcontrast")&&l.add(f.body(),"dj_a11y")});return d})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(h,p,l,k,d,g,f,c){var b=p("dijit._TemplatedMixin",c,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,e=this;return f.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=k.getObject(c.substr(1),!1,e));if("undefined"==typeof a)throw Error(b+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=
h(this.templatePath,{sanitize:!0}));var a=b.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(k.isString(a)){if(c=l.toDom(this._stringRepl(a),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});b._templateCache=
{};b.getCachedTemplate=function(a,c,e){var d=b._templateCache,g=a,k=d[g];if(k){try{if(!k.ownerDocument||k.ownerDocument==(e||document))return k}catch(n){}l.destroy(k)}a=f.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return d[g]=a;c=l.toDom(a,e);if(1!=c.nodeType)throw Error("Invalid template: "+a);return d[g]=c};g("ie")&&d(window,"unload",function(){var a=b._templateCache,c;for(c in a){var e=a[c];"object"==typeof e&&l.destroy(e);delete a[c]}});return b})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(h){return h.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(h,p,l,k){var d;d=function(a,b,e){k(a,{sync:!!b}).then(e)};var g={},f=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},c={},b={};h.cache=function(a,b,e){var c;"string"==typeof a?/\//.test(a)?(c=a,e=b):c=p.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):
(c=a+"",e=b);a=void 0!=e&&"string"!=typeof e?e.value:e;e=e&&e.sanitize;if("string"==typeof a)return g[c]=a,e?f(a):a;if(null===a)return delete g[c],null;c in g||d(c,!0,function(a){g[c]=a});return e?f(g[c]):g[c]};return{dynamic:!0,normalize:function(a,b){var e=a.split("!"),c=e[0];return(/^\./.test(c)?b(c):c)+(e[1]?"!"+e[1]:"")},load:function(a,q,e){a=a.split("!");var k=1<a.length,h=a[0],s=q.toUrl(a[0]);a="url:"+s;var n=c,l=function(a){e(k?f(a):a)};h in g?n=g[h]:q.cache&&a in q.cache?n=q.cache[a]:s in
g&&(n=g[s]);if(n===c)if(b[s])b[s].push(l);else{var u=b[s]=[l];d(s,!q.async,function(a){g[h]=g[s]=a;for(var e=0;e<u.length;)u[e++](a);delete b[s]})}else l(n)}}})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"dojo/request/default":function(){define(["exports","require","../has"],function(h,p,l){var k=l("config-requestProvider");k||(k="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(d,g,f,c){p(["platform"==d?"./xhr":k],function(b){f(b)})}})},
"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(h,p,l,k,d,g,f,c,b){var a=d.delegate(c,{mouseenter:g.enter,mouseleave:g.leave,keypress:l._keypress}),q;l=k("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},
_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var f=!0,n=this.attachScope||this,g=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(g)for(var q=g.split(/\s*,\s*/);g=q.shift();)d.isArray(n[g])?
n[g].push(a):n[g]=a,f="containerNode"!=g,this._attachPoints.push(g);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){g=b.split(/\s*,\s*/);for(q=d.trim;b=g.shift();)if(b){var k=null;-1!=b.indexOf(":")?(k=b.split(":"),b=q(k[0]),k=q(k[1])):b=q(b);k||(k=b);this._attachEvents.push(c(a,b,d.hitch(n,k)))}}return f},_attach:function(b,c,d){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?q||(q=h("./a11yclick")):a[c]||c;return f(b,c,d)},_detachTemplateNodes:function(){var a=this.attachScope||
this;p.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];p.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});d.extend(b,{dojoAttachEvent:"",dojoAttachPoint:""});return l})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(h,p,l,k,d,g){return p("dijit.form._FormMixin",
null,{state:"",_getDescendantFormWidgets:function(d){var c=[];h.forEach(d||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(d){d.reset&&d.reset()})},validate:function(){var d=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var b=c.disabled||!c.validate||c.validate();!b&&!d&&(g.scrollIntoView(c.containerNode||
c.domNode),c.focus(),d=!0);return b}),function(c){return c})},setValues:function(d){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",d)},_setValueAttr:function(d){var c={};h.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var b in c)if(c.hasOwnProperty(b)){var a=c[b],g=k.getObject(b,!1,d);void 0!==g&&(g=[].concat(g),"boolean"==typeof a[0].checked?h.forEach(a,function(a){a.set("value",
-1!=h.indexOf(g,a._get("value")))}):a[0].multiple?a[0].set("value",g):h.forEach(a,function(a,b){a.set("value",g[b])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};h.forEach(this._getDescendantFormWidgets(),function(c){var b=c.name;if(b&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==a?k.setObject(b,a,d):(a=k.getObject(b,
!1,d),void 0===a&&k.setObject(b,null,d)):(c=k.getObject(b,!1,d),c||(c=[],k.setObject(b,c,d)),!1!==a&&c.push(a)):(c=k.getObject(b,!1,d),"undefined"!=typeof c?k.isArray(c)?c.push(a):k.setObject(b,[c,a],d):k.setObject(b,a,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=h.map(this._descendants,function(c){return c.get("state")||""});return 0<=h.indexOf(d,"Error")?"Error":0<=h.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},
connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},_onChildChange:function(d){(!d||"state"==d||"disabled"==d)&&this._set("state",this._getState());if(!d||"value"==d||"disabled"==d||"checked"==d)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var f=this;this.own(d(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=f.domNode&&f._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query dojo/sniff ../registry ../Viewport ./utils".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q){return p("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",g.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],c=!1;f("\x3e *",this.containerNode).some(function(d){var f=
b.byNode(d);f&&f.resize?a.push(f):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(c=!0)});this._singleChild=1==a.length&&!c?a[0]:null;l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
a&&k.setMarginBox(this.domNode,a);var c=this.containerNode;if(c===this.domNode){var d=b||{};g.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=g.mixin(k.getMarginBox(c),d);this._contentBox=q.marginBox2contentBox(c,d)}else this._contentBox=k.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||k.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=
this.getChildren(),b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},
"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(h,p,l,k,d){var g=new h,f;l(function(){var c=d.getBox();g._rlh=p(window,"resize",function(){var a=d.getBox();c.h==a.h&&c.w==a.w||(c=a,g.emit("resize"))});if(8==k("ie")){var b=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=b&&(b=screen.deviceXDPI,g.emit("resize"))},500)}k("ios")&&(p(document,"focusin",function(a){f=a.target}),p(document,"focusout",function(a){f=null}))});g.getEffectiveBox=
function(c){c=d.getBox(c);var b=f&&f.tagName&&f.tagName.toLowerCase();if(k("ios")&&f&&!f.readOnly&&("textarea"==b||"input"==b&&/^(color|email|number|password|search|tel|text|url)$/.test(f.type)))c.h*=0==orientation||180==orientation?0.66:0.4,b=f.getBoundingClientRect(),c.h=Math.max(c.h,b.top+b.height);return c};return g})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(h,p,l,k,d){function g(c,b){var a=c.resize?
c.resize(b):l.setMarginBox(c.domNode,b);a?d.mixin(c,a):(d.mixin(c,l.getMarginBox(c.domNode)),d.mixin(c,b))}var f={marginBox2contentBox:function(c,b){var a=k.getComputedStyle(c),d=l.getMarginExtents(c,a),e=l.getPadBorderExtents(c,a);return{l:k.toPixelValue(c,a.paddingLeft),t:k.toPixelValue(c,a.paddingTop),w:b.w-(d.w+e.w),h:b.h-(d.h+e.h)}},layoutChildren:function(c,b,a,f,e){b=d.mixin({},b);p.add(c,"dijitLayoutContainer");a=h.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(h.filter(a,
function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(a,function(a){var c=a.domNode,d=a.region||a.layoutAlign;if(!d)throw Error("No region setting for "+a.id);var n=c.style;n.left=b.l+"px";n.top=b.t+"px";n.position="absolute";p.add(c,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));c={};f&&f==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=e);"leading"==d&&(d=a.isLeftToRight()?"left":"right");"trailing"==d&&(d=a.isLeftToRight()?"right":"left");"top"==d||"bottom"==
d?(c.w=b.w,g(a,c),b.h-=a.h,"top"==d?b.t+=a.h:n.top=b.t+b.h+"px"):"left"==d||"right"==d?(c.h=b.h,g(a,c),b.w-=a.w,"left"==d?b.l+=a.w:n.left=b.l+b.w+"px"):("client"==d||"center"==d)&&g(a,b)})}};d.setObject("dijit.layout.utils",f);return f})},"dojox/mobile/View":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/_base/Deferred dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./ViewController ./common ./transition ./viewRegistry ./_css3".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z){d.getObject("dojox.mobile",!0);return k("dojox.mobile.View",[v,n,s],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,c){c&&(b.byId(c).style.visibility="hidden")},destroy:function(){x.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.templateString||(this.domNode=this.containerNode=this.srcNodeRef||q.create(this.tag));this._animEndHandle=this.connect(this.domNode,z.name("animationEnd"),"onAnimationEnd");
this._animStartHandle=this.connect(this.domNode,z.name("animationStart"),"onAnimationStart");p.mblCSS3Transition||(this._transEndHandle=this.connect(this.domNode,z.name("transitionEnd"),"onAnimationEnd"));g("mblAndroid3Workaround")&&r.set(this.domNode,z.name("transformStyle"),"preserve-3d");x.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),c,e,d;h.forEach(a,function(a,
n){-1!==h.indexOf(b,a.id)&&(c=a);0==n&&(d=a);a.selected&&(e=a);a._visible=!1},this);(c||e||d)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();l.publish("/dojox/mobile/startView",[this])}));"visible"!=this.domNode.style.visibility&&(this.domNode.style.visibility="visible");this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(a,b,c,e,d){},onAfterTransitionIn:function(a,b,c,e,d){},onBeforeTransitionOut:function(a,b,c,e,d){},onAfterTransitionOut:function(a,b,c,e,d){},_clearClasses:function(a){if(a){var b=[];h.forEach(d.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&b.push(a)},this);a.className=b.join(" ")}},_fixViewState:function(b){for(var c=this.domNode.parentNode.childNodes,e=0;e<c.length;e++){var d=c[e];1===d.nodeType&&a.contains(d,"mblView")&&
this._clearClasses(d)}this._clearClasses(b);if(b=t.byNode(b))b._inProgress=!1},convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(p.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(c,e,n,k,q){if(!this._inProgress){this._inProgress=!0;var h,s;if(c&&"object"===typeof c)h=c,s=e;else{h={moveTo:c,transitionDir:e,transition:n,context:k,method:q};s=[];for(var u=5;u<arguments.length;u++)s.push(arguments[u])}this._detail=
h;this._optArgs=s;this._arguments=[h.moveTo,h.transitionDir,h.transition,h.context,h.method];if("#"!==h.moveTo){h.moveTo?s=this.convertToId(h.moveTo):(this._dummyNode||(this._dummyNode=f.doc.createElement("div"),f.body().appendChild(this._dummyNode)),s=this._dummyNode);this.addTransitionInfo&&("string"==typeof h.moveTo&&this._isBookmarkable(h))&&this.addTransitionInfo(this.id,h.moveTo,{transitionDir:h.transitionDir,transition:h.transition});var u=this.domNode,v=u.offsetTop;if(s=this.toNode=b.byId(s)){s.style.visibility=
"hidden";s.style.display="";this._fixViewState(s);var w=t.byNode(s);if(w){if(p.mblAlwaysResizeOnTransition||!w._resized)y.resizeAll(null,w),w._resized=!0;h.transition&&"none"!=h.transition&&w._addTransitionPaddingTop(v);w.load&&w.load();w.movedFrom=u.id}g("mblAndroidWorkaround")&&(!p.mblCSS3Transition&&h.transition&&"none"!=h.transition)&&(r.set(s,z.name("transformStyle"),"preserve-3d"),r.set(u,z.name("transformStyle"),"preserve-3d"),a.add(s,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,
this._arguments);l.publish("/dojox/mobile/beforeTransitionOut",[this].concat(d._toArray(this._arguments)));if(w){if(this.keepScrollPos&&!this.getParent()){v=f.body().scrollTop||f.doc.documentElement.scrollTop||f.global.pageYOffset||0;u._scrollTop=v;var x=1==h.transitionDir?0:s._scrollTop||0;s.style.top="0px";if(1<v||0!==x)u.style.top=x-v+"px",!1!==p.mblHideAddressBar&&this.defer(function(){f.global.scrollTo(0,x||1)})}else s.style.top="0px";w.onBeforeTransitionIn.apply(w,this._arguments);l.publish("/dojox/mobile/beforeTransitionIn",
[w].concat(d._toArray(this._arguments)))}s.style.display="none";s.style.visibility="visible";y.fromView=this;y.toView=w;this._doTransition(u,s,h.transition,h.transitionDir)}}}},_addTransitionPaddingTop:function(a){this.containerNode.style.paddingTop=a+"px"},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop=""},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(b,n,k,q){var h=-1==q?" mblReverse":"";n.style.display="";if(!k||"none"==
k)this.domNode.style.display="none",this.invokeCallback();else if(p.mblCSS3Transition)c.when(w,d.hitch(this,function(a){var e=r.get(n,"position");r.set(n,"position","absolute");c.when(a(b,n,{transition:k,reverse:-1===q?!0:!1}),d.hitch(this,function(){r.set(n,"position",e);n.style.paddingTop="";this.invokeCallback()}))}));else{-1!=k.indexOf("cube")&&(g("ipad")?r.set(n.parentNode,{webkitPerspective:1600}):g("ios")&&r.set(n.parentNode,{webkitPerspective:800}));var s=this._toCls(k);if(g("mblAndroidWorkaround")){var l=
this;l.defer(function(){a.add(b,s+" mblOut"+h);a.add(n,s+" mblIn"+h);a.remove(n,"mblAndroidWorkaround");l.defer(function(){a.add(b,"mblTransition");a.add(n,"mblTransition")},30)},70)}else a.add(b,s+" mblOut"+h),a.add(n,s+" mblIn"+h),this.defer(function(){a.add(b,"mblTransition");a.add(n,"mblTransition")},100);var u="50% 50%",v="50% 50%",t;-1!=k.indexOf("swirl")||-1!=k.indexOf("zoom")?(u=this.keepScrollPos&&!this.getParent()?f.body().scrollTop||f.doc.documentElement.scrollTop||f.global.pageYOffset||
0:-e.position(b,!0).y,t=f.global.innerHeight/2+u,u="50% "+t+"px",v="50% "+t+"px"):-1!=k.indexOf("scale")&&(u=e.position(b,!0),v=(void 0!==this.clickedPosX?this.clickedPosX:f.global.innerWidth/2)-u.x,u=this.keepScrollPos&&!this.getParent()?f.body().scrollTop||f.doc.documentElement.scrollTop||f.global.pageYOffset||0:-u.y,t=(void 0!==this.clickedPosY?this.clickedPosY:f.global.innerHeight/2)+u,u=v+"px "+t+"px",v=v+"px "+t+"px");r.set(b,z.add({},{transformOrigin:u}));r.set(n,z.add({},{transformOrigin:v}))}},
onAnimationStart:function(a){},onAnimationEnd:function(b){var c=b.animationName||b.target.className;if(!(-1===c.indexOf("Out")&&-1===c.indexOf("In")&&-1===c.indexOf("Shrink"))){var e=!1;a.contains(this.domNode,"mblOut")?(e=!0,this.domNode.style.display="none",a.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this._removeTransitionPaddingTop();r.set(this.domNode,z.add({},{transformOrigin:""}));-1!==c.indexOf("Shrink")&&(b=b.target,b.style.display="none",a.remove(b,
"mblCloseContent"),(b=x.getEnclosingScrollable(this.domNode))&&b.onTouchEnd());e&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;-1!==c.indexOf("Cube")&&(-1!==c.indexOf("In")&&g("ios"))&&(this.domNode.parentNode.style[z.name("perspective")]="")}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);l.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var a=t.byNode(this.toNode);a&&(a.onAfterTransitionIn.apply(a,
this._arguments),l.publish("/dojox/mobile/afterTransitionIn",[a].concat(this._arguments)),a.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(a));g("mblAndroidWorkaround")&&this.defer(function(){a&&r.set(this.toNode,z.name("transformStyle"),"");r.set(this.domNode,z.name("transformStyle"),"")});var b=this._detail.context,c=this._detail.method;if(b||c)c||(c=b,b=null),b=b||f.global,"string"==typeof c?b[c].apply(b,this._optArgs):"function"==typeof c&&c.apply(b,this._optArgs);
this._detail=this._optArgs=this._arguments=void 0;this._inProgress=!1},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===r.get(a,"display"))return!1;return!0}return"none"!==r.get(this.domNode,"display")},getShowingView:function(){for(var b=this.domNode.parentNode.childNodes,c=0;c<b.length;c++){var e=b[c];if(1===e.nodeType&&a.contains(e,"mblView")&&"none"!==e.style.display)return t.byNode(e)}return null},getSiblingViews:function(){return!this.domNode.parentNode?
[this]:h.map(h.filter(this.domNode.parentNode.childNodes,function(b){return 1===b.nodeType&&a.contains(b,"mblView")}),function(a){return t.byNode(a)})},show:function(a,b){var c=this.getShowingView();a||(c&&(c.onBeforeTransitionOut(c.id),l.publish("/dojox/mobile/beforeTransitionOut",[c,c.id])),this.onBeforeTransitionIn(this.id),l.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display="":h.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?
"":"none"},this);this.load&&this.load();a||(c&&(c.onAfterTransitionOut(c.id),l.publish("/dojox/mobile/afterTransitionOut",[c,c.id])),this.onAfterTransitionIn(this.id),l.publish("/dojox/mobile/afterTransitionIn",[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(h,p){return h("dijit._Contained",null,{_getSibling:function(h){var k=this.domNode;do k=k[h+"Sibling"];while(k&&1!=k.nodeType);return k&&
p.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var h=this.getParent();return!h||!h.getIndexOfChild?-1:h.getIndexOfChild(this)}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(h,p,l,k){return p("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=
this.domNode)},addChild:function(d,g){var f=this.containerNode;if(0<g){for(f=f.firstChild;0<g;)1==f.nodeType&&g--,f=f.nextSibling;f?g="before":(f=this.containerNode,g="last")}l.place(d.domNode,f,g);this._started&&!d._started&&d.startup()},removeChild:function(d){"number"==typeof d&&(d=this.getChildren()[d]);d&&(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(d,g){k.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var f=this.getChildren(),c=h.indexOf(f,d);return f[c+g]},getIndexOfChild:function(d){return h.indexOf(this.getChildren(),d)}})})},"dojox/mobile/ViewController":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/_base/Deferred dojo/dom dojo/dom-class dojo/dom-construct dojo/on dojo/ready dijit/registry ./ProgressIndicator ./TransitionEvent ./viewRegistry".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){var v=
k("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};e(d.hitch(this,function(){q(g.body(),"startTransition",d.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);a=RegExp.$2;var b=r.byId(RegExp.$1);if(!b)return[];for(var c=b.getParent();c;c=c.getParent())if(c.isVisible&&
!c.isVisible()){var e=b.getShowingView();e&&e.id!==b.id&&b.show();b=c}return[b.getShowingView(),b,a]},openExternalView:function(a,b){var c=new f,e=this.viewMap[a.url];if(e)return a.moveTo=e,a.noTransition?r.byId(e).hide():(new s(g.body(),a)).dispatch(),c.resolve(!0),c;for(var n=null,e=b.childNodes.length-1;0<=e;e--){var k=b.childNodes[e];if(1===k.nodeType&&"bottom"===(k.getAttribute("fixed")||k.getAttribute("data-mobile-fixed")||r.byNode(k)&&r.byNode(k).fixed)){n=k;break}}require([a.dataHandlerClass||
this.dataHandlerClass,a.dataSourceClass||this.dataSourceClass,a.fileTypeMapClass||this.fileTypeMapClass],d.hitch(this,function(e,f,k){e=new e(new f(a.data||a.url),b,n);k=a.contentType||k.getContentType(a.url)||"html";e.processData(k,d.hitch(this,function(b){b?(this.viewMap[a.url]=a.moveTo=b,a.noTransition?r.byId(b).hide():(new s(g.body(),a)).dispatch(),c.resolve(!0)):c.reject("Failed to load "+a.url)}))}));return c},onStartTransition:function(a){a.preventDefault();if(a.detail){var b=a.detail;if(b.moveTo||
b.href||b.url||b.scene)if(b.url&&!b.moveTo){var e=b.urlTarget,d=r.byId(e),e=d&&d.containerNode||c.byId(e);e||(e=(d=n.getEnclosingView(a.target))&&d.domNode.parentNode||g.body());this.openExternalView(b,e)}else if(b.href)if(b.hrefTarget&&"_self"!=b.hrefTarget)g.global.open(b.href,b.hrefTarget);else{for(d=n.getEnclosingView(a.target);d;d=n.getParentView(d))e=d;e&&e.performTransition(null,b.transitionDir,b.transition,a.target,function(){location.href=b.href})}else if(b.scene)l.publish("/dojox/mobile/app/pushScene",
[b.scene]);else{var f=this.findTransitionViews(b.moveTo),e=f[0],d=f[1],f=f[2];!location.hash&&!b.hashchange&&(n.initialView=e);b.moveTo&&d&&(b.moveTo=("#"===b.moveTo.charAt(0)?"#"+d.id:d.id)+f);if(e&&!(b.moveTo&&e===r.byId(b.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=r.getEnclosingWidget(a.target))&&a.callback)b.context=a,b.method=a.callback;e.performTransition(b)}}}}});v._instance=new v;v.getInstance=function(){return v._instance};return v})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dijit/_Contained dijit/_WidgetBase ./_css3".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q){var e=p("dojox.mobile.ProgressIndicator",[a,b],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&k.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=d.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=d.create("div",null,this.containerNode);for(var a=
0;12>a;a++){var b=d.create("div",{className:"mblProg mblProg"+a},this.spinnerNode);this._bars.push(b)}this.scale(this.size);this.startSpinning&&this.start()},scale:function(a){var b=a/40;f.set(this.containerNode,q.add({},{transform:"scale("+b+")",transformOrigin:"0 0"}));g.setMarginBox(this.domNode,{w:a,h:a});g.setMarginBox(this.containerNode,{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),c=Math.round((this.containerNode.offsetHeight-
a.offsetHeight)/2);a.style.margin=c+"px "+b+"px"}else{var e=0,d=this;this.timer=setInterval(function(){e--;e=0>e?11:e;for(var a=d.colors,b=0;12>b;b++){var c=(e+b)%12;a[c]?d._bars[b].style.backgroundColor=a[c]:k.replace(d._bars[b],"mblProg"+c+"Color","mblProg"+(11===c?0:c+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&(this.domNode&&this.domNode.parentNode)&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){a?
(this.imageNode=d.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none"):(this.imageNode&&(this.containerNode.removeChild(this.imageNode),this.imageNode=null),this.spinnerNode.style.display="")},destroy:function(){this.inherited(arguments);this===e._instance&&(e._instance=null)}});e._instance=null;e.getInstance=function(a){e._instance||(e._instance=new e(a));return e._instance};return e})},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],
function(h,p,l){var k=[],d=[],g=h.doc.createElement("div").style,f=["webkit"];l.add("css3-animations",function(b,a,c){var e=c.style;return void 0!==e.animation&&void 0!==e.transition||p.some(f,function(a){return void 0!==e[a+"Animation"]&&void 0!==e[a+"Transition"]})});var c={name:function(b,a){var c=(a?d:k)[b];if(!c){if(/End|Start/.test(b))var e=b.length-(b.match(/End/)?3:5),h=b.substr(0,e),l=this.name(h),c=l==h?b.toLowerCase():l+b.substr(e);else if("keyframes"==b)e=this.name("animation",a),c="animation"==
e?b:a?e.replace(/animation/,"keyframes"):e.replace(/Animation/,"Keyframes");else{var s=a?b.replace(/-(.)/g,function(a,b){return b.toUpperCase()}):b;void 0!==g[s]?c=b:(s=s.charAt(0).toUpperCase()+s.slice(1),p.some(f,function(e){void 0!==g[e+s]&&(c=a?"-"+e+"-"+b:e+s)}))}c||(c=b);(a?d:k)[b]=c}return c},add:function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[c.name(d)]=a[d]);return b}};return c})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(h,p){return h("dojox.mobile.TransitionEvent",
null,{constructor:function(h,k,d){this.transitionOptions=k;this.target=h;this.triggerEvent=d||null},dispatch:function(){p.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent})}})})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(h,p,l){return{length:0,hash:{},initialView:null,add:function(k){this.hash[k.id]=k;this.length++},remove:function(k){this.hash[k]&&(delete this.hash[k],
this.length--)},getViews:function(){var k=[],d;for(d in this.hash)k.push(this.hash[d]);return k},getParentView:function(k){for(k=k.getParent();k;k=k.getParent())if(p.contains(k.domNode,"mblView"))return k;return null},getChildViews:function(k){return h.filter(this.getViews(),function(d){return this.getParentView(d)===k},this)},getEnclosingView:function(k){for(;k&&"BODY"!==k.tagName;k=k.parentNode)if(1===k.nodeType&&p.contains(k,"mblView"))return l.byNode(k);return null},getEnclosingScrollable:function(k){for(k=
l.getEnclosingWidget(k);k;k=k.getParent())if(k.scrollableParams&&k._v)return k;return null}}})},"dojox/mobile/common":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/window dojo/_base/kernel dojo/dom-class dojo/dom-construct dojo/ready dojo/touch dijit/registry ./sniff ./uacss".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e){var r=k.getObject("dojox.mobile",!0);d.doc.dojoClick=!0;e("touch")&&(e.add("clicks-prevented",!(4.1<=e("android")||10<=e("ie"))),
e("clicks-prevented")&&(r._sendClick=function(a,b){for(var c=a;c;c=c.parentNode)if(c.dojoClick)return;c=d.doc.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,d.global,1,b.screenX,b.screenY,b.clientX,b.clientY);a.dispatchEvent(c)}));r.getScreenSize=function(){return{h:d.global.innerHeight||d.doc.documentElement.clientHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth}};r.updateOrient=function(){var a=r.getScreenSize();f.replace(d.doc.documentElement,a.h>a.w?"dj_portrait":"dj_landscape",
a.h>a.w?"dj_landscape":"dj_portrait")};r.updateOrient();r.tabletSize=500;r.detectScreenSize=function(a){var b=r.getScreenSize(),c=Math.min(b.w,b.h),e,g;if(c>=r.tabletSize&&(a||!this._sz||this._sz<r.tabletSize))e="phone",g="tablet";else if(c<r.tabletSize&&(a||!this._sz||this._sz>=r.tabletSize))e="tablet",g="phone";g&&(f.replace(d.doc.documentElement,"dj_"+g,"dj_"+e),l.publish("/dojox/mobile/screenSize/"+g,[b]));this._sz=c};r.detectScreenSize();r.hideAddressBarWait="number"===typeof p.mblHideAddressBarWait?
p.mblHideAddressBarWait:1500;r.hide_1=function(){scrollTo(0,1);r._hidingTimer=0==r._hidingTimer?200:2*r._hidingTimer;setTimeout(function(){r.isAddressBarHidden()||r._hidingTimer>r.hideAddressBarWait?(r.resizeAll(),r._hiding=!1):setTimeout(r.hide_1,r._hidingTimer)},50)};r.hideAddressBar=function(a){!r.disableHideAddressBar&&!r._hiding&&(r._hiding=!0,r._hidingTimer=e("ios")?200:0,a=screen.availHeight,e("android")&&(a=outerHeight/devicePixelRatio,0==a&&(r._hiding=!1,setTimeout(function(){r.hideAddressBar()},
200)),a<=innerHeight&&(a=outerHeight),3>e("android")&&(d.doc.documentElement.style.overflow=d.body().style.overflow="visible")),d.body().offsetHeight<a&&(d.body().style.minHeight=a+"px",r._resetMinHeight=!0),setTimeout(r.hide_1,r._hidingTimer))};r.isAddressBarHidden=function(){return 1===pageYOffset};r.resizeAll=function(a,b){if(!r.disableResizeAll){l.publish("/dojox/mobile/resizeAll",[a,b]);l.publish("/dojox/mobile/beforeResizeAll",[a,b]);r._resetMinHeight&&(d.body().style.minHeight=r.getScreenSize().h+
"px");r.updateOrient();r.detectScreenSize();var c=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},e=function(a){h.forEach(a.getChildren(),function(a){c(a)&&a.resize();e(a)})};b?(b.resize&&b.resize(),e(b)):h.forEach(h.filter(q.toArray(),c),function(a){a.resize()});l.publish("/dojox/mobile/afterResizeAll",[a,b])}};r.openWindow=function(a,b){d.global.open(a,b||"_blank")};r._detectWindowsTheme=function(){navigator.userAgent.match(/IEMobile\/10\.0/)&&c.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},
d.doc.head);var a=function(){f.add(d.doc.documentElement,"windows_theme");g.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.")},b=e("windows-theme");if(void 0!==b)b&&a();else{for(var k,q=function(b){return b&&-1!==b.indexOf("/windows/")?(e.add("windows-theme",!0),a(),!0):!1},h=d.doc.styleSheets,b=0;b<h.length;b++)if(!h[b].href){var l=h[b].cssRules||h[b].imports;if(l)for(k=0;k<l.length;k++)if(q(l[k].href))return}k=d.doc.getElementsByTagName("link");
for(b=0;b<k.length&&!q(k[b].href);b++);}};!1!==p.mblApplyPageStyles&&f.add(d.doc.documentElement,"mobile");e("chrome")&&f.add(d.doc.documentElement,"dj_chrome");if(d.global._no_dojo_dm){k=d.global._no_dojo_dm;for(var t in k)r[t]=k[t];r.deviceTheme.setDm(r)}e.add("mblAndroidWorkaround",!1!==p.mblAndroidWorkaround&&3>e("android"),void 0,!0);e.add("mblAndroid3Workaround",!1!==p.mblAndroid3Workaround&&3<=e("android"),void 0,!0);r._detectWindowsTheme();b(function(){r.detectScreenSize(!0);f.add(d.body(),
"mblBackground");!1!==p.mblAndroidWorkaroundButtonStyle&&e("android")&&c.create("style",{innerHTML:"BUTTON,INPUT[type\x3d'button'],INPUT[type\x3d'submit'],INPUT[type\x3d'reset'],INPUT[type\x3d'file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},d.doc.head,"first");e("mblAndroidWorkaround")&&
c.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},d.doc.head,"last");var a=r.resizeAll;if(!1!==p.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===p.mblForceHideAddressBar)r.hideAddressBar(),!0===p.mblAlwaysHideAddressBar&&(a=r.hideAddressBar);var b=6<=e("ios");if((e("android")||b)&&void 0!==d.global.onorientationchange){var g=a,k,q,h;b?(q=d.doc.documentElement.clientWidth,h=d.doc.documentElement.clientHeight):
(a=function(a){var b=l.connect(null,"onresize",null,function(a){l.disconnect(b);g(a)})},k=r.getScreenSize());l.connect(null,"onresize",null,function(a){if(b){var c=d.doc.documentElement.clientWidth,e=d.doc.documentElement.clientHeight;c==q&&e!=h&&g(a);q=c;h=e}else c=r.getScreenSize(),c.w==k.w&&100<=Math.abs(c.h-k.h)&&g(a),k=c})}l.connect(null,void 0!==d.global.onorientationchange?"onorientationchange":"onresize",null,a);d.body().style.visibility="visible"});return r})},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel",
"dojo/sniff"],function(h,p){h.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");p.add("iphone",p("ios"));return p})},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(h,p,l,k){l=l.doc.documentElement;l.className=p.trim(l.className+" "+[k("bb")?"dj_bb":"",k("android")?"dj_android":"",k("ios")?"dj_ios":"",6<=k("ios")?"dj_ios6":"",k("ios")?"dj_iphone":"",k("ipod")?"dj_ipod":"",k("ipad")?"dj_ipad":"",k("ie")?"dj_ie":""].join(" ").replace(/ +/g,
" "));return h})},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(h,p){if(p.mblCSS3Transition){var l=new h;require([p.mblCSS3Transition],function(k){l.resolve(k)});return l}return null})},"dojox/mobile/ScrollableView":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/registry ./View ./_ScrollableMixin".split(" "),function(h,p,l,k,d,g,f){return p("dojox.mobile.ScrollableView",[g,f],{scrollableParams:null,
keepScrollPos:!1,constructor:function(){this.scrollableParams={noResize:!0}},buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"mblScrollableView");this.domNode.style.overflow="hidden";this.domNode.style.top="0px";this.containerNode=k.create("div",{className:"mblScrollableViewContainer"},this.domNode);this.containerNode.style.position="absolute";this.containerNode.style.top="0px";"v"===this.scrollDir&&(this.containerNode.style.width="100%")},startup:function(){this._started||
(this.fixedFooter&&!this.isLocalFooter&&(this._fixedAppFooter=this.fixedFooter,this.fixedFooter=""),this.reparent(),this.inherited(arguments))},resize:function(){this.inherited(arguments);h.forEach(this.getChildren(),function(c){c.resize&&c.resize()});this._dim=this.getDim();this._conn&&this.resetScrollBar()},isTopLevel:function(c){c=this.getParent&&this.getParent();return!c||!c.resize},addFixedBar:function(c){c=c.domNode;var b=this.checkFixedBar(c,!0);b&&(this.domNode.appendChild(c),"top"===b?(this.fixedHeaderHeight=
c.offsetHeight,this.isLocalHeader=!0):"bottom"===b&&(this.fixedFooterHeight=c.offsetHeight,this.isLocalFooter=!0,c.style.bottom="0px"),this.resize())},reparent:function(){var c,b,a,d;b=c=0;for(a=this.domNode.childNodes.length;c<a;c++)d=this.domNode.childNodes[b],d===this.containerNode||this.checkFixedBar(d,!0)?b++:this.containerNode.appendChild(this.domNode.removeChild(d))},onAfterTransitionIn:function(c,b,a,d,e){this.flashScrollBar()},getChildren:function(){var c=this.inherited(arguments),b;this.fixedHeader&&
this.fixedHeader.parentNode===this.domNode&&(b=d.byNode(this.fixedHeader))&&c.push(b);this.fixedFooter&&this.fixedFooter.parentNode===this.domNode&&(b=d.byNode(this.fixedFooter))&&c.push(b);return c},_addTransitionPaddingTop:function(c){this.domNode.style.paddingTop=c+"px";this.containerNode.style.paddingTop=c+"px"},_removeTransitionPaddingTop:function(){this.domNode.style.paddingTop="";this.containerNode.style.paddingTop=""}})})},"dojox/mobile/_ScrollableMixin":function(){define("dojo/_base/kernel dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dijit/registry ./scrollable".split(" "),
function(h,p,l,k,d,g,f,c,b){return l("dojox.mobile._ScrollableMixin",b,{fixedHeader:"",fixedFooter:"",_fixedAppFooter:"",scrollableParams:null,allowNestedScrolls:!0,appBars:!0,constructor:function(){this.scrollableParams={}},destroy:function(){this.cleanup();this.inherited(arguments)},startup:function(){if(!this._started){this._fixedAppFooter&&(this._fixedAppFooter=g.byId(this._fixedAppFooter));this.findAppBars();var a,b=this.scrollableParams;this.fixedHeader&&(a=g.byId(this.fixedHeader),a.parentNode==
this.domNode&&(this.isLocalHeader=!0),b.fixedHeaderHeight=a.offsetHeight);this.fixedFooter&&(a=g.byId(this.fixedFooter),a.parentNode==this.domNode&&(this.isLocalFooter=!0,a.style.bottom="0px"),b.fixedFooterHeight=a.offsetHeight);this.scrollType=this.scrollType||p.mblScrollableScrollType||0;this.init(b);if(this.allowNestedScrolls)for(a=this.getParent();a;a=a.getParent())if(a&&a.scrollableParams){this.dirLock=!0;a.dirLock=!0;break}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if("none"!==
this.domNode.style.display){var a=d.doc.activeElement;this.isFormElement(a)&&g.isDescendant(a,this.containerNode)&&this.scrollIntoView(a)}});this.inherited(arguments)}},findAppBars:function(){if(this.appBars){var a,b,c;a=0;for(b=d.body().childNodes.length;a<b;a++)c=d.body().childNodes[a],this.checkFixedBar(c,!1);if(this.domNode.parentNode){a=0;for(b=this.domNode.parentNode.childNodes.length;a<b;a++)c=this.domNode.parentNode.childNodes[a],this.checkFixedBar(c,!1)}this.fixedFooterHeight=this.fixedFooter?
this.fixedFooter.offsetHeight:0}},checkFixedBar:function(a,b){if(1===a.nodeType){var e=a.getAttribute("fixed")||a.getAttribute("data-mobile-fixed")||c.byNode(a)&&c.byNode(a).fixed;if("top"===e)return f.add(a,"mblFixedHeaderBar"),b&&(a.style.top="0px",this.fixedHeader=a),e;if("bottom"===e)return f.add(a,"mblFixedBottomBar"),b?this.fixedFooter=a:this._fixedAppFooter=a,e}return null}})})},"dojox/mobile/scrollable":function(){define("dojo/_base/kernel dojo/_base/connect dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/touch ./sniff ./_css3 ./_maskUtils".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r){var t=k.getObject("dojox.mobile",!0);q.add("translate3d",function(){if(q("css3-animations")){var a=d.doc.createElement("div");a.style[e.name("transform")]="translate3d(0px,1px,0px)";d.doc.documentElement.appendChild(a);var b=d.doc.defaultView.getComputedStyle(a,"")[e.name("transform",!0)],b=b&&0===b.indexOf("matrix");d.doc.documentElement.removeChild(a);return b}});var s=function(){};k.extend(s,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:!1,scrollBar:!0,
scrollDir:"v",weight:0.6,fadeScrollBar:!0,disableFlashScrollBar:!1,threshold:4,constraint:!0,touchNode:null,propagatable:!0,dirLock:!1,height:"",scrollType:0,_parentPadBorderExtentsBottom:0,init:function(b){if(b)for(var f in b)b.hasOwnProperty(f)&&(this[f]=("domNode"==f||"containerNode"==f)&&"string"==typeof b[f]?d.doc.getElementById(b[f]):b[f]);"undefined"!=typeof this.domNode.style.msTouchAction&&(this.domNode.style.msTouchAction="none");this.touchNode=this.touchNode||this.containerNode;this._v=
-1!=this.scrollDir.indexOf("v");this._h=-1!=this.scrollDir.indexOf("h");this._f="f"==this.scrollDir;this._ch=[];this._ch.push(p.connect(this.touchNode,a.press,this,"onTouchStart"));if(q("css3-animations"))if(this._useTopLeft=this.scrollType?2===this.scrollType:3>q("android"),this._useTopLeft||(this._useTransformTransition=this.scrollType?3===this.scrollType:6<=q("ios")),this._useTopLeft)this._ch.push(p.connect(this.domNode,e.name("transitionEnd"),this,"onFlickAnimationEnd")),this._ch.push(p.connect(this.domNode,
e.name("transitionStart"),this,"onFlickAnimationStart"));else{if(this._useTransformTransition)this._ch.push(p.connect(this.domNode,e.name("transitionEnd"),this,"onFlickAnimationEnd")),this._ch.push(p.connect(this.domNode,e.name("transitionStart"),this,"onFlickAnimationStart"));else{this._ch.push(p.connect(this.domNode,e.name("animationEnd"),this,"onFlickAnimationEnd"));this._ch.push(p.connect(this.domNode,e.name("animationStart"),this,"onFlickAnimationStart"));for(b=0;3>b;b++)this.setKeyframes(null,
null,b)}q("translate3d")&&c.set(this.containerNode,e.name("transform"),"translate3d(0,0,0)")}this._speed={x:0,y:0};this._appFooterHeight=0;this.isTopLevel()&&!this.noResize&&this.resize();var g=this;setTimeout(function(){g.flashScrollBar()},600);d.global.addEventListener&&(this._onScroll=function(a){if(g.domNode&&"none"!==g.domNode.style.display){a=g.domNode.scrollTop;var b=g.domNode.scrollLeft,c;if(0<a||0<b)c=g.getPos(),g.domNode.scrollLeft=0,g.domNode.scrollTop=0,g.scrollTo({x:c.x-b,y:c.y-a})}},
d.global.addEventListener("scroll",this._onScroll,!0));!this.disableTouchScroll&&this.domNode.addEventListener&&(this._onFocusScroll=function(a){if(g.domNode&&"none"!==g.domNode.style.display){a=d.doc.activeElement;var b,c;a&&(b=a.getBoundingClientRect(),c=g.domNode.getBoundingClientRect(),b.height<g.getDim().d.h&&(b.top<c.top+g.fixedHeaderHeight?g.scrollIntoView(a,!0):b.top+b.height>c.top+c.height-g.fixedFooterHeight&&g.scrollIntoView(a,!1)))}},this.domNode.addEventListener("focus",this._onFocusScroll,
!0))},isTopLevel:function(){return!0},cleanup:function(){if(this._ch){for(var a=0;a<this._ch.length;a++)p.disconnect(this._ch[a]);this._ch=null}this._onScroll&&d.global.removeEventListener&&(d.global.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null);this._onFocusScroll&&this.domNode.removeEventListener&&(this.domNode.removeEventListener("focus",this._onFocusScroll,!0),this._onFocusScroll=null)},findDisp:function(a){if(!a.parentNode)return null;if(1===a.nodeType&&g.contains(a,"mblSwapView")&&
"none"!==a.style.display)return a;for(var b=a.parentNode.childNodes,c=0;c<b.length;c++){var e=b[c];if(1===e.nodeType&&g.contains(e,"mblView")&&"none"!==e.style.display)return e}return a},getScreenSize:function(){return{h:d.global.innerHeight||d.doc.documentElement.clientHeight||d.doc.documentElement.offsetHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth||d.doc.documentElement.offsetWidth}},resize:function(a){this._appFooterHeight=this._fixedAppFooter?this._fixedAppFooter.offsetHeight:
0;this.isLocalHeader&&(this.containerNode.style.marginTop=this.fixedHeaderHeight+"px");var c=0;for(a=this.domNode;a&&"BODY"!=a.tagName;a=a.offsetParent){a=this.findDisp(a);if(!a)break;c+=a.offsetTop+b.getBorderExtents(a).h}var e;a=this.getScreenSize().h;c=a-c-this._appFooterHeight;if("inherit"===this.height)this.domNode.offsetParent&&(e=b.getContentBox(this.domNode.offsetParent).h-b.getBorderExtents(this.domNode).h+"px");else if("auto"===this.height){if(e=this.domNode.offsetParent){this.domNode.style.height=
"0px";e=e.getBoundingClientRect();var c=this.domNode.getBoundingClientRect(),d=e.bottom-this._appFooterHeight-this._parentPadBorderExtentsBottom,c=c.bottom>=d?a-(c.top-e.top)-this._appFooterHeight-this._parentPadBorderExtentsBottom:d-c.bottom}a=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);e=(a?Math.min(a,c):c)+"px"}else this.height&&(e=this.height);e||(e=c+"px");"-"!==e.charAt(0)&&"default"!==e&&(this.domNode.style.height=e);if(!this._conn)this.onTouchEnd()},onFlickAnimationStart:function(a){l.stop(a)},
onFlickAnimationEnd:function(a){q("ios")&&this._keepInputCaretInActiveElement();if(a){var b=a.animationName;if(b&&-1===b.indexOf("scrollableViewScroll2")){-1!==b.indexOf("scrollableViewScroll0")?this._scrollBarNodeV&&g.remove(this._scrollBarNodeV,"mblScrollableScrollTo0"):-1!==b.indexOf("scrollableViewScroll1")?this._scrollBarNodeH&&g.remove(this._scrollBarNodeH,"mblScrollableScrollTo1"):(this._scrollBarNodeV&&(this._scrollBarNodeV.className=""),this._scrollBarNodeH&&(this._scrollBarNodeH.className=
""));return}if(this._useTransformTransition||this._useTopLeft)if(b=a.target,b===this._scrollBarV||b===this._scrollBarH){a="mblScrollableScrollTo"+(b===this._scrollBarV?"0":"1");g.contains(b,a)?g.remove(b,a):b.className="";return}a.srcElement&&l.stop(a)}this.stopAnimation();if(this._bounce){var c=this,e=c._bounce;setTimeout(function(){c.slideTo(e,0.3,"ease-out")},0);c._bounce=void 0}else this.hideScrollBar(),this.removeCover()},isFormElement:function(a){a&&1!==a.nodeType&&(a=a.parentNode);if(!a||1!==
a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a},onTouchStart:function(b){!this.disableTouchScroll&&!(this._conn&&500>(new Date).getTime()-this.startTime)&&(this._conn||(this._conn=[],this._conn.push(p.connect(d.doc,a.move,this,"onTouchMove")),this._conn.push(p.connect(d.doc,a.release,this,"onTouchEnd"))),this._aborted=!1,g.contains(this.containerNode,"mblScrollableScrollTo2")?this.abort():(this._scrollBarNodeV&&(this._scrollBarNodeV.className=""),this._scrollBarNodeH&&
(this._scrollBarNodeH.className="")),this.touchStartX=b.touches?b.touches[0].pageX:b.clientX,this.touchStartY=b.touches?b.touches[0].pageY:b.clientY,this.startTime=(new Date).getTime(),this.startPos=this.getPos(),this._dim=this.getDim(),this._time=[0],this._posX=[this.touchStartX],this._posY=[this.touchStartY],this._locked=!1,this.isFormElement(b.target)||(this.propagatable?b.preventDefault():l.stop(b)))},onTouchMove:function(a){if(!this._locked){var b=a.touches?a.touches[0].pageX:a.clientX;a=a.touches?
a.touches[0].pageY:a.clientY;var c=b-this.touchStartX,e=a-this.touchStartY,d={x:this.startPos.x+c,y:this.startPos.y+e},f=this._dim,c=Math.abs(c),e=Math.abs(e);if(1==this._time.length){if(this.dirLock&&(this._v&&!this._h&&c>=this.threshold&&c>=e||(this._h||this._f)&&!this._v&&e>=this.threshold&&e>=c)){this._locked=!0;return}if(this._v&&this._h){if(e<this.threshold&&c<this.threshold)return}else if(this._v&&e<this.threshold||(this._h||this._f)&&c<this.threshold)return;this.addCover();this.showScrollBar()}c=
this.weight;this._v&&this.constraint&&(0<d.y?d.y=Math.round(d.y*c):d.y<-f.o.h&&(d.y=f.c.h<f.d.h?Math.round(d.y*c):-f.o.h-Math.round((-f.o.h-d.y)*c)));if((this._h||this._f)&&this.constraint)0<d.x?d.x=Math.round(d.x*c):d.x<-f.o.w&&(d.x=f.c.w<f.d.w?Math.round(d.x*c):-f.o.w-Math.round((-f.o.w-d.x)*c));this.scrollTo(d);d=this._time.length;if(2<=d){var g,k;this._v&&!this._h?(g=this._posY[d-1]-this._posY[d-2],k=a-this._posY[d-1]):!this._v&&this._h&&(g=this._posX[d-1]-this._posX[d-2],k=b-this._posX[d-1]);
0>g*k&&(this._time=[this._time[d-1]],this._posX=[this._posX[d-1]],this._posY=[this._posY[d-1]],d=1)}10==d&&(this._time.shift(),this._posX.shift(),this._posY.shift());this._time.push((new Date).getTime()-this.startTime);this._posX.push(b);this._posY.push(a)}},_keepInputCaretInActiveElement:function(){var a=d.doc.activeElement,b;if(a&&("INPUT"==a.tagName||"TEXTAREA"==a.tagName))b=a.value,a.value="number"==a.type||"week"==a.type?b?a.value+1:"week"==a.type?"2013-W10":1:a.value+" ",a.value=b},_fingerMovedSinceTouchStart:function(){var a=
this._time.length;return 1>=a||2==a&&4>Math.abs(this._posY[1]-this._posY[0])&&q("touch")?!1:!0},onTouchEnd:function(a){if(!this._locked){var b=this._speed={x:0,y:0},c=this._dim,e=this.getPos(),d={};if(a){if(!this._conn)return;for(b=0;b<this._conn.length;b++)p.disconnect(this._conn[b]);this._conn=null;b=!1;!this._aborted&&!this._fingerMovedSinceTouchStart()&&(b=!0);if(b){this.hideScrollBar();this.removeCover();if(q("touch")&&q("clicks-prevented")&&!this.isFormElement(a.target)){var f=a.target;1!=f.nodeType&&
(f=f.parentNode);setTimeout(function(){t._sendClick(f,a)})}return}b=this._speed=this.getSpeed()}else{if(0==e.x&&0==e.y)return;c=this.getDim()}this._v&&(d.y=e.y+b.y);if(this._h||this._f)d.x=e.x+b.x;if(!1!==this.adjustDestination(d,e,c)){if(this.constraint){if("v"==this.scrollDir&&c.c.h<c.d.h){this.slideTo({y:0},0.3,"ease-out");return}if("h"==this.scrollDir&&c.c.w<c.d.w){this.slideTo({x:0},0.3,"ease-out");return}if(this._v&&this._h&&c.c.h<c.d.h&&c.c.w<c.d.w){this.slideTo({x:0,y:0},0.3,"ease-out");return}}var g,
k="ease-out",h={};this._v&&this.constraint&&(0<d.y?0<e.y?(g=0.3,d.y=0):(d.y=Math.min(d.y,20),k="linear",h.y=0):-b.y>c.o.h- -e.y&&(e.y<-c.o.h?(g=0.3,d.y=c.c.h<=c.d.h?0:-c.o.h):(d.y=Math.max(d.y,-c.o.h-20),k="linear",h.y=-c.o.h)));if((this._h||this._f)&&this.constraint)0<d.x?0<e.x?(g=0.3,d.x=0):(d.x=Math.min(d.x,20),k="linear",h.x=0):-b.x>c.o.w- -e.x&&(e.x<-c.o.w?(g=0.3,d.x=c.c.w<=c.d.w?0:-c.o.w):(d.x=Math.max(d.x,-c.o.w-20),k="linear",h.x=-c.o.w));this._bounce=void 0!==h.x||void 0!==h.y?h:void 0;if(void 0===
g){var l,s;this._v&&this._h?(s=Math.sqrt(b.x*b.x+b.y*b.y),l=Math.sqrt(Math.pow(d.y-e.y,2)+Math.pow(d.x-e.x,2))):this._v?(s=b.y,l=d.y-e.y):this._h&&(s=b.x,l=d.x-e.x);if(0===l&&!a)return;g=0!==s?Math.abs(l/s):0.01}this.slideTo(d,g,k)}}},adjustDestination:function(a,b,c){return!0},abort:function(){this._aborted=!0;this.scrollTo(this.getPos());this.stopAnimation()},_forceRendering:function(a){if(4.1<=q("android")){var b=a.style.display;a.style.display="none";a.offsetHeight;a.style.display=b}},stopAnimation:function(){this._forceRendering(this.containerNode);
g.remove(this.containerNode,"mblScrollableScrollTo2");this._scrollBarV&&(this._scrollBarV.className="",this._forceRendering(this._scrollBarV));this._scrollBarH&&(this._scrollBarH.className="",this._forceRendering(this._scrollBarH));if(this._useTransformTransition||this._useTopLeft)this.containerNode.style[e.name("transition")]="",this._scrollBarV&&(this._scrollBarV.style[e.name("transition")]=""),this._scrollBarH&&(this._scrollBarH.style[e.name("transition")]="")},scrollIntoView:function(a,b,c){if(this._v){for(var e=
this.containerNode,d=this.getDim().d.h,f=0,g=a;g!==e;g=g.offsetParent){if(!g||"BODY"===g.tagName)return;f+=g.offsetTop}a=b?Math.max(d-e.offsetHeight,-f):Math.min(0,d-f-a.offsetHeight);c&&"number"===typeof c?this.slideTo({y:a},c,"ease-out"):this.scrollTo({y:a})}},getSpeed:function(){var a=0,b=0,c=this._time.length;if(2<=c&&500>(new Date).getTime()-this.startTime-this._time[c-1])var a=this._posX[c-(3<c?2:1)]-this._posX[0<=c-6?c-6:0],e=this._time[c-(3<c?2:1)]-this._time[0<=c-6?c-6:0],b=this.calcSpeed(this._posY[c-
(3<c?2:1)]-this._posY[0<=c-6?c-6:0],e),a=this.calcSpeed(a,e);return{x:a,y:b}},calcSpeed:function(a,b){return 4*Math.round(100*(a/b))},scrollTo:function(a,b,c){var d,f;f=!0;!this._aborted&&this._conn&&(this._dim||(this._dim=this.getDim()),d=0<a.y?a.y:0,f=0>this._dim.o.h+a.y?-1*(this._dim.o.h+a.y):0,d={bubbles:!1,cancelable:!1,x:a.x,y:a.y,beforeTop:0<d,beforeTopHeight:d,afterBottom:0<f,afterBottomHeight:f},f=this.onBeforeScroll(d));if(f){c=(c||this.containerNode).style;if(q("css3-animations"))if(this._useTopLeft){if(c[e.name("transition")]=
"",this._v&&(c.top=a.y+"px"),this._h||this._f)c.left=a.x+"px"}else this._useTransformTransition&&(c[e.name("transition")]=""),c[e.name("transform")]=this.makeTranslateStr(a);else if(this._v&&(c.top=a.y+"px"),this._h||this._f)c.left=a.x+"px";q("ios")&&this._keepInputCaretInActiveElement();b||this.scrollScrollBarTo(this.calcScrollBarPos(a));if(d)this.onAfterScroll(d)}},onBeforeScroll:function(a){return!0},onAfterScroll:function(a){},slideTo:function(a,b,c){this._runSlideAnimation(this.getPos(),a,b,
c,this.containerNode,2);this.slideScrollBarTo(a,b,c)},makeTranslateStr:function(a){var b=this._v&&"number"==typeof a.y?a.y+"px":"0px";a=(this._h||this._f)&&"number"==typeof a.x?a.x+"px":"0px";return q("translate3d")?"translate3d("+a+","+b+",0px)":"translate("+a+","+b+")"},getPos:function(){if(q("css3-animations")){var a=d.doc.defaultView.getComputedStyle(this.containerNode,"");if(this._useTopLeft)return{x:parseInt(a.left)||0,y:parseInt(a.top)||0};var b=a[e.name("transform")];return b&&0===b.indexOf("matrix")?
(a=b.split(/[,\s\)]+/),b=0===b.indexOf("matrix3d")?12:4,{y:a[b+1]-0,x:a[b]-0}):{x:0,y:0}}return{y:parseInt(this.containerNode.style.top)||0,x:this.containerNode.offsetLeft}},getDim:function(){var a={};a.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};a.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};a.d={h:a.v.h-this.fixedHeaderHeight-this.fixedFooterHeight-this._appFooterHeight,w:a.v.w};a.o={h:a.c.h-a.v.h+this.fixedHeaderHeight+this.fixedFooterHeight+
this._appFooterHeight,w:a.c.w-a.v.w};return a},showScrollBar:function(){if(this.scrollBar){var a=this._dim;if(!("v"==this.scrollDir&&a.c.h<=a.d.h)&&!("h"==this.scrollDir&&a.c.w<=a.d.w)&&(!this._v||!this._h||!(a.c.h<=a.d.h&&a.c.w<=a.d.w)))a=function(a,b){var d=a["_scrollBarNode"+b];if(!d){var d=f.create("div",null,a.domNode),g={position:"absolute",overflow:"hidden"};"V"==b?(g.right="2px",g.width="5px"):(g.bottom=(a.isLocalFooter?a.fixedFooterHeight:0)+2+"px",g.height="5px");c.set(d,g);d.className=
"mblScrollBarWrapper";a["_scrollBarWrapper"+b]=d;d=f.create("div",null,d);c.set(d,e.add({opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",MozBorderRadius:"2px",zIndex:2147483647},{borderRadius:"2px",transformOrigin:"0 0"}));c.set(d,"V"==b?{width:"5px"}:{height:"5px"});a["_scrollBarNode"+b]=d}return d},this._v&&!this._scrollBarV&&(this._scrollBarV=a(this,"V")),this._h&&!this._scrollBarH&&(this._scrollBarH=a(this,"H")),this.resetScrollBar()}},hideScrollBar:function(){if(this.fadeScrollBar&&
q("css3-animations")&&!t._fadeRule){var a=f.create("style",null,d.doc.getElementsByTagName("head")[0]);a.textContent=".mblScrollableFadeScrollBar{  "+e.name("animation-duration",!0)+": 1s;  "+e.name("animation-name",!0)+": scrollableViewFadeScrollBar;}@"+e.name("keyframes",!0)+" scrollableViewFadeScrollBar{  from { opacity: 0.6; }  to { opacity: 0; }}";t._fadeRule=a.sheet.cssRules[1]}this.scrollBar&&(a=function(a,b){c.set(a,e.add({opacity:0},{animationDuration:""}));if(!b._useTopLeft||!q("android"))a.className=
"mblScrollableFadeScrollBar"},this._scrollBarV&&(a(this._scrollBarV,this),this._scrollBarV=null),this._scrollBarH&&(a(this._scrollBarH,this),this._scrollBarH=null))},calcScrollBarPos:function(a){var b={},c=this._dim,e=function(a,b,c,e,d){c=Math.round((e-b-8)/(e-d)*c);c<-b+5&&(c=-b+5);c>a-5&&(c=a-5);return c};"number"==typeof a.y&&this._scrollBarV&&(b.y=e(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,a.y,c.d.h,c.c.h));"number"==typeof a.x&&this._scrollBarH&&(b.x=e(this._scrollBarWrapperH.offsetWidth,
this._scrollBarH.offsetWidth,a.x,c.d.w,c.c.w));return b},scrollScrollBarTo:function(a){this.scrollBar&&(this._v&&(this._scrollBarV&&"number"==typeof a.y)&&(q("css3-animations")?this._useTopLeft?c.set(this._scrollBarV,e.add({top:a.y+"px"},{transition:""})):(this._useTransformTransition&&(this._scrollBarV.style[e.name("transition")]=""),this._scrollBarV.style[e.name("transform")]=this.makeTranslateStr({y:a.y})):this._scrollBarV.style.top=a.y+"px"),this._h&&(this._scrollBarH&&"number"==typeof a.x)&&
(q("css3-animations")?this._useTopLeft?c.set(this._scrollBarH,e.add({left:a.x+"px"},{transition:""})):(this._useTransformTransition&&(this._scrollBarH.style[e.name("transition")]=""),this._scrollBarH.style[e.name("transform")]=this.makeTranslateStr({x:a.x})):this._scrollBarH.style.left=a.x+"px"))},slideScrollBarTo:function(a,b,c){if(this.scrollBar){var e=this.calcScrollBarPos(this.getPos());a=this.calcScrollBarPos(a);this._v&&this._scrollBarV&&this._runSlideAnimation({y:e.y},{y:a.y},b,c,this._scrollBarV,
0);this._h&&this._scrollBarH&&this._runSlideAnimation({x:e.x},{x:a.x},b,c,this._scrollBarH,1)}},_runSlideAnimation:function(a,b,d,f,k,l){if(q("css3-animations"))if(this._useTopLeft)c.set(k,e.add({},{transitionProperty:"top, left",transitionDuration:d+"s",transitionTimingFunction:f})),setTimeout(function(){c.set(k,{top:(b.y||0)+"px",left:(b.x||0)+"px"})},0),g.add(k,"mblScrollableScrollTo"+l);else if(this._useTransformTransition)if(void 0===b.x&&(b.x=a.x),void 0===b.y&&(b.y=a.y),b.x!==a.x||b.y!==a.y){c.set(k,
e.add({},{transitionProperty:e.name("transform"),transitionDuration:d+"s",transitionTimingFunction:f}));var s=this.makeTranslateStr(b);setTimeout(function(){c.set(k,e.add({},{transform:s}))},0);g.add(k,"mblScrollableScrollTo"+l)}else this.hideScrollBar(),this.removeCover();else this.setKeyframes(a,b,l),c.set(k,e.add({},{animationDuration:d+"s",animationTimingFunction:f})),g.add(k,"mblScrollableScrollTo"+l),2==l?this.scrollTo(b,!0,k):this.scrollScrollBarTo(b);else h.fx&&h.fx.easing&&d?(a=h.fx.slideTo({node:k,
duration:1E3*d,left:b.x,top:b.y,easing:"ease-out"==f?h.fx.easing.quadOut:h.fx.easing.linear}).play(),2==l&&p.connect(a,"onEnd",this,"onFlickAnimationEnd")):2==l?(this.scrollTo(b,!1,k),this.onFlickAnimationEnd()):this.scrollScrollBarTo(b)},resetScrollBar:function(){var a=function(a,b,e,d,f,g){if(b){var n={};n[g?"top":"left"]=f+4+"px";f=0>=e-8?1:e-8;n[g?"height":"width"]=f+"px";c.set(a,n);a=Math.round(e*e/d);a=Math.min(Math.max(a-8,5),f);b.style[g?"height":"width"]=a+"px";c.set(b,{opacity:0.6})}},b=
this.getDim();a(this._scrollBarWrapperV,this._scrollBarV,b.d.h,b.c.h,this.fixedHeaderHeight,!0);a(this._scrollBarWrapperH,this._scrollBarH,b.d.w,b.c.w,0);this.createMask()},createMask:function(){if(q("webkit")||q("svg"))this._scrollBarWrapperV&&r.createRoundMask(this._scrollBarWrapperV,0,0,0,0,5,this._scrollBarWrapperV.offsetHeight,2,2,0.5),this._scrollBarWrapperH&&r.createRoundMask(this._scrollBarWrapperH,0,0,0,0,this._scrollBarWrapperH.offsetWidth,5,2,2,0.5)},flashScrollBar:function(){if(!this.disableFlashScrollBar&&
this.domNode&&(this._dim=this.getDim(),!(0>=this._dim.d.h))){this.showScrollBar();var a=this;setTimeout(function(){a.hideScrollBar()},300)}},addCover:function(){!q("touch")&&!this.noCover&&(t._cover?t._cover.style.display="":(t._cover=f.create("div",null,d.doc.body),t._cover.className="mblScrollableCover",c.set(t._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2147483647}),this._ch.push(p.connect(t._cover,a.press,this,"onTouchEnd"))),
this.setSelectable(t._cover,!1),this.setSelectable(this.domNode,!1))},removeCover:function(){!q("touch")&&t._cover&&(t._cover.style.display="none",this.setSelectable(t._cover,!0),this.setSelectable(this.domNode,!0))},setKeyframes:function(a,b,c){t._rule||(t._rule=[]);if(!t._rule[c]){var g=f.create("style",null,d.doc.getElementsByTagName("head")[0]);g.textContent=".mblScrollableScrollTo"+c+"{"+e.name("animation-name",!0)+": scrollableViewScroll"+c+";}@"+e.name("keyframes",!0)+" scrollableViewScroll"+
c+"{}";t._rule[c]=g.sheet.cssRules[1]}if(c=t._rule[c])a&&(c.deleteRule(q("webkit")?"from":0),(c.insertRule||c.appendRule).call(c,"from { "+e.name("transform",!0)+": "+this.makeTranslateStr(a)+"; }")),b&&(void 0===b.x&&(b.x=a.x),void 0===b.y&&(b.y=a.y),c.deleteRule(q("webkit")?"to":1),(c.insertRule||c.appendRule).call(c,"to { "+e.name("transform",!0)+": "+this.makeTranslateStr(b)+"; }"))},setSelectable:function(a,b){a.style.KhtmlUserSelect=b?"auto":"none";a.style.MozUserSelect=b?"":"none";a.onselectstart=
b?null:function(){return!1};if(q("ie")){a.unselectable=b?"":"on";for(var c=a.getElementsByTagName("*"),e=0;e<c.length;e++)c[e].unselectable=b?"":"on"}}});k.setObject("dojox.mobile.scrollable",s);return s})},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(h,p,l){var k={};return{createRoundMask:function(d,g,f,c,b,a,q,e,r,t){c=g+a+c;var s=f+q+b;if(l("webkit"))b=("DojoMobileMask"+g+f+a+q+e+r).replace(/\./g,"_"),k[b]||(k[b]=1,c=h.doc.getCSSCanvasContext("2d",
b,c,s),c.beginPath(),e==r?2==e&&5==a?(c.fillStyle="rgba(0,0,0,0.5)",c.fillRect(1,0,3,2),c.fillRect(0,1,5,1),c.fillRect(0,q-2,5,1),c.fillRect(1,q-1,3,2),c.fillStyle="rgb(0,0,0)",c.fillRect(0,2,5,q-4)):2==e&&5==q?(c.fillStyle="rgba(0,0,0,0.5)",c.fillRect(0,1,2,3),c.fillRect(1,0,1,5),c.fillRect(a-2,0,1,5),c.fillRect(a-1,1,2,3),c.fillStyle="rgb(0,0,0)",c.fillRect(2,0,a-4,5)):(c.fillStyle="#000000",c.moveTo(g+e,f),c.arcTo(g,f,g,f+e,e),c.lineTo(g,f+q-e),c.arcTo(g,f+q,g+e,f+q,e),c.lineTo(g+a-e,f+q),c.arcTo(g+
a,f+q,g+a,f+e,e),c.lineTo(g+a,f+e),c.arcTo(g+a,f,g+a-e,f,e)):(q=Math.PI,c.scale(1,r/e),c.moveTo(g+e,f),c.arc(g+e,f+e,e,1.5*q,0.5*q,!0),c.lineTo(g+a-e,f+2*e),c.arc(g+a-e,f+e,e,0.5*q,1.5*q,!0)),c.closePath(),c.fill()),d.style.webkitMaskImage="-webkit-canvas("+b+")";else if(l("svg")){d._svgMask&&d.removeChild(d._svgMask);for(var n=null,v=d.parentNode;v&&(!(n=p.getComputedStyle(v).backgroundColor)||"transparent"==n||n.match(/rgba\(.*,\s*0\s*\)/));v=v.parentNode);v=h.doc.createElementNS("http://www.w3.org/2000/svg",
"svg");v.setAttribute("width",c);v.setAttribute("height",s);v.style.position="absolute";v.style.pointerEvents="none";v.style.opacity="1";v.style.zIndex="2147483647";s=h.doc.createElementNS("http://www.w3.org/2000/svg","path");t=t||0;e+=t;r+=t;g=" M"+(g+e-t)+","+(f-t)+" a"+e+","+r+" 0 0,0 "+-e+","+r+" v"+-r+" h"+e+" Z M"+(g-t)+","+(f+q-r+t)+" a"+e+","+r+" 0 0,0 "+e+","+r+" h"+-e+" v"+-r+" z M"+(g+a-e+t)+","+(f+q+t)+" a"+e+","+r+" 0 0,0 "+e+","+-r+" v"+r+" h"+-e+" z M"+(g+a+t)+","+(f+r-t)+" a"+e+","+
r+" 0 0,0 "+-e+","+-r+" h"+e+" v"+r+" z";0<f&&(g+=" M0,0 h"+c+" v"+f+" h"+-c+" z");0<b&&(g+=" M0,"+(f+q)+" h"+c+" v"+b+" h"+-c+" z");s.setAttribute("d",g);s.setAttribute("fill",n);s.setAttribute("stroke",n);s.style.opacity="1";v.appendChild(s);d._svgMask=v;d.appendChild(v)}}}})},"dojox/mobile/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dijit/_WidgetBase dijit/form/_FormValueMixin dijit/form/_TextBoxMixin dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/TextBox".split(" "),function(h,
p,l,k,d,g,f){l=h(g("dojo-bidi")?"dojox.mobile.NonBidiTextBox":"dojox.mobile.TextBox",[l,k,d],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(c){c=this._cv?this._cv(c):c;this._set("placeHolder",c);this.textbox.setAttribute("placeholder",c)},buildRendering:function(){this.srcNodeRef||(this.srcNodeRef=p.create("input",{type:this.type}));this.inherited(arguments);this.textbox=this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,
"onmouseup",function(){this._mouseIsDown=!1});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=!0});this.connect(this.textbox,"onfocus",function(c){this._onFocus(this._mouseIsDown?"mouse":c);this._mouseIsDown=!1});this.connect(this.textbox,"onblur","_onBlur")}});return g("dojo-bidi")?h("dojox.mobile.TextBox",[l,f]):l})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(h,
p,l,k,d,g,f){return h("dijit.form._FormValueMixin",f,{readOnly:!1,_setReadOnlyAttr:function(c){p.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(c,b){this._handleOnChange(c,b)},_handleOnChange:function(c,b){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(h,p,l,k,d,g,f,c,b,a){return p("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",
b);l.set(this.focusNode,"disabled",b);this.valueNode&&l.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",h.forEach(d.isArray(b)?b:[b],function(b){b=this[b];c("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",
this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(f(this.focusNode,"focus",function(){g.remove();c.remove()}))[0],g=this.own(f(this.ownerDocumentBody,"mouseup, touchend",d.hitch(this,function(a){g.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=k.get(this.domNode,
"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,
this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},
"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(h,p,l,k,d,g,f,c){var b=p("dijit.form._TextBoxMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=
typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),
void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(f(this.textbox,"keydown, keypress, paste, cut, input, compositionend",g.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case d.SHIFT:case d.ALT:case d.CTRL:case d.META:case d.CAPS_LOCK:case d.NUM_LOCK:case d.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case d.NUMPAD_0:case d.NUMPAD_1:case d.NUMPAD_2:case d.NUMPAD_3:case d.NUMPAD_4:case d.NUMPAD_5:case d.NUMPAD_6:case d.NUMPAD_7:case d.NUMPAD_8:case d.NUMPAD_9:case d.NUMPAD_MULTIPLY:case d.NUMPAD_PLUS:case d.NUMPAD_ENTER:case d.NUMPAD_MINUS:case d.NUMPAD_PERIOD:case d.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==d.SPACE)return;b=!1;for(var c in d)if(d[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==d.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},k;for(k in a)"layerX"!=k&&"layerY"!=k&&(c=a[k],"function"!=typeof c&&"undefined"!=typeof c&&(f[k]=c));g.mixin(f,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||(this.defer(function(){this._onInput(f)}),"keypress"==a.type&&a.stopPropagation())})))},_blankValue:"",filter:function(a){if(null===
a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=g.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},
_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=f.once(this.domNode,"mouseup, touchend",g.hitch(this,function(a){this._isTextSelected()||b.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});
k("dojo-bidi")&&(b=p("dijit.form._TextBoxMixin",b,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));b._setSelectionRange=c._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};b.selectInputText=c.selectInputText=function(a,c,e){a=l.byId(a);isNaN(c)&&(c=0);
isNaN(e)&&(e=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,c,e)}catch(d){}};return b})},"dojox/mobile/Button":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/form/_ButtonMixin dijit/form/_FormWidgetMixin dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/Button".split(" "),function(h,p,l,k,d,g,f,c,b){d=p(c("dojo-bidi")?"dojox.mobile.NonBidiButton":"dojox.mobile.Button",[d,f,g],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,
_onClick:function(a){var b=this.inherited(arguments);if(b&&0<=this.duration){var c=this.focusNode||this.domNode,d=(this.baseClass+" "+this["class"]).split(" "),d=h.map(d,function(a){return a+"Selected"});l.add(c,d);this.defer(function(){l.remove(c,d)},this.duration)}return b},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var a=this.srcNodeRef.firstChild;a&&3===a.nodeType&&(a.nodeValue=this._cv(a.nodeValue))}}else this.srcNodeRef=k.create("button",{type:this.type});
this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(a){this.inherited(arguments,[this._cv?this._cv(a):a])}});return c("dojo-bidi")?p("dojox.mobile.Button",[d,b]):d})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(h,p,l,k){var d=h("dijit.form._ButtonMixin"+(l("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",
__onClick:function(d){d.stopPropagation();d.preventDefault();this.disabled||this.valueNode.click(d);return!1},_onClick:function(d){if(this.disabled)return d.stopPropagation(),d.preventDefault(),!1;!1===this.onClick(d)&&d.preventDefault();cancelled=d.defaultPrevented;if(!cancelled&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var c=k.byNode(f);if(c&&"function"==typeof c._onSubmit){c._onSubmit(d);d.preventDefault();cancelled=!0;break}}return!cancelled},
postCreate:function(){this.inherited(arguments);p.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(d){this._set("label",d);(this.containerNode||this.focusNode).innerHTML=d}});l("dojo-bidi")&&(d=h("dijit.form._ButtonMixin",d,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return d})},"dojox/layout/TableContainer":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/array dojo/dom-prop dojo/dom-style dijit/_WidgetBase dijit/layout/_LayoutWidget".split(" "),
function(h,p,l,k,d,g,f,c,b,a){h.experimental("dojox.layout.TableContainer");h=l("dojox.layout.TableContainer",a,{cols:1,labelWidth:"100",showLabels:!0,orientation:"horiz",spacing:1,customClass:"",postCreate:function(){this.inherited(arguments);this._children=[];this.connect(this,"set",function(a,b){b&&("orientation"==a||"customClass"==a||"cols"==a)&&this.layout()})},startup:function(){if(!this._started&&(this.inherited(arguments),!this._initialized)){var a=this.getChildren();1>a.length||(this._initialized=
!0,k.add(this.domNode,"dijitTableLayout"),g.forEach(a,function(a){!a.started&&!a._started&&a.startup()}),this.layout(),this.resize())}},resize:function(){g.forEach(this.getChildren(),function(a){"function"==typeof a.resize&&a.resize()})},layout:function(){function a(b,c,e){if(""!=l.customClass){var d=l.customClass+"-"+(c||b.tagName.toLowerCase());k.add(b,d);2<arguments.length&&k.add(b,d+"-"+e)}}if(this._initialized){var b=this.getChildren(),h={},l=this;g.forEach(this._children,p.hitch(this,function(a){h[a.id]=
a}));g.forEach(b,p.hitch(this,function(a,b){h[a.id]||this._children.push(a)}));var s=d.create("table",{width:"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,cellspacing:this.spacing},this.domNode),n=d.create("tbody");s.appendChild(n);a(s,"table",this.orientation);var v=d.create("tr",{},n),u=!this.showLabels||"horiz"==this.orientation?v:d.create("tr",{},n),y=this.cols*(this.showLabels?2:1),w=0;g.forEach(this._children,p.hitch(this,function(b,e){var g=b.colspan||1;1<g&&
(g=this.showLabels?Math.min(y-1,2*g-1):Math.min(y,g));if(w+g-1+(this.showLabels?1:0)>=y)w=0,v=d.create("tr",{},n),u="horiz"==this.orientation?v:d.create("tr",{},n);var k;if(this.showLabels)if(k=d.create("td",{"class":"tableContainer-labelCell"},v),b.spanLabel)f.set(k,"vert"==this.orientation?"rowspan":"colspan",2);else{a(k,"labelCell");var h={"for":b.get("id")},h=d.create("label",h,k);if(-1<Number(this.labelWidth)||-1<String(this.labelWidth).indexOf("%"))c.set(k,"width",0>String(this.labelWidth).indexOf("%")?
this.labelWidth+"px":this.labelWidth);h.innerHTML=b.get("label")||b.get("title")}k=b.spanLabel&&k?k:d.create("td",{"class":"tableContainer-valueCell"},u);1<g&&f.set(k,"colspan",g);a(k,"valueCell",e);k.appendChild(b.domNode);w+=g+(this.showLabels?1:0)}));this.table&&this.table.parentNode.removeChild(this.table);g.forEach(b,function(a){"function"==typeof a.layout&&a.layout()});this.table=s;this.resize()}},destroyDescendants:function(a){g.forEach(this._children,function(b){b.destroyRecursive(a)})},_setSpacingAttr:function(a){this.spacing=
a;this.table&&(this.table.cellspacing=Number(a))}});h.ChildWidgetProperties={label:"",title:"",spanLabel:!1,colspan:1};p.extend(b,h.ChildWidgetProperties);return h})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(h,p,l,k,d,g,f,c,b){return g("dijit.layout._LayoutWidget",[p,l,k],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);
f.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(d.on("resize",h.hitch(this,"resize")))}},resize:function(a,d){var e=this.domNode;a&&c.setMarginBox(e,a);var f=d||{};h.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=h.mixin(c.getMarginBox(e),f);var g=b.getComputedStyle(e),k=c.getMarginExtents(e,g),n=c.getBorderExtents(e,g),f=this._borderBox={w:f.w-(k.w+n.w),h:f.h-
(k.h+n.h)},k=c.getPadExtents(e,g);this._contentBox={l:b.toPixelValue(e,g.paddingLeft),t:b.toPixelValue(e,g.paddingTop),w:f.w-k.w,h:f.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){f.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){f.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},
"moch/app/mobile":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/on moch/app/_base dojox/mobile/ViewController".split(" "),function(h,p,l,k,d,g){var f=g.getInstance(),c=h([d.getBaseClass()],{online:!1,login_view:"login_view",constructor:function(){var a=this;l(function(){k(document,"online",p.hitch(a,a.onOnline));k(document,"offline",p.hitch(a,a.onOffine))})},notification:function(a,b,c,d){navigator.notification&&"function"==typeof navigator.notification.alert?navigator.notification.alert(a,
b,c,d):this.confirm(c+":"+a).then(function(a){!0==a&&"function"==typeof b&&b()})},onUserLogin:function(){var a=f.findTransitionViews(this.login_view);if(3==a.length){var b=a[0],a=a[1];null!=b&&(null!=a&&b.id!=a.id)&&b.performTransition(a.id,1,"coverv")}},onOnline:function(a){this.log("we are now online")},onOffline:function(a){this.log("we are now offline")}}),b;d.getInstance=function(){b||(b=new c(d._init));return b};return d})},"moch/app/_base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/config dojo/_base/array dojo/_base/Deferred dojo/json dojo/ready dojo/on dojo/topic dojo/cookie dojo/store/JsonRest dojo/store/Memory dojo/store/Cache dojo/store/Observable moch/data/ObjectStore dojo/rpc/JsonService moch/mochx/EventSource dojo/has dojo/_base/sniff".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u){var y=null,w="/service";"string"==typeof l.service_uri&&(w=l.service_uri);null===l.service_uri&&(w=null);var x=h(null,{loggedin:!1,domain_name:null,auto_login:!1,last_status:{},_domain_ready:!1,_user_ready:!1,_login_wait:!1,_service_rpc:null,_user_config:{},_action_allows:{},_poll_interval:6E5,_stores:{},constructor:function(a){if(null!=y)throw Error("only one instance are allowed at a time, of the application class");8>u("ie")&&alert("Your Internet Explorer is too old, please upgrade to the latest");
p.mixin(this,a);a="Essens";l.title&&(a=l.title);window.document.title=a;if("string"==typeof w){this._domain_open();b.subscribe("moch/loggedin",p.hitch(this,function(a){this.rpc().status().then(p.hitch(this,function(a){this.last_status=a;a.error&&!1==a.loggedin&&(this._domain_ready=!1);this._login_setup(a.loggedin)}))}));var c=this._stores,e=this.log;b.subscribe("moch/entity_update",function(a,b,e){if(a in c){var d=c[a];a=d.get(b);"function"==typeof a.then?a.then(function(a){a=p.mixin(a,e);d.notify(a,
b)}):(a=p.mixin(a,e),d.notify(a,b))}});b.subscribe("moch/entity_create",function(a,b){if(a in c){var d=c[a];try{d.notify(b)}catch(f){e("error adding new item to ",a," store : ",f)}}});b.subscribe("moch/entity_delete",function(a,b){if(a in c){var e=c[a];e._cache&&e._cache.evict(b);e.notify(void 0,b)}})}else f(p.hitch(this,function(){this.onReady()}));require.on("error",p.hitch(this,this.error_report));"boolean"==typeof l.auto_login&&(this.auto_login=l.auto_login);y=this},log:function(){console&&console.log&&
console.log.apply(console,arguments)},client_log:function(a){this.log(a);try{this.rpc().domain_log(a,"notice")}catch(b){console.error(b)}},reload:function(){"function"==typeof location.reload||"object"==typeof location.reload?location.reload():location.href=location.href},error_report:function(a){if(this.log){this.log(a);try{this.rpc().domain_log(a,"error")}catch(b){console.error(b)}if(void 0==this._show_error_alert){var c=this;this.config_get("base/show_error_alert").then(function(b){c._show_error_alert=
b;!0==c._show_error_alert&&alert(a)})}else!0==this._show_error_alert&&alert(a)}else console.error(a)},store_find:function(a,b){if(null==w)throw Error("config.service_uri are null, no backend support");if(!(a in this._stores)){var c={};"object"==typeof b&&(c=b);c.labelAttribute&&(c.labelProperty=c.labelAttribute);c.target=w+"/entity/"+a+"/";var d=new e,f=new r(new q(c),d),g=new t(f),n=g.query,k=this.error_report,h=this;g.query=function(a,b){(results=n.apply(h,arguments))&&results.then&&results.then(function(){},
k);return results};g._args=c;g._cache=f;g._memory=d;this._stores[a]=g}return this._stores[a]},object_store_find:function(a,b){var c={objectStore:this.store_find(a,b)},c=p.mixin(c,c.objectStore._args);return new s(c)},action_allow:function(a,b,c){return this._action_allows?this._action_allows[a+b+c]:!1},rpc:function(){if(null==w)throw Error("config.service_uri are null, no backend support");if(!this._service_rpc){var a=new n(w+"/json/service.smd?simple\x3d1"),c=this,e=a.user_login;a.user_login=function(a){var b=
new d;e(a).then(function(a){b.resolve(a)},function(d){d.code&&c._service_rpc.domain_open(l.domain_name).then(function(c){e(a).then(function(a){b.resolve(a)})})});return b};if(!l.sse_events&&!this._evs){var f=a.entity_update;a.entity_update=function(c,e,d){var g=f.apply(a,arguments);g.then(function(){b.publish("moch/entity_update",c,e,d)});return g};var g=a.entity_create;a.entity_create=function(c,e){var d=g.apply(a,arguments);d.then(function(){b.publish("moch/entity_create",c,e)});return d};var k=
a.entity_delete;a.entity_delete=function(c,e){var d=k.apply(a,arguments);d.then(function(){b.publish("moch/entity_create",c,e)});return d}}a.strictArgChecks=!1;this._service_rpc=a}return this._service_rpc},config_get:function(a){var b=null;if(a in this._user_config)b=new d,b.resolve(this._user_config[a]);else{var c=this,b=this.rpc().user_config_get(a);b.then(function(b){c._user_config[a]=b})}return b},config_set:function(a,b){if(this._user_config[a]!=b){var c=this;this.rpc().user_config_set(a,b).then(function(e){e&&
(c._user_config[a]=b)})}},addServerEvent:function(a,b){var c=this;this._evs&&this._evs.addEventListener(a,function(a){a=g.parse(a.data);b.apply(c,[a])})},_sse_start:function(){!0==this.loggedin&&"string"==typeof w?void 0==this._evs&&(this._evs=new v(w+"/sse"),this.addServerEvent("entity_update",function(a){b.publish("moch/entity_update",a.entity_name,a.key,a.value)}),this.addServerEvent("entity_create",function(a){b.publish("moch/entity_create",a.entity_name,a.value)}),this.addServerEvent("entity_delete",
function(a){b.publish("moch/entity_delete",a.entity_name,a.key)}),this.addServerEvent("base_notice_send",function(a){b.publish("moch/notice",a)}),this.onServerEventReady()):this._evs&&(this._evs.close(),this._evs=void 0)},_setup_ready:function(){this._status_poll_start||(this._status_poll_start=!0,this._status_poll(!0),this.onReady(),this._user_ready=!0)},_domain_open:function(){var b=this,c=new d;if(this._domain_ready)c.resolve(b.domain_name);else{if("string"!=typeof l.domain_name)throw Error("Missing domain name in config");
this.rpc().domain_open(l.domain_name).then(function(e){b.domain_name||(b.domain_name=l.domain_name);!0==l.keep_locale?(b._setup_ready(),b._domain_ready=!0,c.resolve(b.domain_name)):b.config_get("locale").then(function(e){e&&(l.locale!=e&&a("locale")!=e)&&(a("locale",e,{expires:1}),b.reload());b._setup_ready();b._domain_ready=!0;c.resolve(b.domain_name)})})}return c},_login_setup:function(b,c){var e=this;if(b!=this.loggedin||!0==c)if(this.loggedin=b){this.rpc().entity_list("base_task_action_report",
{}).then(p.hitch(this,function(a){var b=this._action_allows;k.forEach(a,function(a){b[a.module_name+a.resource_name+a.action_name]=!0})}),this.error_report);var d=p.hitch(this,function(){l.sse_events&&this._sse_start();this._setup_ready();this._domain_ready=!0;!1==this._user_ready&&(this.onReady(),this._user_ready=!0);this.onLogin();this._login_wait=!1});!0==l.keep_locale?d():this.config_get("locale").then(function(b){b&&(l.locale!=b&&a("locale")!=b)&&(a("locale",b,{expires:1}),e.reload());d()})}else e._action_allows=
{},a("locale",null,{expires:-1}),this.onLogout(),this._user_config={},this._service_rpc=null,this._domain_open().then(p.hitch(this,function(){!0==this.auto_login&&!1==this._login_wait&&(this._login_wait=!0,this.onUserLogin())}))},_status_poll:function(a){this.rpc().status().then(p.hitch(this,function(b){this.last_status=b;"number"==typeof b.reload_timer&&(this._poll_interval=1E3*b.reload_timer);b.error&&!1==b.loggedin&&(this._domain_ready=!1);this._login_setup(b.loggedin,a)}),p.hitch(this,function(a){this._domain_ready=
!1;this.last_status={};this._login_setup(!1)}));setTimeout(p.hitch(this,this._status_poll),this._poll_interval)},onUserLogin:function(){this.log("Don't know how to login, sorry")},onReady:function(){},onServerEventReady:function(){},onLogin:function(){this.log("user is logged in")},onLogout:function(){this.log("user is logged out")},confirm:function(a){var b=new d;setTimeout(function(){b.resolve(confirm(a))},10);return b},alert:function(a){var b=new d;setTimeout(function(){alert(a);b.resolve()},10);
return b},prompt:function(a,b){b=new d;setTimeout(function(){b.resolve(prompt(a,b))},10);return b}}),z,B={_init:void 0,_set_app:function(a){z=a},_app:function(){return z},getInstance:function(){z||(z=new x(B._init));return z},init:function(a){f(function(){B._init=a;B.getInstance()})},store_find:function(a,b){return B.getInstance().store_find(a,b)},rpc:function(){return B.getInstance().rpc()},getBaseClass:function(){return x}};return B})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],
function(h,p){h.cookie=function(h,k,d){var g=document.cookie,f;if(1==arguments.length)f=(f=g.match(RegExp("(?:^|; )"+p.escapeString(h)+"\x3d([^;]*)")))?decodeURIComponent(f[1]):void 0;else{d=d||{};g=d.expires;if("number"==typeof g){var c=new Date;c.setTime(c.getTime()+864E5*g);g=d.expires=c}g&&g.toUTCString&&(d.expires=g.toUTCString());k=encodeURIComponent(k);var g=h+"\x3d"+k,b;for(b in d)g+="; "+b,c=d[b],!0!==c&&(g+="\x3d"+c);document.cookie=g}return f};h.cookie.isSupported=function(){"cookieEnabled"in
navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return h.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,p){var l={};p.setObject("dojo.regexp",l);l.escapeString=function(k,d){return k.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(g){return d&&-1!=d.indexOf(g)?g:"\\"+g})};l.buildGroupRE=function(k,
d,g){if(!(k instanceof Array))return d(k);for(var f=[],c=0;c<k.length;c++)f.push(d(k[c]));return l.group(f.join("|"),g)};l.group=function(k,d){return"("+(d?"?:":"")+k+")"};return l})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(h,p,l,k,d){return k("dojo.store.JsonRest",null,{constructor:function(d){this.headers={};k.safeMixin(this,d)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",
get:function(d,f){f=f||{};var c=p.mixin({Accept:this.accepts},this.headers,f.headers||f);return h("GET",{url:this.target+d,handleAs:"json",headers:c})},accepts:"application/javascript, application/json",getIdentity:function(d){return d[this.idProperty]},put:function(d,f){f=f||{};var c="id"in f?f.id:this.getIdentity(d),b="undefined"!=typeof c;return h(b&&!f.incremental?"PUT":"POST",{url:b?this.target+c:this.target,postData:l.stringify(d),handleAs:"json",headers:p.mixin({"Content-Type":"application/json",
Accept:this.accepts,"If-Match":!0===f.overwrite?"*":null,"If-None-Match":!1===f.overwrite?"*":null},this.headers,f.headers)})},add:function(d,f){f=f||{};f.overwrite=!1;return this.put(d,f)},remove:function(d,f){f=f||{};return h("DELETE",{url:this.target+d,headers:p.mixin({},this.headers,f.headers)})},query:function(g,f){f=f||{};var c=p.mixin({Accept:this.accepts},this.headers,f.headers);if(0<=f.start||0<=f.count)c.Range=c["X-Range"]="items\x3d"+(f.start||"0")+"-"+("count"in f&&Infinity!=f.count?f.count+
(f.start||0)-1:"");var b=-1<this.target.indexOf("?");g&&"object"==typeof g&&(g=(g=h.objectToQuery(g))?(b?"\x26":"?")+g:"");if(f&&f.sort){var a=this.sortParam;g+=(g||b?"\x26":"?")+(a?a+"\x3d":"sort(");for(b=0;b<f.sort.length;b++){var k=f.sort[b];g+=(0<b?",":"")+(k.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(k.attribute)}a||(g+=")")}var e=h("GET",{url:this.target+(g||""),handleAs:"json",headers:c});e.total=e.then(function(){var a=e.ioArgs.xhr.getResponseHeader("Content-Range");
return a&&(a=a.match(/\/(.*)/))&&+a[1]});return d(e)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(h,p,l){var k=function(d){function g(f){d[f]||(d[f]=function(){var c=arguments;return l(d,function(b){Array.prototype.unshift.call(c,b);return k(h[f].apply(h,c))})})}if(!d)return d;d.then&&(d=p.delegate(d));g("forEach");g("filter");g("map");d.total||(d.total=l(d,function(d){return d.length}));return d};p.setObject("dojo.store.util.QueryResults",
k);return k})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(h,p,l){return h("dojo.store.Memory",null,{constructor:function(k){for(var d in k)this[d]=k[d];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(k){return this.data[this.index[k]]},getIdentity:function(k){return k[this.idProperty]},put:function(k,d){var g=this.data,f=this.index,c=this.idProperty,c=k[c]=d&&"id"in d?d.id:c in k?
k[c]:Math.random();if(c in f){if(d&&!1===d.overwrite)throw Error("Object already exists");g[f[c]]=k}else f[c]=g.push(k)-1;return c},add:function(k,d){(d=d||{}).overwrite=!1;return this.put(k,d)},remove:function(k){var d=this.index,g=this.data;if(k in d)return g.splice(d[k],1),this.setData(g),!0},query:function(k,d){return p(this.queryEngine(k,d)(this.data))},setData:function(k){k.items?(this.idProperty=k.identifier,k=this.data=k.items):this.data=k;this.index={};for(var d=0,g=k.length;d<g;d++)this.index[k[d][this.idProperty]]=
d}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(h){return function(p,l){function k(d){d=h.filter(d,p);var f=l&&l.sort;f&&d.sort("function"==typeof f?f:function(b,a){for(var c,e=0;c=f[e];e++){var d=b[c.attribute],g=a[c.attribute];if(d!=g)return!!c.descending==(null==d||d>g)?-1:1}return 0});if(l&&(l.start||l.count)){var c=d.length;d=d.slice(l.start||0,(l.start||0)+(l.count||Infinity));d.total=c}return d}switch(typeof p){default:throw Error("Can not query with a "+
typeof p);case "object":case "undefined":var d=p;p=function(g){for(var f in d){var c=d[f];if(c&&c.test){if(!c.test(g[f],g))return!1}else if(c!=g[f])return!1}return!0};break;case "string":if(!this[p])throw Error("No filter function "+p+" was found in store");p=this[p];case "function":}k.matches=p;return k}})},"dojo/store/Cache":function(){define(["../_base/lang","../when"],function(h,p){var l=function(k,d,g){g=g||{};return h.delegate(k,{query:function(f,c){var b=k.query(f,c);b.forEach(function(a){(!g.isLoaded||
g.isLoaded(a))&&d.put(a)});return b},queryEngine:k.queryEngine||d.queryEngine,get:function(f,c){return p(d.get(f),function(b){return b||p(k.get(f,c),function(a){a&&d.put(a,{id:f});return a})})},add:function(f,c){return p(k.add(f,c),function(b){d.add(f&&"object"==typeof b?b:f,c);return b})},put:function(f,c){d.remove(c&&c.id||this.getIdentity(f));return p(k.put(f,c),function(b){d.put(f&&"object"==typeof b?b:f,c);return b})},remove:function(f,c){return p(k.remove(f,c),function(b){return d.remove(f,
c)})},evict:function(f){return d.remove(f)}})};h.setObject("dojo.store.Cache",l);return l})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(h,p,l,k){h=function(d){function g(b,c){var f=d[b];f&&(d[b]=function(b){if(a)return f.apply(this,arguments);a=!0;try{var d=f.apply(this,arguments);l(d,function(a){c("object"==typeof a&&a||b)});return d}finally{a=!1}})}var f=[],c=0;d=p.delegate(d);d.notify=function(a,b){c++;for(var d=f.slice(),g=
0,k=d.length;g<k;g++)d[g](a,b)};var b=d.query;d.query=function(a,e){e=e||{};var g=b.apply(this,arguments);if(g&&g.forEach){var h=p.mixin({},e);delete h.start;delete h.count;var s=d.queryEngine&&d.queryEngine(a,h),n=c,v=[],u;g.observe=function(a,b){1==v.push(a)&&f.push(u=function(a,f){l(g,function(g){var h=g.length!=e.count,q,l;if(++n!=c)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var p,r=-1,t=-1;if(void 0!==f){q=0;for(l=g.length;q<l;q++){var u=
g[q];if(d.getIdentity(u)==f){p=u;r=q;(s||!a)&&g.splice(q,1);break}}}if(s){if(a&&(s.matches?s.matches(a):s([a]).length))q=-1<r?r:g.length,g.splice(q,0,a),t=k.indexOf(s(g),a),g.splice(q,1),e.start&&0==t||!h&&t==g.length?t=-1:g.splice(t,0,a)}else a&&(void 0!==f?t=r:e.start||(t=d.defaultIndex||0,g.splice(t,0,a)));if((-1<r||-1<t)&&(b||!s||r!=t)){h=v.slice();for(q=0;g=h[q];q++)g(a||p,r,t)}})});var h={};h.remove=h.cancel=function(){var b=k.indexOf(v,a);-1<b&&(v.splice(b,1),v.length||f.splice(k.indexOf(f,
u),1))};return h}}return g};var a;g("put",function(a){d.notify(a,d.getIdentity(a))});g("add",function(a){d.notify(a)});g("remove",function(a){d.notify(void 0,a)});return d};p.setObject("dojo.store.Observable",h);return h})},"moch/data/ObjectStore":function(){define(["dojo/_base/declare","dojo/on","dojo/data/ObjectStore"],function(h,p,l){return h([l],{resetValue:function(k,d,g){var f=k[d];k[d]=g;this.onSet(k,d,f,g)},constructor:function(k){this._dirtyObjects=[];this.inherited(arguments)},loadItemByIdentity:function(k,
d){var g=d?d:{};g.identity=k;g.onItem=dojo.hitch(this,function(d){this.onNew(d)});return this.fetchItemByIdentity(g)},makeClean:function(){this._dirtyObjects=[]},fetchDirty:function(k){"object"==typeof k&&"function"==typeof k.onItem&&dojo.forEach(this._dirtyObjects,function(d){"object"==typeof d.object&&k.onItem.call(this,d.object)})}})})},"dojo/data/ObjectStore":function(){define("../_base/lang ../Evented ../_base/declare ../_base/Deferred ../_base/array ../_base/connect ../regexp".split(" "),function(h,
p,l,k,d,g,f){function c(b){return"*"==b?".*":"?"==b?".":b}return l("dojo.data.ObjectStore",[p],{objectStore:null,constructor:function(b){this._dirtyObjects=[];b.labelAttribute&&(b.labelProperty=b.labelAttribute);h.mixin(this,b)},labelProperty:"label",getValue:function(b,a,c){return"function"===typeof b.get?b.get(a):a in b?b[a]:c},getValues:function(b,a){var c=this.getValue(b,a);return c instanceof Array?c:void 0===c?[]:[c]},getAttributes:function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&!("_"==
c.charAt(0)&&"_"==c.charAt(1))&&a.push(c);return a},hasAttribute:function(b,a){return a in b},containsValue:function(b,a,c){return-1<d.indexOf(this.getValues(b,a),c)},isItem:function(b){return"object"==typeof b&&b&&!(b instanceof Date)},isItemLoaded:function(b){return b&&"function"!==typeof b.load},loadItem:function(b){var a;"function"===typeof b.item.load?k.when(b.item.load(),function(c){a=c;var e=c instanceof Error?b.onError:b.onItem;e&&e.call(b.scope,c)}):b.onItem&&b.onItem.call(b.scope,b.item);
return a},close:function(b){return b&&b.abort&&b.abort()},fetch:function(b){function a(a){b.onError&&b.onError.call(e,a,b)}b=h.delegate(b,b&&b.queryOptions);var g=this,e=b.scope||g,l=b.query;if("object"==typeof l){var l=h.delegate(l),p;for(p in l){var s=l[p];"string"==typeof s&&(l[p]=RegExp("^"+f.escapeString(s,"*?\\").replace(/\\.|\*|\?/g,c)+"$",b.ignoreCase?"mi":"m"),l[p].toString=function(a){return function(){return a}}(s))}}var n=this.objectStore.query(l,b);k.when(n.total,function(c){k.when(n,
function(a){b.onBegin&&b.onBegin.call(e,c||a.length,b);if(b.onItem)for(var d=0;d<a.length;d++)b.onItem.call(e,a[d],b);b.onComplete&&b.onComplete.call(e,b.onItem?null:a,b);return a},a)},a);b.abort=function(){n.cancel&&n.cancel()};n.observe&&(this.observing&&this.observing.cancel(),this.observing=n.observe(function(a,b,c){if(-1==d.indexOf(g._dirtyObjects,a))if(-1==b)g.onNew(a);else if(-1==c)g.onDelete(a);else for(var e in a)if(e!=g.objectStore.idProperty)g.onSet(a,e,null,a[e])},!0));this.onFetch(n);
b.store=this;return b},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(b){if(this.isItem(b))return this.getValue(b,this.labelProperty)},getLabelAttributes:function(b){return[this.labelProperty]},getIdentity:function(b){return this.objectStore.getIdentity?this.objectStore.getIdentity(b):b[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(b){return[this.objectStore.idProperty]},
fetchItemByIdentity:function(b){var a;k.when(this.objectStore.get(b.identity),function(c){a=c;b.onItem.call(b.scope,c)},function(a){b.onError.call(b.scope,a)});return a},newItem:function(b,a){if(a){var c=this.getValue(a.parent,a.attribute,[]),c=c.concat([b]);b.__parent=c;this.setValue(a.parent,a.attribute,c)}this._dirtyObjects.push({object:b,save:!0});this.onNew(b);return b},deleteItem:function(b){this.changing(b,!0);this.onDelete(b)},setValue:function(b,a,c){var e=b[a];this.changing(b);b[a]=c;this.onSet(b,
a,e,c)},setValues:function(b,a,c){if(!h.isArray(c))throw Error("setValues expects to be passed an Array object as its value");this.setValue(b,a,c)},unsetAttribute:function(b,a){this.changing(b);var c=b[a];delete b[a];this.onSet(b,a,c,void 0)},changing:function(b,a){b.__isDirty=!0;for(var c=0;c<this._dirtyObjects.length;c++){var e=this._dirtyObjects[c];if(b==e.object){a&&(e.object=!1,this._saveNotNeeded||(e.save=!0));return}}e=b instanceof Array?[]:{};for(c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);this._dirtyObjects.push({object:!a&&
b,old:e,save:!this._saveNotNeeded})},save:function(b){b=b||{};var a,c=[],e=[],d=this,f=this._dirtyObjects,h=f.length;try{g.connect(b,"onError",function(){if(!1!==b.revertOnError){var a=f;f=e;d.revert();d._dirtyObjects=a}else d._dirtyObjects=f.concat(e)});if(this.objectStore.transaction)var n=this.objectStore.transaction();for(var l=0;l<f.length;l++){var p=f[l],y=p.object,w=p.old;delete y.__isDirty;y?a=this.objectStore.put(y,{overwrite:!!w}):"undefined"!=typeof w&&(a=this.objectStore.remove(this.getIdentity(w)));
e.push(p);f.splice(l--,1);k.when(a,function(a){--h||b.onComplete&&b.onComplete.call(b.scope,c)},function(a){h=-1;b.onError.call(b.scope,a)})}n&&n.commit()}catch(x){b.onError.call(b.scope,value)}},revert:function(){for(var b=this._dirtyObjects,a=b.length;0<a;){a--;var c=b[a],e=c.object,c=c.old;if(e&&c){for(var d in c)c.hasOwnProperty(d)&&e[d]!==c[d]&&(this.onSet(e,d,e[d],c[d]),e[d]=c[d]);for(d in e)c.hasOwnProperty(d)||(this.onSet(e,d,e[d]),delete e[d])}else if(c)this.onNew(c);else this.onDelete(e);
delete (e||c).__isDirty;b.splice(a,1)}},isDirty:function(b){return!b?!!this._dirtyObjects.length:b.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(b){}})})},"dojo/rpc/JsonService":function(){define("../_base/declare ../_base/Deferred ../_base/json ../_base/lang ../_base/xhr ./RpcService".split(" "),function(h,p,l,k,d,g){return h("dojo.rpc.JsonService",g,{bustCache:!1,contentType:"application/json-rpc",lastSubmissionId:0,callRemote:function(d,c){var b=new p;
this.bind(d,c,b);return b},bind:function(f,c,b,a){d.post({url:a||this.serviceUrl,postData:this.createRequest(f,c),contentType:this.contentType,timeout:this.timeout,handleAs:"json-comment-optional"}).addCallbacks(this.resultCallback(b),this.errorCallback(b))},createRequest:function(d,c){var b={params:c,method:d,id:++this.lastSubmissionId};return l.toJson(b)},parseResults:function(d){if(k.isObject(d)){if("result"in d)return d.result;if("Result"in d)return d.Result;if("ResultSet"in d)return d.ResultSet}return d}})})},
"dojo/rpc/RpcService":function(){define("../_base/array ../_base/declare ../_base/Deferred ../_base/kernel ../_base/lang ../_base/url ../_base/xhr".split(" "),function(h,p,l,k,d,g,f){return p("dojo.rpc.RpcService",null,{constructor:function(c){if(c)if(d.isString(c)||c instanceof g){var b=f.get({url:c instanceof g?c+"":c,handleAs:"json-comment-optional",sync:!0});b.addCallback(this,"processSmd");b.addErrback(function(){throw Error("Unable to load SMD from "+c);})}else c.smdStr?this.processSmd(k.eval("("+
c.smdStr+")")):(c.serviceUrl&&(this.serviceUrl=c.serviceUrl),this.timeout=c.timeout||0,"strictArgChecks"in c&&(this.strictArgChecks=c.strictArgChecks),this.processSmd(c))},strictArgChecks:!0,serviceUrl:"",parseResults:function(c){return c},errorCallback:function(c){return function(b){c.errback(b.message)}},resultCallback:function(c){return d.hitch(this,function(b){if(null!=b.error){var a;"object"==typeof b.error?(a=Error(b.error.message),a.code=b.error.code,a.error=b.error.error):a=Error(b.error);
a.id=b.id;a.errorObject=b;c.errback(a)}else c.callback(this.parseResults(b))})},generateMethod:function(c,b,a){return d.hitch(this,function(){var f=new l;if(this.strictArgChecks&&null!=b&&arguments.length!=b.length)throw Error("Invalid number of parameters for remote method.");this.bind(c,d._toArray(arguments),f,a);return f})},processSmd:function(c){c.methods&&h.forEach(c.methods,function(b){if(b&&b.name&&(this[b.name]=this.generateMethod(b.name,b.parameters,b.url||b.serviceUrl||b.serviceURL),!d.isFunction(this[b.name])))throw Error("RpcService: Failed to create"+
b.name+"()");},this);this.serviceUrl=c.serviceUrl||c.serviceURL;this.required=c.required;this.smd=c}})})},"dojo/_base/url":function(){define(["./kernel"],function(h){var p=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,k=function(){for(var d=arguments,g=[d[0]],f=1;f<d.length;f++)if(d[f]){var c=new k(d[f]+""),g=new k(g[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(g.fragment=c.fragment),
c=g;else if(!c.scheme&&(c.scheme=g.scheme,!c.authority&&(c.authority=g.authority,"/"!=c.path.charAt(0)))){for(var g=(g.path.substring(0,g.path.lastIndexOf("/")+1)+c.path).split("/"),b=0;b<g.length;b++)"."==g[b]?b==g.length-1?g[b]="":(g.splice(b,1),b--):0<b&&(!(1==b&&""==g[0])&&".."==g[b]&&".."!=g[b-1])&&(b==g.length-1?(g.splice(b,1),g[b-1]=""):(g.splice(b-1,2),b-=2));c.path=g.join("/")}g=[];c.scheme&&g.push(c.scheme,":");c.authority&&g.push("//",c.authority);g.push(c.path);c.query&&g.push("?",c.query);
c.fragment&&g.push("#",c.fragment)}this.uri=g.join("");d=this.uri.match(p);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&(d=this.authority.match(l),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};k.prototype.toString=function(){return this.uri};return h._Url=k})},"moch/mochx/EventSource":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/cookie","dojo/_base/config"],function(h,p,l,k){if("undefined"!==typeof EventSource&&!0!=k.polyfill_eventsource)return EventSource;var d=h([],{data:null,type:"message",lastEventId:"",origin:"",constructor:function(d,c,b){this.data=d;this.origin=c;this.lastEventId=b||""}}),g=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;return h([],{interval:500,CONNECTING:0,OPEN:1,CLOSED:2,onerror:null,onmessage:null,onopen:null,readyState:0,URL:"",lastEventId:null,constructor:function(d){this.inherited(arguments);if(!d||"string"!=
typeof d||void 0==l("appsvr_id"))throw new SyntaxError("Not enough arguments given or missing appsvr_id cookie");this._url=d;this.readyState=this.CONNECTING;this._xhr=this._pollTimer=null;"undefined"!==typeof XDomainRequest?(this._transport=XDomainRequest,this._url+="?appsvr_id\x3d"+l("appsvr_id")):this._transport=XMLHttpRequest;this.poll()},close:function(){this.readyState=this.CLOSED;clearInterval(this._pollTimer);this._xhr.abort()},dispatchEvent:function(d,c){var b=this["_"+d+"Handlers"];if(b)for(var a=
0;a<b.length;a++)b[a].call(this,c);this["on"+d]&&this["on"+d].call(this,c)},addEventListener:function(d,c){this["_"+d+"Handlers"]||(this["_"+d+"Handlers"]=[]);this["_"+d+"Handlers"].push(c)},removeEventListener:function(){},pollAgain:function(d){this._pollTimer=setTimeout(p.hitch(this,this.poll),d)},_parse:function(f){for(var c="message",b=[],a=0,k="";a<f.length;a++)k=f[a].replace(g,""),0==k.indexOf("event")?c=k.replace(/event:?\s*/,""):0==k.indexOf("retry")?(retry=parseInt(k.replace(/retry:?\s*/,
"")),isNaN(retry)||(interval=retry)):0==k.indexOf("data")?b.push(k.replace(/data:?\s*/,"")):0==k.indexOf("id:")?es.lastEventId=k.replace(/id:?\s*/,""):0==k.indexOf("id")?es.lastEventId=null:""==k&&b.length&&(b=new d(b.join("\n"),es._url,es.lastEventId),this.dispatchEvent(c,b),b=[],c="message")},poll:function(){try{if(this.readyState!=this.CLOSED){var d=this.interval,c=new this._transport;c.open("GET",this._url,!0);c.setRequestHeader&&(c.setRequestHeader("Accept","text/event-stream"),c.setRequestHeader("Cache-Control",
"no-cache"),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=this.lastEventId&&c.setRequestHeader("Last-Event-ID",this.lastEventId));var b="";c.timeout=5E5;es=this;c.onerror=c.ontimeout=function(a){es.pollAgain(d)};"undefined"!==typeof XDomainRequest&&(c.onprogress=function(){var a="";try{a=c.responseText||""}catch(d){}es._parse(a.substr(b.length).split("\n"));b=a});c.onreadystatechange=function(){if((3==c.readyState||4==c.readyState)&&200==c.status){es.readyState==es.CONNECTING&&(es.readyState=
es.OPEN,es.dispatchEvent("open",{type:"open"}));var a="";try{a=c.responseText||""}catch(e){}es._parse(a.substr(b.length).split("\n"));b=a;4==c.readyState&&es.pollAgain(d)}else es.readyState!==es.CLOSED&&(4==c.readyState?(es.readyState=es.CONNECTING,es.dispatchEvent("error",{type:"error"}),es.pollAgain(d)):0==c.readyState&&es.pollAgain(d))};c.send();setTimeout(function(){c.abort()},c.timeout);this._xhr=c}}catch(a){this.dispatchEvent("error",{type:"error",data:a.message}),console.error(a)}}})})},"moch/app/util":function(){define(["dojo/_base/declare",
"dojo/string","dojox/date/posix"],function(h,p,l){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()};return{email_to_link:function(k){return"string"==typeof k?'\x3ca class\x3d"link" href\x3d"mailto:'+k+'"\x3e'+k+"\x3c/a\x3e":k},array_to_string:function(k){return"object"==typeof k?k.join(", "):k},date_to_iso:function(k){"object"!=typeof k&&(k=new Date);var d=p.pad(k.getFullYear().toString(),4,"0",!1),d=d+p.pad((k.getMonth()+1).toString(),2,"0",!1),
d=d+p.pad(k.getDate().toString(),2,"0",!1),d=d+"T"+(p.pad(k.getHours().toString(),2,"0",!1)+":"),d=d+(p.pad(k.getMinutes().toString(),2,"0",!1)+":");return d+=p.pad(k.getSeconds().toString(),2,"0",!1)},iso_to_date:function(k){if("string"==typeof k){var d=k.match(/(\d{4})(\d{2})(\d{2})T(\d{2}):(\d{2}):(\d{2})/);d||(d=k.match(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/));if(d){k=parseInt(d[1],10);var g=parseInt(d[2],10)-1,f=parseInt(d[3],10),c=parseInt(d[4],10),b=parseInt(d[5],10),d=parseInt(d[6],
10);return new Date(k,g,f,c,b,d)}}return null},Delayed:function(k,d){var g;return function(){"function"==typeof d&&(g&&clearTimeout(g),g=setTimeout(function(){d();clearTimeout(g);g=null},k))}}}})},"dojox/date/posix":function(){define(["dojo/_base/kernel","dojo/date","dojo/date/locale","dojo/string","dojo/cldr/supplemental"],function(h,p,l,k,d){var g=h.getObject("date.posix",!0,dojox);g.strftime=function(d,c,b){for(var a=null,h=function(b,c){return k.pad(b,c||2,a||"0")},e=l._getGregorianBundle(b),
r=function(c){switch(c){case "a":return l.getNames("days","abbr","format",b)[d.getDay()];case "A":return l.getNames("days","wide","format",b)[d.getDay()];case "b":case "h":return l.getNames("months","abbr","format",b)[d.getMonth()];case "B":return l.getNames("months","wide","format",b)[d.getMonth()];case "c":return l.format(d,{formatLength:"full",locale:b});case "C":return h(Math.floor(d.getFullYear()/100));case "d":return h(d.getDate());case "D":return r("m")+"/"+r("d")+"/"+r("y");case "e":return null==
a&&(a=" "),h(d.getDate());case "f":return null==a&&(a=" "),h(d.getMonth()+1);case "F":return r("Y")+"-"+r("m")+"-"+r("d");case "H":return h(d.getHours());case "I":return h(d.getHours()%12||12);case "j":return h(l._getDayOfYear(d),3);case "k":return null==a&&(a=" "),h(d.getHours());case "l":return null==a&&(a=" "),h(d.getHours()%12||12);case "m":return h(d.getMonth()+1);case "M":return h(d.getMinutes());case "n":return"\n";case "p":return e["dayPeriods-format-wide-"+(12>d.getHours()?"am":"pm")];case "r":return r("I")+
":"+r("M")+":"+r("S")+" "+r("p");case "R":return r("H")+":"+r("M");case "S":return h(d.getSeconds());case "t":return"\t";case "T":return r("H")+":"+r("M")+":"+r("S");case "u":return String(d.getDay()||7);case "U":return h(l._getWeekOfYear(d));case "V":return h(g.getIsoWeekOfYear(d));case "W":return h(l._getWeekOfYear(d,1));case "w":return String(d.getDay());case "x":return l.format(d,{selector:"date",formatLength:"full",locale:b});case "X":return l.format(d,{selector:"time",formatLength:"full",locale:b});
case "y":return h(d.getFullYear()%100);case "Y":return String(d.getFullYear());case "z":return c=d.getTimezoneOffset(),(0<c?"-":"+")+h(Math.floor(Math.abs(c)/60))+":"+h(Math.abs(c)%60);case "Z":return p.getTimezoneName(d);case "%":return"%"}},t="",s=0,n=0,v=null;-1!=(n=c.indexOf("%",s));){t+=c.substring(s,n++);switch(c.charAt(n++)){case "_":a=" ";break;case "-":a="";break;case "0":a="0";break;case "^":v="upper";break;case "*":v="lower";break;case "#":v="swap";break;default:a=null,n--}s=r(c.charAt(n++));
switch(v){case "upper":s=s.toUpperCase();break;case "lower":s=s.toLowerCase();break;case "swap":for(var v=s.toLowerCase(),u="",y="",w=0;w<s.length;w++)y=s.charAt(w),u+=y==v.charAt(w)?y.toUpperCase():y.toLowerCase();s=u}v=null;t+=s;s=n}return t+=c.substring(s)};g.getStartOfWeek=function(f,c){isNaN(c)&&(c=d.getFirstDayOfWeek?d.getFirstDayOfWeek():0);var b=c,b=f.getDay()>=c?b-f.getDay():b-(7-f.getDay()),a=new Date(f);a.setHours(0,0,0,0);return p.add(a,"day",b)};g.setIsoWeekOfYear=function(d,c){if(!c)return d;
var b=g.getIsoWeekOfYear(d),a=c-b;0>c&&(a=g.getIsoWeeksInYear(d)+c+1-b);return p.add(d,"week",a)};g.getIsoWeekOfYear=function(d){var c=g.getStartOfWeek(d,1);d=new Date(d.getFullYear(),0,4);d=g.getStartOfWeek(d,1);d=c.getTime()-d.getTime();return 0>d?g.getIsoWeeksInYear(c):Math.ceil(d/6048E5)+1};g.getIsoWeeksInYear=function(d){function c(b){return b+Math.floor(b/4)-Math.floor(b/100)+Math.floor(b/400)}d=d.getFullYear();return 4==c(d)%7||3==c(d-1)%7?53:52};return g})},"dojo/date":function(){define(["./has",
"./_base/lang"],function(h,p){var l={getDaysInMonth:function(k){var d=k.getMonth();return 1==d&&l.isLeapYear(k)?29:[31,28,31,30,31,30,31,31,30,31,30,31][d]},isLeapYear:function(k){k=k.getFullYear();return!(k%400)||!(k%4)&&!!(k%100)},getTimezoneName:function(k){var d=k.toString(),g="",f=d.indexOf("(");if(-1<f)g=d.substring(++f,d.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,d=d.match(f))g=d[1];else if(d=k.toLocaleString(),f=/ ([A-Z\/]+)$/,d=d.match(f))g=d[1];return"AM"==g||"PM"==g?"":g},compare:function(k,
d,g){k=new Date(+k);d=new Date(+(d||new Date));"date"==g?(k.setHours(0,0,0,0),d.setHours(0,0,0,0)):"time"==g&&(k.setFullYear(0,0,0),d.setFullYear(0,0,0));return k>d?1:k<d?-1:0},add:function(k,d,g){var f=new Date(+k),c=!1,b="Date";switch(d){case "day":break;case "weekday":var a;(d=g%5)?a=parseInt(g/5):(d=0<g?5:-5,a=0<g?(g-5)/5:(g+5)/5);var h=k.getDay(),e=0;6==h&&0<g?e=1:0==h&&0>g&&(e=-1);h+=d;if(0==h||6==h)e=0<g?2:-2;g=7*a+d+e;break;case "year":b="FullYear";c=!0;break;case "week":g*=7;break;case "quarter":g*=
3;case "month":c=!0;b="Month";break;default:b="UTC"+d.charAt(0).toUpperCase()+d.substring(1)+"s"}if(b)f["set"+b](f["get"+b]()+g);c&&f.getDate()<k.getDate()&&f.setDate(0);return f},difference:function(k,d,g){d=d||new Date;g=g||"day";var f=d.getFullYear()-k.getFullYear(),c=1;switch(g){case "quarter":k=k.getMonth();d=d.getMonth();k=Math.floor(k/3)+1;d=Math.floor(d/3)+1;c=d+4*f-k;break;case "weekday":f=Math.round(l.difference(k,d,"day"));g=parseInt(l.difference(k,d,"week"));c=f%7;if(0==c)f=5*g;else{var b=
0,a=k.getDay();d=d.getDay();g=parseInt(f/7);c=f%7;k=new Date(k);k.setDate(k.getDate()+7*g);k=k.getDay();if(0<f)switch(!0){case 6==a:b=-1;break;case 0==a:b=0;break;case 6==d:b=-1;break;case 0==d:b=-2;break;case 5<k+c:b=-2}else if(0>f)switch(!0){case 6==a:b=0;break;case 0==a:b=1;break;case 6==d:b=2;break;case 0==d:b=1;break;case 0>k+c:b=2}f=f+b-2*g}c=f;break;case "year":c=f;break;case "month":c=d.getMonth()-k.getMonth()+12*f;break;case "week":c=parseInt(l.difference(k,d,"day")/7);break;case "day":c/=
24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=d.getTime()-k.getTime()}return Math.round(c)}};p.mixin(p.getObject("dojo.date",!0),l);return l})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(h,p,l,k,d,g,f,c,b){function a(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var g,h,l=e.charAt(0);e=e.length;var q=["abbr","wide",
"narrow"];switch(l){case "G":g=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":g=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){g=String(g);g=g.substr(g.length-2);break}default:h=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":g=a.getMonth();3>e?(g+=1,h=!0):(l=["months","L"==l?"standAlone":"format",q[e-3]].join("-"),g=b[l][g]);break;case "w":g=r._getWeekOfYear(a,0);h=!0;break;case "d":g=a.getDate();h=!0;break;case "D":g=r._getDayOfYear(a);
h=!0;break;case "e":case "c":if(g=a.getDay(),2>e){g=(g-k.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":g=a.getDay();3>e?(g+=1,h=!0):(l=["days","c"==l?"standAlone":"format",q[e-3]].join("-"),g=b[l][g]);break;case "a":l=12>a.getHours()?"am":"pm";g=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(l){case "h":g=h%12||12;break;case "H":g=h;break;case "K":g=h%12;break;case "k":g=h||24}h=!0;break;case "m":g=a.getMinutes();h=!0;break;case "s":g=a.getSeconds();
h=!0;break;case "S":g=Math.round(a.getMilliseconds()*Math.pow(10,e-3));h=!0;break;case "v":case "z":if(g=r._getZone(a,!0,c))break;e=4;case "Z":l=r._getZone(a,!1,c);l=[0>=l?"+":"-",f.pad(Math.floor(Math.abs(l)/60),2),f.pad(Math.abs(l)%60,2)];4==e&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));g=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}h&&(g=f.pad(g,e));return g})}function q(a,b,c,d){var e=function(a){return a};b=b||e;c=c||e;d=d||e;var f=a.match(/(''|[^'])+/g),
g="'"==a.charAt(0);p.forEach(f,function(a,d){a?(f[d]=(g?c:b)(a.replace(/''/g,"'")),g=!g):f[d]=""});return d(f.join(""))}function e(a,b,c,d){d=g.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,g="",k="";c.strict?(1<f&&(g="0{"+(f-1)+"}"),2<f&&(k="0{"+(f-2)+"}")):(g="0?",k="0{0,2}");switch(e){case "y":e="\\d{2,4}";break;case "M":case "L":e=2<f?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+
g+"[1-9][0-9]|"+k+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+g+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+g+"[1-9]";break;case "k":e="1[01]|"+g+"\\d";break;case "H":e="1\\d|2[0-3]|"+g+"\\d";break;case "K":e="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";break;case "a":f=c.am||b["dayPeriods-format-wide-am"];g=c.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+g;c.strict||(f!=f.toLowerCase()&&
(e+="|"+f.toLowerCase()),g!=g.toLowerCase()&&(e+="|"+g.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var r={};h.setObject(b.id.replace(/\//g,"."),r);r._getZone=function(a,b,c){return b?l.getTimezoneName(a):a.getTimezoneOffset()};r.format=function(b,c){c=c||{};var e=d.normalizeLocale(c.locale),f=c.formatLength||"short",e=r._getGregorianBundle(e),g=[],k=h.hitch(this,a,b,e,
c);if("year"==c.selector)return q(e["dateFormatItem-yyyy"]||"yyyy",k);var l;"date"!=c.selector&&(l=c.timePattern||e["timeFormat-"+f])&&g.push(q(l,k));"time"!=c.selector&&(l=c.datePattern||e["dateFormat-"+f])&&g.push(q(l,k));return 1==g.length?g[0]:e["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return g[b]})};r.regexp=function(a){return r._parseInfo(a).regexp};r._parseInfo=function(a){a=a||{};var b=d.normalizeLocale(a.locale),b=r._getGregorianBundle(b),c=a.formatLength||
"short",f=a.datePattern||b["dateFormat-"+c],g=a.timePattern||b["timeFormat-"+c],c="date"==a.selector?f:"time"==a.selector?g:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[g,f][b]}),k=[];return{regexp:q(c,h.hitch(this,e,k,b,a)),tokens:k,bundle:b}};r.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=r._parseInfo(b),e=d.tokens,f=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var g=["abbr","wide","narrow"],k=[1970,
0,1,0,0,0,0],h="",c=p.every(c,function(a,c){if(!c)return!0;var d=e[c-1],l=d.length,d=d.charAt(0);switch(d){case "y":if(2!=l&&b.strict)k[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),l=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=a<d?l+a:l-100+a;else{if(b.strict)return!1;k[0]=a}break;case "M":case "L":if(2<l){if(l=f["months-"+("L"==d?"standAlone":"format")+"-"+g[l-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),l=p.map(l,function(a){return a.replace(".",
"").toLowerCase()})),a=p.indexOf(l,a),-1==a)return!1}else a--;k[1]=a;break;case "E":case "e":case "c":l=f["days-"+("c"==d?"standAlone":"format")+"-"+g[l-3]].concat();b.strict||(a=a.toLowerCase(),l=p.map(l,function(a){return a.toLowerCase()}));a=p.indexOf(l,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":l=b.am||f["dayPeriods-format-wide-am"];d=b.pm||f["dayPeriods-format-wide-pm"];if(!b.strict){var q=/\./g;a=a.replace(q,"").toLowerCase();l=l.replace(q,"").toLowerCase();d=
d.replace(q,"").toLowerCase()}if(b.strict&&a!=l&&a!=d)return!1;h=a==d?"p":a==l?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),d=+k[3];"p"===h&&12>d?k[3]=d+12:"a"===h&&12==d&&(k[3]=0);d=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);b.strict&&d.setFullYear(k[0]);var q=e.join(""),t=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!c||q&&d.getMonth()>k[1]||t&&d.getDate()>k[2])return null;if(q&&
d.getMonth()<k[1]||t&&d.getDate()<k[2])d=l.add(d,"hour",1);return d};var t=[];r.addCustomFormats=function(a,b){t.push({pkg:a,name:b})};r._getGregorianBundle=function(a){var b={};p.forEach(t,function(c){c=d.getLocalization(c.pkg,c.name,a);b=h.mixin(b,c)},this);return b};r.addCustomFormats(b.id.replace(/\/date\/locale$/,".cldr"),"gregorian");r.getNames=function(a,b,c,d){var e;d=r._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};
r.isWeekend=function(a,b){var c=k.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};r._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};r._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((r._getDayOfYear(a)+(c-b+7)%7-1)/7);c==b&&d++;return d};return r})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,
p){var l={};h.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(k){k={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(k)];return void 0===
k?1:k};l._region=function(k){k=p.normalizeLocale(k);k=k.split("-");var d=k[1];d?4==d.length&&(d=k[2]):d={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",
ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",
no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",
ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",
ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",
kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",
pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",
twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[k[0]];return d};l.getWeekend=function(k){var d=l._region(k);k={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[d];d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[d];void 0===k&&(k=6);void 0===d&&(d=0);return{start:k,end:d}};
return l})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(h,p,l,k,d,g,f,c,b){var a=h.i18n={},q=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",g=0;g<b.length;g++)if(f+=(f?"-":"")+b[g],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},r={},t=function(a,b,c){c=c?c.toLowerCase():h.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?
a+"/nls/"+b:a+"/nls/"+c+"/"+b},s=h.getL10nName=function(a,c,d){return b.id+"!"+t(a,c,d)},n=function(a,b,c,d,f,k){a([b],function(n){var h=g.clone(n.root),l=e(!n._v1x&&n,f,c,d);a(l,function(){for(var a=1;a<l.length;a++)h=g.mixin(g.clone(h),arguments[a]);r[b+"/"+f]=h;h.$locale=l.specificity;k()})})},v=function(a){var b=d.extraLocale||[],b=g.isArray(b)?b:[b];b.push(a);return b},u=function(a,b,d){var e=a.split("*"),f="preload"==e[1];f&&(r[a]||(r[a]=1,B(e[2],c.parse(e[3]),1,b)),d(1));if(!(e=f))x&&z.push([a,
b,d]),e=x;if(!e){a=q.exec(a);var l=a[1]+"/",s=a[5]||a[4],p=l+s,e=(a=a[5]&&a[4])||h.locale||"",t=p+"/"+e;a=a?[e]:v(e);var u=a.length,w=function(){--u||d(g.delegate(r[t]))};k.forEach(a,function(a){var c=p+"/"+a;A(c);r[c]?w():n(b,p,l,s,a,w)})}};if(l("dojo-unit-tests"))var y=a.unitTests=[];var w=a.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":a},x=0,z=[],B=a._preloadLocalizations=function(a,b,c,d){function e(a,b){d.isXdUrl(p.toUrl(a+".js"))||c?d([a],b):G([a],b,d)}function f(a,
b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function g(c){c=w(c);f(c,function(c){if(0<=k.indexOf(b,c)){var d=a.replace(/\./g,"/")+"_"+c;x++;e(d,function(a){for(var b in a)r[p.toAbsMid(b)+"/"+c]=a[b];for(--x;!x&&z.length;)u.apply(null,z.shift())});return!0}return!1})}d=d||p;g();k.forEach(h.config.extraLocale,g)},A=function(){},C={},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(a,b,c){var d=[];k.forEach(a,function(a){function b(c){c=E(c,A,a,C);c===C?d.push(r[e]=C.result):(c instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+e,c),c={}),d.push(r[e]=/nls\/[^\/]+\/[^\/]+$/.test(e)?c:{root:c,_v1x:1}))}var e=c.toUrl(a+".js");if(r[e])d.push(r[e]);else{var g=c.syncLoadNls(a);if(g)d.push(g);else if(f)f.get({url:e,sync:!0,load:b,error:function(){d.push(r[e]={})}});else try{c.getText(e,!0,b)}catch(k){d.push(r[e]={})}}});b&&b.apply(null,d)},A=function(a){for(var b,
c=a.split("/"),d=h.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(r[a]=b));return b};a.getLocalization=function(a,b,c){var d;a=t(a,b,c);u(a,!p.isXdUrl(p.toUrl(a+".js"))?function(a,b){G(a,b,p)}:p,function(a){d=a});return d};l("dojo-unit-tests")&&y.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=E("{prop:1}",A,"nonsense",C);a.is({prop:1},b);a.is(void 0,b[1]);b=E("({prop:1})",A,"nonsense",C);a.is({prop:1},b);a.is(void 0,b[1]);b=E("{'prop-x':1}",
A,"nonsense",C);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("({'prop-x':1})",A,"nonsense",C);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("define({'prop-x':1})",A,"nonsense",C);a.is(C,b);a.is({"prop-x":1},C.result);b=E("define('some/module', {'prop-x':1})",A,"nonsense",C);a.is(C,b);a.is({"prop-x":1},C.result);b=E("this is total nonsense and should throw an error",A,"nonsense",C);a.is(b instanceof Error,!0)})});return g.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:u,cache:r,
getL10nName:s})})},"moch/store/SqlStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/store/util/QueryResults","dojo/store/util/SimpleQueryEngine"],function(h,p,l,k,d){window.openDatabase||alert("WebSQL is not supported by your browser!");return h(null,{db_name:null,table_name:null,select_fields:"*",meta:["id"],joins:[],info:"",max_size:1048576,version:"1.0",idProperty:"id",trace:!1,constructor:function(d){p.mixin(this,d);if("string"!=typeof this.db_name)throw Error("missing name of database");
if("string"!=typeof this.table_name)throw Error("missing the tablename of the table");this._meta={};for(m in this.meta)this._meta[this.meta[m]]="?";var f=this;this._conn=window.openDatabase(this.db_name,this.version,this.info,this.max_size);"function"==typeof this.onDatabaseCreate&&this._conn.transaction(function(c){f.onDatabaseCreate(c)})},getIdentity:function(d){return d[this.idProperty]},_exec:function(d,f){var c=new l;this._conn.transaction(function(b){b.executeSql(d,f,function(a,b){c.resolve(b)},
function(a,b){c.reject(b)})});return c},_make_join_stmt:function(){var d="";for(i in this.joins)var f=this.joins[i],d=d+((f.type?" "+f.type:"")+" JOIN "+f.table_name+" ON "+f.on+" ");return d},get:function(d){var f=new l,c="SELECT "+this.select_fields+" FROM "+this.table_name+this._make_join_stmt()+" WHERE "+this.idProperty+" \x3d ?";this._exec(c,[d]).then(function(b){f.resolve(b.rows.item(0))},function(b){f.reject(b)});return f},put:function(d){if(!this.getIdentity(d))return this.add(d);var f=new l,
c=[],b=[];for(i in d)i!=this.idProperty&&this._meta[i]&&(c.push(i+" \x3d ?"),b.push(d[i]));b.push(this.getIdentity(d));d="UPDATE "+this.table_name;d+=" SET "+c.join(",");d+=" WHERE "+this.idProperty+" \x3d ?";this._exec(d,b).then(function(a){f.resolve(!0)},function(a){f.reject(a)});return f},add:function(d){var f=new l,c=[],b=[],a=[];for(i in d)this._meta[i]&&(c.push(i),b.push("?"),a.push(d[i]));d="INSERT INTO "+this.table_name;d+=" ("+c.join(",")+")";d+=" VALUES("+b.join(",")+")";var k=this;this._exec(d,
a).then(function(a){k.get(a.insertId).then(function(a){f.resolve(a)})},function(a){f.reject(a)});return f},remove:function(d){var f=new l;this._exec("DELETE FROM "+this.table_name+" WHERE "+this.idProperty+" \x3d ?",[d]).then(function(c){f.resolve(!0)},function(c){f.reject(c)});return f},queryEngine:d,query:function(d,f){f=f||{};var c=new l,b=[],a=[];if(d&&"object"==typeof d)for(i in d)b.push(i+" \x3d ?"),a.push(d[i]);var h=" FROM "+this.table_name+this._make_join_stmt();b&&0<b.length&&(h+=" WHERE "+
b.join(" AND "));this._exec("SELECT count(*) AS cnt"+h,a).then(p.hitch(this,function(b){c.total=b.rows.item(0).cnt;if(f.sort&&0<f.sort.length){b=[];for(i in f.sort){var d=f.sort[i];"string"==typeof d.attribute&&b.push(d.attribute+(d.descending?" DESC":" ASC"))}h+=" ORDER BY "+b.join(",")}0<=f.count&&(h+=" LIMIT "+f.count);0<=f.count&&(h+=" OFFSET "+f.start);h="SELECT "+this.select_fields+h;this._exec(h,a).then(function(a){var b=[];for(i=0;i<a.rows.length;i++)b.push(a.rows.item(i));c.resolve(b)},function(a){c.reject(a)})}));
return k(c)}})})},"dojox/mobile/Heading":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./ProgressIndicator ./ToolBarButton ./View dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/Heading".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y){k.getObject("dojox.mobile",!0);p=l(u("dojo-bidi")?"dojox.mobile.NonBidiHeading":
"dojox.mobile.Heading",[t,r,e],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.templateString||(this.domNode=this.containerNode=this.srcNodeRef||d.doc.createElement(this.tag));this.inherited(arguments);this.templateString||(this.label||h.forEach(this.domNode.childNodes,function(a){if(3==a.nodeType){var b=k.trim(a.nodeValue);b&&(this.label=b,this.labelNode=c.create("span",{innerHTML:b},
a,"replace"))}},this),this.labelNode||(this.labelNode=c.create("span",null,this.domNode)),this.labelNode.className="mblHeadingSpanTitle",this.labelDivNode=c.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode));this.labelDivNode&&(a.set(this.labelDivNode,"role","heading"),a.set(this.labelDivNode,"aria-level","1"));g.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var b=this;b.defer(function(){b.resize()})}this.inherited(arguments)}},
resize:function(){if(this.labelNode){for(var a,c,d=this.containerNode.childNodes,e=d.length-1;0<=e;e--){var g=d[e];1===g.nodeType&&"none"!==b.get(g,"display")&&(!c&&"right"===b.get(g,"float")&&(c=g),!a&&"left"===b.get(g,"float")&&(a=g))}!this.labelNodeLen&&this.label&&(this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="");d=this.domNode.offsetWidth;e=this.labelNodeLen||0;f[d-2*Math.max(c?d-c.offsetLeft+5:0,a?a.offsetLeft+a.offsetWidth+
5:0)>e?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=new n({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setMoveToAttr:function(a){this._set("moveTo",
a);this.backButton&&(this.backButton.set("moveTo",a),this.backButton.set("back",!a&&!this.href))},_setHrefAttr:function(a){this._set("href",a);this.backButton&&(this.backButton.set("href",a),this.backButton.set("back",!this.moveTo&&!a))},_setTransitionAttr:function(a){this._set("transition",a);this.backButton&&this.backButton.set("transition",a)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(a){var b=
this._prog;a?(b||(b=this._prog=new s({size:30,center:!1}),f.add(b.domNode,this.progStyle)),c.place(b.domNode,this.domNode,"first"),b.start()):b&&b.stop();this._set("busy",a)}});return u("dojo-bidi")?l("dojox.mobile.Heading",[p,y]):p})},"dojox/mobile/ToolBarButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr ./sniff ./_ItemBase dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton".split(" "),function(h,p,l,k,d,
g,f,c,b,a){l=h(c("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",b,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){!this.label&&this.srcNodeRef&&(this.label=this.srcNodeRef.innerHTML);this.label=p.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:d.create("span");f.set(this.domNode,
"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,k.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=d.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+
"Arrow "+(10>c("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),k.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=d.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=d.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);!this.label&&this.arrow&&(this.tableNode.className="mblToolBarButtonText");var a=this.tableNode.insertRow(-1);this.iconParentNode=a.insertCell(-1);this.labelNode=
a.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";this.icon&&("none"!==this.icon&&this.label)&&(k.add(this.domNode,"mblToolBarButtonHasIcon"),k.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));k.add(this.bodyNode,this.defaultColor)}},startup:function(){this._started||(this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),this._isOnLine||(this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?this._pendingIcon:
this.icon),delete this._pendingIcon))},_onClick:function(a){(!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)&&this.defaultClickAction(a)},onClick:function(){},_setLabelAttr:function(a){this.inherited(arguments);k.toggle(this.tableNode,"mblToolBarButtonText",a||this.arrow)},_setSelectedAttr:function(a){this.inherited(arguments);if(a){if(k.replace(this.bodyNode,this.selColor,this.defaultColor),!(10>c("ie"))&&this.arrowNode){var b=this.selColor,d=this.defaultColor;k.replace(this.arrowNode,
b+" "+b+"45",d+" "+d+"45")}}else k.replace(this.bodyNode,this.defaultColor,this.selColor),!(10>c("ie"))&&this.arrowNode&&(b=this.defaultColor,d=this.selColor,k.replace(this.arrowNode,b+" "+b+"45",d+" "+d+"45"));k.toggle(this.domNode,"mblToolBarButtonSelected",a);k.toggle(this.bodyNode,"mblToolBarButtonBodySelected",a)}});return c("dojo-bidi")?h("dojox.mobile.ToolBarButton",[l,a]):l})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-class dojo/touch dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./TransitionEvent ./iconUtils ./sniff dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t){l=p(r("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[a,b,c],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);
this._isOnLine=this.inheritParams()},startup:function(){this._started||(this._isOnLine||this.inheritParams(),this._updateHandles(),this.inherited(arguments))},inheritParams:function(){var a=this.getParent();a&&h.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var c=b+"Base",d=b+"Pos";this[b]&&(a[c]&&"/"===a[c].charAt(a[c].length-1))&&(this[b]=a[c]+this[b]);this[b]||(this[b]=a[c]);this[d]||(this[d]=a[d])}this[b]||(this[b]=a[b])},this);return!!a},_updateHandles:function(){this._handleClick&&
"touch"===this._selStartMethod?this._onTouchStartHandle||(this._onTouchStartHandle=this.connect(this.domNode,g.press,"_onTouchStart")):this._onTouchStartHandle&&(this.disconnect(this._onTouchStartHandle),this._onTouchStartHandle=null)},getTransOpts:function(){var a=this.transitionOptions||{};h.forEach("moveTo href hrefTarget url target urlTarget scene transition transitionDir".split(" "),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);
!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(a){this._delayedSelection&&this.set("selected",!0);this._onTouchEndHandle&&(this.disconnect(this._onTouchEndHandle),this._onTouchEndHandle=null);a=this.getParent();this.toggle?this.set("selected",!this._currentSel):a&&a.selectOne?this.set("selected",!0):"touch"===this._selEndMethod?this.set("selected",!1):"timer"===this._selEndMethod&&this.defer(function(){this.set("selected",!1)},this._duration)},makeTransition:function(a){if(this.back&&
history)history.back();else if(this.href&&this.hrefTarget&&"_self"!=this.hrefTarget)k.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);else{var b=this.getTransOpts(),c=!(!b.moveTo&&!b.href&&!b.url&&!b.target&&!b.scene);if(!1!==this._prepareForTransition(a,c?b:null)&&c)this.setTransitionPos(a),(new q(this.domNode,b,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(a,b){},_onTouchStart:function(a){this.getParent().isEditing||!1===this.onTouchStart(a)||
(!this._onTouchEndHandle&&"touch"===this._selStartMethod&&(this._onTouchMoveHandle=this.connect(k.body(),g.move,"_onTouchMove"),this._onTouchEndHandle=this.connect(k.body(),g.release,"_onTouchEnd")),this.touchStartX=a.touches?a.touches[0].pageX:a.clientX,this.touchStartY=a.touches?a.touches[0].pageY:a.clientY,this._currentSel=this.selected,this._delayedSelection?this._selTimer=this.defer(function(){this.set("selected",!0)},100):this.set("selected",!0))},onTouchStart:function(){},_onTouchMove:function(a){var b=
a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){this._selTimer&&(this._selTimer.remove(),this._selTimer=null);
this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var b=this;!(b=b.getParent(),!b||d.contains(b.domNode,"mblView")););b&&(b.clickedPosX=a.clientX,b.clickedPosY=a.clientY)},transitionTo:function(a,b,c,d){(new q(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:c,scene:d,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(a){this._isOnLine?(this._set("icon",
a),this.iconNode=e.setIcon(a,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=a},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=h.filter(b.getChildren(),function(a){return a.selected}),h.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}});return r("dojo-bidi")?p("dojox.mobile._ItemBase",
[l,t]):l})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style ./sniff".split(" "),function(h,p,l,k,d,g,f,c,b,a){var q=d.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,c){if(a&&c){var d=h.map(c.split(/[ ,]/),function(a){return a-0}),g=d[0],k=d[1];b.set(a,{position:"absolute",clip:"rect("+g+"px "+(d[1]+d[2])+"px "+(d[0]+
d[3])+"px "+k+"px)",top:(a.parentNode?b.get(a,"top"):0)-g+"px",left:-k+"px"});f.add(a,"mblSpriteIcon")}};this.createDomButton=function(d,k,h){if(!this._domButtons)if(a("webkit")){var l=function(a,b){var c,d;if(!a){var e={};d=g.doc.styleSheets;for(c=0;c<d.length;c++)d[c]&&l(d[c],e);return e}e=a.cssRules||[];for(c=0;c<e.length;c++)if(d=e[c],d.href&&d.styleSheet)l(d.styleSheet,b);else if(d.selectorText){var f=d.selectorText.split(/,/);for(d=0;d<f.length;d++){var k=f[d],h=k.split(/>/).length-1;if(k.match(/(mblDomButton\w+)/)&&
(k=RegExp.$1,!b[k]||h>b[k]))b[k]=h}}return b};this._domButtons=l()}else this._domButtons={};var n=d.className,q=h||d;if(n.match(/(mblDomButton\w+)/)&&-1===n.indexOf("/")){var u=RegExp.$1,y=4;n.match(/(mblDomButton\w+_(\d+))/)?y=RegExp.$2-0:void 0!==this._domButtons[u]&&(y=this._domButtons[u]);n=null;a("bb")&&!1!==p.mblBBBoxShadowWorkaround&&(n={style:"-webkit-box-shadow:none"});for(var w=0,x=q;w<y;w++)x=x.firstChild||c.create("div",n,x);h&&(setTimeout(function(){f.remove(d,u)},0),f.add(h,u))}else if(-1!==
n.indexOf("."))c.create("img",{src:n},q);else return null;f.add(q,"mblDomButton");k&&b.set(q,k);return q};this.createIcon=function(a,d,g,h,n,p,u){h=h||"";if(a&&0===a.indexOf("mblDomButton"))g?g.className.match(/(mblDomButton\w+)/)&&f.remove(g,RegExp.$1):g=c.create("div",null,p||n,u),g.title=h,f.add(g,a),this.createDomButton(g);else if(a&&"none"!==a){if(!g||"IMG"!==g.nodeName)g=c.create("img",{alt:h},p||n,u);g.src=(a||"").replace("${theme}",q.currentTheme);this.setupSpriteIcon(g,d);d&&n&&(a=d.split(/[ ,]/),
b.set(n,{position:"relative",width:a[2]+"px",height:a[3]+"px"}),f.add(n,"mblSpriteIconParent"));l.connect(g,"ondragstart",k,"stop")}return g};this.iconWrapper=!1;this.setIcon=function(a,b,d,g,k,h,l){if(!k||!a&&!d)return null;if(a&&"none"!==a)return!this.iconWrapper&&0!==a.indexOf("mblDomButton")&&!b?(d&&"DIV"===d.tagName&&(c.destroy(d),d=null),d=this.createIcon(a,null,d,g,k,h,l),f.add(d,"mblImageIcon")):(d&&"IMG"===d.tagName&&(c.destroy(d),d=null),d&&c.empty(d),d||(d=c.create("div",null,h||k,l)),
this.createIcon(a,b,null,null,d),g&&(d.title=g)),f.remove(k,"mblNoIcon"),d;c.destroy(d);f.add(k,"mblNoIcon");return null}}})},"kso/TabBarLogin":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(h,p,l){return h("moch.dijit.TabBarLogin",[p],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new l({label:"Log ind",moveTo:"login_view","class":"tabBarButtonLogin"}));this.addChild(new l({label:"Opret bruger",moveTo:"create_user_view",
"class":"tabBarButtonCreateUser"}));this.addChild(new l({label:"Glemt din kode?",moveTo:"forgot_password_view","class":"tabBarButtonForgotPassword"}))}})})},"dojox/mobile/TabBar":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/dom-attr dijit/_Contained dijit/_Container dijit/_WidgetBase ./TabBarButton dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/TabBar".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t){f=
p(r("dojo-bidi")?"dojox.mobile.NonBidiTabBar":"dojox.mobile.TabBar",[q,a,b],{iconBase:"",iconPos:"",barType:"tabBar",closable:!1,center:!0,syncWithViews:!1,tag:"ul",fill:"auto",selectOne:!0,baseClass:"mblTabBar",_fixedButtonWidth:76,_fixedButtonMargin:17,_largeScreenWidth:500,buildRendering:function(){this.domNode=this.srcNodeRef||d.create(this.tag);c.set(this.domNode,"role","tablist");this.reset();this.inherited(arguments)},postCreate:function(){if(this.syncWithViews){var a=function(a,b,c,d,e,f){(b=
h.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0])&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},startup:function(){this._started||(this.inherited(arguments),this.resize())},reset:function(){var a=this._barType;if("object"===typeof this.barType){this._barType=this.barType["*"];for(var b in this.barType)if(k.contains(l.doc.documentElement,b)){this._barType=this.barType[b];break}}else this._barType=
this.barType;a&&k.remove(this.domNode,this.baseClass+(a.charAt(0).toUpperCase()+a.substring(1)));k.add(this.domNode,this.baseClass+(this._barType.charAt(0).toUpperCase()+this._barType.substring(1)))},resize:function(a){var b,c;c=a&&a.w?a.w:g.getMarginBox(this.domNode).w;var d=this._fixedButtonWidth,e=this._fixedButtonMargin,f=h.map(this.getChildren(),function(a){return a.domNode});k.toggle(this.domNode,"mblTabBarNoIcons",!h.some(this.getChildren(),function(a){return a.iconNode1}));k.toggle(this.domNode,
"mblTabBarNoText",!h.some(this.getChildren(),function(a){return a.label}));var l=0;if("tabBar"==this._barType)if(this.containerNode.style.paddingLeft="",l=Math.floor((c-(d+2*e)*f.length)/2),"always"==this.fill||"auto"==this.fill&&(c<this._largeScreenWidth||0>l)){k.add(this.domNode,"mblTabBarFill");for(b=0;b<f.length;b++)f[b].style.width=100/f.length+"%",f[b].style.margin="0"}else{for(b=0;b<f.length;b++)f[b].style.width=d+"px",f[b].style.margin="0 "+e+"px";0<f.length&&(r("dojo-bidi")&&!this.isLeftToRight()?
(f[0].style.marginLeft="0px",f[0].style.marginRight=l+e+"px"):f[0].style.marginLeft=l+e+"px");this.containerNode.style.padding="0px"}else{for(b=0;b<f.length;b++)f[b].style.width=f[b].style.margin="";b=this.getParent();if("always"==this.fill){k.add(this.domNode,"mblTabBarFill");for(b=0;b<f.length;b++)f[b].style.width=100/f.length+"%","segmentedControl"!=this._barType&&"standardTab"!=this._barType&&(f[b].style.margin="0")}else{if(this.center&&(!b||!k.contains(b.domNode,"mblHeading"))){l=c;for(b=0;b<
f.length;b++)l-=g.getMarginBox(f[b]).w;l=Math.floor(l/2)}r("dojo-bidi")&&!this.isLeftToRight()?(this.containerNode.style.paddingLeft="0px",this.containerNode.style.paddingRight=l?l+"px":""):this.containerNode.style.paddingLeft=l?l+"px":""}}a&&a.w&&g.setMarginBox(this.domNode,a)},getSelectedTab:function(){return h.filter(this.getChildren(),function(a){return a.selected})[0]},onCloseButtonClick:function(a){return!0}});return r("dojo-bidi")?p("dojox.mobile.TabBar",[f,t]):f})},"dojox/mobile/TabBarButton":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr ./View ./iconUtils ./_ItemBase ./Badge ./sniff dojo/has!dojo-bidi?dojox/mobile/bidi/TabBarButton".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s){e=p(t("dojo-bidi")?"dojox.mobile.NonBidiTabBarButton":"dojox.mobile.TabBarButton",e,{icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,transition:"none",tag:"li",badge:"",baseClass:"mblTabBarButton",closeIcon:"mblDomButtonWhiteCross",_selStartMethod:"touch",_selEndMethod:"touch",_moveTo:"",destroy:function(){this.badgeObj&&delete this.badgeObj;this.inherited(arguments)},inheritParams:function(){this.icon&&!this.icon1&&(this.icon1=this.icon);var a=this.getParent();
a&&(this.transition||(this.transition=a.transition),this.icon1&&(a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))&&(this.icon1=a.iconBase+this.icon1),this.icon1||(this.icon1=a.iconBase),this.iconPos1||(this.iconPos1=a.iconPos),this.icon2&&(a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))&&(this.icon2=a.iconBase+this.icon2),this.icon2||(this.icon2=a.iconBase||this.icon1),this.iconPos2||(this.iconPos2=a.iconPos||this.iconPos1),a.closable&&(this.icon1||(this.icon1=this.closeIcon),this.icon2||
(this.icon2=this.closeIcon),g.add(this.domNode,"mblTabBarButtonClosable")))},buildRendering:function(){this.domNode=this.srcNodeRef||f.create(this.tag);this.srcNodeRef&&(this.label||(this.label=k.trim(this.srcNodeRef.innerHTML)),this.srcNodeRef.innerHTML="");this.labelNode=this.box=f.create("div",{className:"mblTabBarButtonLabel"},this.domNode);b.set(this.domNode,"role","tab");b.set(this.domNode,"aria-selected","false");if(this._moveTo=this._getMoveToId()){var a=d.byId(this._moveTo);a&&(b.set(this.domNode,
"aria-controls",this._moveTo),b.set(a,"role","tabpanel"),b.set(a,"aria-labelledby",this.id))}this.inherited(arguments)},startup:function(){if(!this._started){this._dragstartHandle=this.connect(this.domNode,"ondragstart",l.stop);this.connect(this.domNode,"onkeydown","_onClick");var a=this.getParent();a&&a.closable&&(this._clickCloseHandler=this.connect(this.iconDivNode,"onclick","_onCloseButtonClick"),this._keydownCloseHandler=this.connect(this.iconDivNode,"onkeydown","_onCloseButtonClick"),this.iconDivNode.tabIndex=
"0");this.inherited(arguments);this._isOnLine||(this._isOnLine=!0,this.set({icon:void 0!==this._pendingIcon?this._pendingIcon:this.icon,icon1:this.icon1,icon2:this.icon2}),delete this._pendingIcon);d.setSelectable(this.domNode,!1)}},onClose:function(a){h.publish("/dojox/mobile/tabClose",[this]);return this.getParent().onCloseButtonClick(this)},_onCloseButtonClick:function(a){(!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onCloseButtonClick(a)&&this.onClose()&&this.destroy()},onCloseButtonClick:function(){},
_onClick:function(a){(!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)&&this.defaultClickAction(a)},onClick:function(){},_setIcon:function(a,b){this.getParent()&&(this._set("icon"+b,a),this.iconDivNode||(this.iconDivNode=f.create("div",{className:"mblTabBarButtonIconArea"},this.domNode,"first")),this["iconParentNode"+b]||(this["iconParentNode"+b]=f.create("div",{className:"mblTabBarButtonIconParent mblTabBarButtonIconParent"+b},this.iconDivNode)),this["iconNode"+b]=q.setIcon(a,this["iconPos"+
b],this["iconNode"+b],this.alt,this["iconParentNode"+b]),this["icon"+b]=a,g.toggle(this.domNode,"mblTabBarButtonHasIcon",a&&"none"!==a))},_getMoveToId:function(){if(this.moveTo){if("#"===this.moveTo)return"";var b="";(b="object"===typeof this.moveTo&&this.moveTo.moveTo?this.moveTo.moveTo:this.moveTo)&&(b=a.prototype.convertToId(b));return b}},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},_getBadgeAttr:function(){return this.badgeObj&&this.badgeObj.domNode.parentNode&&
1==this.badgeObj.domNode.parentNode.nodeType?this.badgeObj.getValue():null},_setBadgeAttr:function(a){this.badgeObj||(this.badgeObj=new r({fontSize:11}),c.set(this.badgeObj.domNode,{position:"absolute",top:"0px",right:"0px"}));this.badgeObj.setValue(a);a?this.domNode.appendChild(this.badgeObj.domNode):this.domNode===this.badgeObj.domNode.parentNode&&this.domNode.removeChild(this.badgeObj.domNode)},_setSelectedAttr:function(a){this.inherited(arguments);g.toggle(this.domNode,"mblTabBarButtonSelected",
a);b.set(this.domNode,"aria-selected",a?"true":"false");if(this._moveTo){var c=d.byId(this._moveTo);c&&b.set(c,"aria-hidden",a?"false":"true")}}});return t("dojo-bidi")?p("dojox.mobile.TabBarButton",[e,s]):e})},"dojox/mobile/Badge":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct ./iconUtils dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/Badge".split(" "),function(h,p,l,k,d,g,f){var c=h(g("dojo-bidi")?"dojox.mobile.NonBidiBadge":"dojox.mobile.Badge",null,{value:"0",
className:"mblDomButtonRedBadge",fontSize:16,constructor:function(b,a){b&&p.mixin(this,b);this.domNode=a?a:k.create("div");l.add(this.domNode,"mblBadge");-1===this.domNode.className.indexOf("mblDomButton")&&l.add(this.domNode,this.className);16!==this.fontSize&&(this.domNode.style.fontSize=this.fontSize+"px");d.createDomButton(this.domNode);this.setValue(this.value)},getValue:function(){return this.domNode.firstChild.innerHTML||""},setValue:function(b){this.domNode.firstChild.innerHTML=b}});return g("dojo-bidi")?
h("dojox.mobile.Badge",[c,f]):c})},"kso/views/Home":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/dom-construct dojo/dom-class dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ToolBarButton dojox/mobile/Heading dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/Accordion moch/app/mobile kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u){return l([c],{id:"kso_home_view",postCreate:function(){var c=
this,d=new u;d.confirm("Oversigt","Her vises dine nyeste handleplaner og probleml\u00f8sninger.\x3cbr /\x3e\x3cbr /\x3eListen kan indeholde max. 5 handleplaner og probleml\u00f8sninger.");this.addChild(d);var f=new u;f.confirm("Hj\u00e6lp til handleplan","Du kan have max. 5 aktive handleplaner og probleml\u00f8sninger.");this.addChild(f);sview=new b;var g=new q({label:"min handleplan","class":"headingHome"});g.addChild(new a({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},
onClick:function(){d.show()}}));this.addChild(g);g=new q({id:"headingActionHome",baseClass:"headingActionHome"});g.addChild(new a({label:"Opret plan",onClick:function(){var a=s.getInstance().getStore("kso_plan","kso_plan").query({active:1});a.then(function(b){a.total.then(function(a){5<=a?f.show():k.publish("plan/create",c,null)})})}}));g.addChild(new a({label:"Opret l\u00f8sning",onClick:function(){var a=s.getInstance().getStore("kso_problem","kso_problem").query({active:1});a.then(function(b){a.total.then(function(a){5<=
a?f.show():k.publish("problem/create",c,null)})})}}));this.addChild(g);var h=s.getInstance().getStore("kso_plan","kso_plan");sview.addChild(new r({label:"Nyeste handleplaner:","class":"categoryHomePlan"}));g=new Boolean(!0);g.test=function(a){return!0};g=new n({store:h,query:{active:1,hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"id",descending:!0}],start:0,count:5},itemMap:{do_what:"label"},createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,
onClick:function(a){k.publish("diary/list",c,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(g);h=s.getInstance().getStore("kso_problem","kso_problem");sview.addChild(new r({label:"Nyeste probleml\u00f8sninger:","class":"categoryHomeProblem"}));g=new Boolean(!0);g.test=function(a){return!0};g=new n({store:h,query:{active:1,hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"id",descending:!0}],start:0,count:5},itemMap:{do_what:"label"},
createListItem:function(a){return new e({label:a.do_what,clickable:!0,item:a,onClick:function(a){k.publish("solution/list",c,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);this.item=a}})}});sview.addChild(g);this.addChild(sview);this.addChild(new v)},onStartView:function(){}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dijit/registry dijit/_WidgetBase ./iconUtils ./_ItemBase ./ProgressIndicator dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t){q=p(r("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",q,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",
baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;this._templated||(this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag));this.inherited(arguments);this.selected&&k.add(this.domNode,this._selClass);this.header&&k.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);if(!this._templated){this.labelNode=d.create("div",{className:"mblListItemLabel"});
var a=this.srcNodeRef;a&&(1===a.childNodes.length&&3===a.firstChild.nodeType)&&this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode)}this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),b=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};
b.moveTo||b.href||b.url||this.clickable||a&&a.select?this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);k.contains(this.domNode,"mblVariableHeight")&&(this.variableHeight=!0);this.variableHeight&&(k.add(this.domNode,"mblVariableHeight"),this.defer("layoutVariableHeight"));this._isOnLine||(this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,
rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,rightIcon2:void 0!==this._pending_rightIcon2?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon);a&&a.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),
f.set(this.domNode,"role","option"),(this._pendingChecked||this.checked)&&f.set(this.domNode,"aria-selected","true"),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},_updateHandles:function(){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?(this._keydownHandle||(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick")),this._handleClick=!0):(this._keydownHandle&&(this.disconnect(this._keydownHandle),this._keydownHandle=
null),this._handleClick=!1);this.inherited(arguments)},layoutChildren:function(){var a;h.forEach(this.domNode.childNodes,function(b){if(1===b.nodeType){var d=b.getAttribute("layout")||b.getAttribute("data-mobile-layout")||(c.byNode(b)||{}).layout;d&&(k.add(b,"mblListItemLayout"+d.charAt(0).toUpperCase()+d.substring(1)),this._layoutChildren.push(b),"center"===d&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();
if(!this._templated||this.labelNode)this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&(!a.target.getAttribute("data-mobile-prevent-touch")&&!(c.getEnclosingWidget(a.target)||{}).preventTouch)&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||a&&"keydown"===a.type&&13!==a.keyCode)&&!1!==this.onClick(a)){var b=this.labelNode;if((this._templated||b)&&this.anchorLabel&&a.currentTarget===
b)k.add(b,"mblListItemLabelSelected"),this.defer(function(){k.remove(b,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var c=this.getParent();c.select&&("single"===c.select?this.checked||this.set("checked",!0):"multiple"===c.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(a){},layoutVariableHeight:function(){var a=this.domNode.offsetHeight;a!==this.domNodeHeight&&(this.domNodeHeight=a,h.forEach(this._layoutChildren.concat([this.rightTextNode,
this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var b=this.domNode,c=function(){var c=Math.round((b.offsetHeight-a.offsetHeight)/2)-g.get(b,"paddingTop");a.style.marginTop=c+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=c:c()}},this))},setArrow:function(){if(!this.checked){var a="",b=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||
"mblDomButtonArrow",f.set(this.domNode,"role","button");a&&this._setRightIconAttr(a)}},_findRef:function(a){var b,c="deleteIcon icon rightIcon uncheckIcon rightIcon2 rightText".split(" ");for(a=h.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(b,c){if(this._isOnLine){this._set(c,b);this[c+"Node"]=a.setIcon(b,this[c+"Pos"],this[c+"Node"],this[c+"Title"]||this.alt,this.domNode,
this._findRef(c),"before");if(this[c+"Node"]){var d=c.charAt(0).toUpperCase()+c.substring(1);k.add(this[c+"Node"],"mblListItem"+d)}(d=this[c+"Role"])&&this[c+"Node"].setAttribute("role",d)}else this["_pending_"+c]=b},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){!this._templated&&!this.rightTextNode&&(this.rightTextNode=d.create("div",{className:"mblListItemRightText"},this.labelNode,"before"));this.rightText=
a;this.rightTextNode.innerHTML=this._cv?this._cv(a):a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var b=this.getParent();b&&("single"===b.select&&a)&&h.forEach(b.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)&&f.set(a.domNode,"aria-selected","false")},this);this._setRightIconAttr(this.checkClass||
"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);k.toggle(this.domNode,"mblListItemChecked",a);k.toggle(this.domNode,"mblListItemUnchecked",!a);k.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(b&&this.checked!==a)b.onCheckStateChanged(this,a);this._set("checked",a);f.set(this.domNode,"aria-selected",a?"true":"false")}else this._pendingChecked=a},_setBusyAttr:function(a){var b=this._prog;
a?(this._progNode||(this._progNode=d.create("div",{className:"mblListItemIcon"}),b=this._prog=new e({size:25,center:!1,removeOnStop:!1}),k.add(b.domNode,this.progStyle),this._progNode.appendChild(b.domNode)),this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):d.place(this._progNode,this._findRef("icon"),"before"),b.start()):this._progNode&&(this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),b.stop());this._set("busy",a)},
_setSelectedAttr:function(a){this.inherited(arguments);k.toggle(this.domNode,this._selClass,a)},_setClickableAttr:function(a){this._set("clickable",a);this._updateHandles()},_setMoveToAttr:function(a){this._set("moveTo",a);this._updateHandles()},_setHrefAttr:function(a){this._set("href",a);this._updateHandles()},_setUrlAttr:function(a){this._set("url",a);this._updateHandles()}});q.ChildWidgetProperties={layout:"",preventTouch:!1};l.extend(b,q.ChildWidgetProperties);return r("dojo-bidi")?p("dojox.mobile.ListItem",
[q,t]):q})},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(h,p){return h("dojox.mobile.EdgeToEdgeCategory",p,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";this.type&&"long"==this.type&&(this.domNode.className+=" mblEdgeToEdgeCategoryLong")}})})},"dojox/mobile/RoundRectCategory":function(){define("dojo/_base/declare dojo/_base/window dojo/dom-construct dijit/_Contained dijit/_WidgetBase dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory".split(" "),
function(h,p,l,k,d,g,f){p=h(g("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[d,k],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var c=this.domNode=this.containerNode=this.srcNodeRef||l.create(this.tag);this.inherited(arguments);!this.label&&(1===c.childNodes.length&&3===c.firstChild.nodeType)&&(this.label=c.firstChild.nodeValue)},_setLabelAttr:function(c){this.label=c;this.domNode.innerHTML=this._cv?this._cv(c):c}});return g("dojo-bidi")?
h("dojox.mobile.RoundRectCategory",[p,f]):p})},"dojox/mobile/Accordion":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/sniff dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-attr dijit/_Contained dijit/_Container dijit/_WidgetBase ./iconUtils ./lazyLoadUtils ./_css3 require dojo/has!dojo-bidi?dojox/mobile/bidi/Accordion".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){var v=p([q,b],{label:"Label",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,baseClass:"mblAccordionTitle",
buildRendering:function(){this.inherited(arguments);var a=this.anchorNode=f.create("a",{className:"mblAccordionTitleAnchor",role:"presentation"},this.domNode);this.textBoxNode=f.create("div",{className:"mblAccordionTitleTextBox"},a);this.labelNode=f.create("span",{className:"mblAccordionTitleLabel",innerHTML:this._cv?this._cv(this.label):this.label},this.textBoxNode);this._isOnLine=this.inheritParams();c.set(this.textBoxNode,"role","tab");c.set(this.textBoxNode,"tabindex","0")},postCreate:function(){this.connect(this.domNode,
"onclick","_onClick");d.setSelectable(this.domNode,!1)},inheritParams:function(){var a=this.getParent();a&&(this.icon1&&(a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))&&(this.icon1=a.iconBase+this.icon1),this.icon1||(this.icon1=a.iconBase),this.iconPos1||(this.iconPos1=a.iconPos),this.icon2&&(a.iconBase&&"/"===a.iconBase.charAt(a.iconBase.length-1))&&(this.icon2=a.iconBase+this.icon2),this.icon2||(this.icon2=a.iconBase||this.icon1),this.iconPos2||(this.iconPos2=a.iconPos||this.iconPos1));
return!!a},_setIcon:function(a,b){this.getParent()&&(this._set("icon"+b,a),this["iconParentNode"+b]||(this["iconParentNode"+b]=f.create("div",{className:"mblAccordionIconParent mblAccordionIconParent"+b},this.anchorNode,"first")),this["iconNode"+b]=e.setIcon(a,this["iconPos"+b],this["iconNode"+b],this.alt,this["iconParentNode"+b]),this["icon"+b]=a,g.toggle(this.domNode,"mblAccordionHasIcon",a&&"none"!==a))},_setIcon1Attr:function(a){this._setIcon(a,1)},_setIcon2Attr:function(a){this._setIcon(a,2)},
startup:function(){this._started||(this._isOnLine||this.inheritParams(),this._isOnLine||this.set({icon1:this.icon1,icon2:this.icon2}),this.inherited(arguments))},_onClick:function(a){!1!==this.onClick(a)&&(a=this.getParent(),!a.fixedHeight&&"none"!==this.contentWidget.domNode.style.display?a.collapse(this.contentWidget,!a.animation):a.expand(this.contentWidget,!a.animation))},onClick:function(){},_setSelectedAttr:function(a){g.toggle(this.domNode,"mblAccordionTitleSelected",a);this._set("selected",
a)}});b=p(k("dojo-bidi")?"dojox.mobile.NonBidiAccordion":"dojox.mobile.Accordion",[q,a,b],{iconBase:"",iconPos:"",fixedHeight:!1,singleOpen:!1,animation:!0,roundRect:!1,duration:0.3,baseClass:"mblAccordion",_openSpace:1,buildRendering:function(){this.inherited(arguments);c.set(this.domNode,"role","tablist");c.set(this.domNode,"aria-multiselectable",!this.singleOpen)},startup:function(){if(!this._started){g.contains(this.domNode,"mblAccordionRoundRect")?this.roundRect=!0:this.roundRect&&g.add(this.domNode,
"mblAccordionRoundRect");this.fixedHeight&&(this.singleOpen=!0);var a=this.getChildren();h.forEach(a,this._setupChild,this);var b,d=1;h.forEach(a,function(e){e.startup();e._at.startup();this.collapse(e,!0);c.set(e._at.textBoxNode,"aria-setsize",a.length);c.set(e._at.textBoxNode,"aria-posinset",d++);e.selected&&(b=e)},this);!b&&this.fixedHeight&&(b=a[a.length-1]);b?this.expand(b,!0):this._updateLast();this.defer(function(){this.resize()});this._started=!0}},_setupChild:function(a){"hidden"!=a.domNode.style.overflow&&
(a.domNode.style.overflow=this.fixedHeight?"auto":"hidden");a._at=new v({label:a.label,alt:a.alt,icon1:a.icon1,icon2:a.icon2,iconPos1:a.iconPos1,iconPos2:a.iconPos2,contentWidget:a});f.place(a._at.domNode,a.domNode,"before");g.add(a.domNode,"mblAccordionPane");c.set(a._at.textBoxNode,"aria-controls",a.domNode.id);c.set(a.domNode,"role","tabpanel");c.set(a.domNode,"aria-labelledby",a._at.id)},addChild:function(a,b){this.inherited(arguments);this._started&&(this._setupChild(a),a._at.startup(),a.selected?
(this.expand(a,!0),this.defer(function(){a.domNode.style.height=""})):this.collapse(a));this._addChildAriaAttrs()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&a._at.destroy();this.inherited(arguments);this._addChildAriaAttrs()},_addChildAriaAttrs:function(){var a=1,b=this.getChildren();h.forEach(b,function(d){c.set(d._at.textBoxNode,"aria-posinset",a++);c.set(d._at.textBoxNode,"aria-setsize",b.length)})},getChildren:function(){return h.filter(this.inherited(arguments),
function(a){return!(a instanceof v)})},getSelectedPanes:function(){return h.filter(this.getChildren(),function(a){return"none"!=a.domNode.style.display})},resize:function(){if(this.fixedHeight){var a=h.filter(this.getChildren(),function(a){return"none"!=a._at.domNode.style.display}),b=this.domNode.clientHeight;h.forEach(a,function(a){b-=a._at.domNode.offsetHeight});this._openSpace=0<b?b:0;a=this.getSelectedPanes()[0];a.domNode.style[t.name("transition")]="";a.domNode.style.height=this._openSpace+
"px"}},_updateLast:function(){var a=this.getChildren();h.forEach(a,function(b,c){g.toggle(b._at.domNode,"mblAccordionTitleLast",c===a.length-1&&!g.contains(b._at.domNode,"mblAccordionTitleSelected"))},this)},expand:function(a,b){a.lazy&&(r.instantiateLazyWidgets(a.containerNode,a.requires),a.lazy=!1);var d=this.getChildren();h.forEach(d,function(c,d){c.domNode.style[t.name("transition")]=b?"":"height "+this.duration+"s linear";if(c===a){c.domNode.style.display="";var e;this.fixedHeight?e=this._openSpace:
(e=parseInt(c.height||c.domNode.getAttribute("height")),e||(c.domNode.style.height="",e=c.domNode.offsetHeight,c.domNode.style.height="0px"));this.defer(function(){c.domNode.style.height=e+"px"});this.select(a)}else this.singleOpen&&this.collapse(c,b)},this);this._updateLast();c.set(a.domNode,"aria-expanded","true");c.set(a.domNode,"aria-hidden","false")},collapse:function(a,b){if("none"!==a.domNode.style.display){a.domNode.style[t.name("transition")]=b?"":"height "+this.duration+"s linear";a.domNode.style.height=
"0px";if(!k("css3-animations")||b)a.domNode.style.display="none",this._updateLast();else{var d=this;d.defer(function(){a.domNode.style.display="none";d._updateLast();if(!d.fixedHeight&&d.singleOpen)for(var b=d.getParent();b;b=b.getParent())if(g.contains(b.domNode,"mblView")){b&&b.resize&&b.resize();break}},1E3*this.duration)}this.deselect(a);c.set(a.domNode,"aria-expanded","false");c.set(a.domNode,"aria-hidden","true")}},select:function(a){a._at.set("selected",!0);c.set(a._at.textBoxNode,"aria-selected",
"true")},deselect:function(a){a._at.set("selected",!1);c.set(a._at.textBoxNode,"aria-selected","false")}});b.ChildWidgetProperties={alt:"",label:"",icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,lazy:!1};l.extend(q,b.ChildWidgetProperties);return k("dojo-bidi")?p("dojox.mobile.Accordion",[b,n]):b})},"dojox/mobile/lazyLoadUtils":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/config dojo/_base/window dojo/_base/Deferred dojo/ready".split(" "),function(h,p,l,k,d,g){return new function(){this._lazyNodes=
[];var f=this;l.parseOnLoad&&g(90,function(){var c=p.filter(k.body().getElementsByTagName("*"),function(a){return"true"===a.getAttribute("lazy")||(a.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/)}),b,a,d,e;for(b=0;b<c.length;b++)p.forEach(["dojoType","data-dojo-type"],function(g){d=p.filter(c[b].getElementsByTagName("*"),function(a){return a.getAttribute(g)});for(a=0;a<d.length;a++)e=d[a],e.setAttribute("__"+g,e.getAttribute(g)),e.removeAttribute(g),f._lazyNodes.push(e)})});g(function(){for(var c=
0;c<f._lazyNodes.length;c++){var b=f._lazyNodes[c];p.forEach(["dojoType","data-dojo-type"],function(a){b.getAttribute("__"+a)&&(b.setAttribute(a,b.getAttribute("__"+a)),b.removeAttribute("__"+a))})}delete f._lazyNodes});this.instantiateLazyWidgets=function(c,b,a){var f=new d;b=b?b.split(/,/):[];for(var e=c.getElementsByTagName("*"),g=e.length,k=0;k<g;k++){var l=e[k].getAttribute("dojoType")||e[k].getAttribute("data-dojo-type");l&&(b.push(l),l=(l=e[k].getAttribute("data-dojo-mixins"))?l.split(/, */):
[],b=b.concat(l))}if(0===b.length)return!0;if(h.require)return p.forEach(b,function(a){h.require(a)}),h.parser.parse(c),a&&a(c),!0;b=p.map(b,function(a){return a.replace(/\./g,"/")});require(b,function(){h.parser.parse(c);a&&a(c);f.resolve(!0)});return f}}})},"kso/BaseStoreList":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojox/mobile/EdgeToEdgeStoreList"],function(h,p,l){return h([l],{_rawData:[],constructor:function(k){this.inherited(arguments)},onUpdate:function(k,d){var g=this.getChildren();
g.length>=d&&g[d].set("item",k)},onInsert:function(k,d){this.addChild(this.createListItem(k),d)},onDelete:function(k,d){var g=this.getChildren()[d];this.removeChild(g)},refresh:function(){if(!this.store)return null;var k=this;k._promise_hndl&&k._promise_hndl.remove();var d=this.store.query(this.query,this.queryOptions);p.when(d,function(g){g.items&&(g=g.items);k._rawData=g;d.observe&&(k._promise_hndl=d.observe(function(d,c,b){if(-1==c)k.onInsert(d,b);else if(-1==b)k.onDelete(d,c);else k.onUpdate(d,
b)},!0));k.onComplete(g)},function(d){k.onError(d)});return d},getRawData:function(){return this._rawData}})})},"dojox/mobile/EdgeToEdgeStoreList":function(){define(["dojo/_base/declare","./EdgeToEdgeList","./_StoreListMixin"],function(h,p,l){return h("dojox.mobile.EdgeToEdgeStoreList",[p,l],{})})},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(h,p){return h("dojox.mobile.EdgeToEdgeList",p,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);
this.domNode.className="mblEdgeToEdgeList"}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-attr dijit/_Contained dijit/_Container dijit/_WidgetBase".split(" "),function(h,p,l,k,d,g,f,c,b,a){return p("dojox.mobile.RoundRectList",[a,b,c],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",
baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||g.create(this.tag);this.select&&(f.set(this.domNode,"role","listbox"),"multiple"===this.select&&f.set(this.domNode,"aria-multiselectable","true"));this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],k.hitch(this,function(a){p.safeMixin(this,new a)}));this.connect(this.domNode,"onselectstart",l.stop);if(this.syncWithViews){var a=
function(a,b,c,d,f,g){(b=h.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0])&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(a){this._set("stateful",a);this.selectOne=a;h.forEach(this.getChildren(),function(a){a.setArrow&&a.setArrow()})},deselectItem:function(a){a.set("selected",
!1)},deselectAll:function(){h.forEach(this.getChildren(),function(a){a.set("selected",!1)})},selectItem:function(a){a.set("selected",!0)}})})},"dojox/mobile/_StoreListMixin":function(){define("dojo/_base/array dojo/_base/declare ./_StoreMixin ./ListItem dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/_StoreListMixin".split(" "),function(h,p,l,k,d,g){l=p(d("dojo-bidi")?"dojox.mobile._NonBidiStoreListMixin":"dojox.mobile._StoreListMixin",l,{append:!1,itemMap:null,itemRenderer:k,buildRendering:function(){this.inherited(arguments);
if(this.store){var d=this.store;this.store=null;this.setStore(d,this.query,this.queryOptions)}},createListItem:function(d){return new this.itemRenderer(this._createItemProperties(d))},_createItemProperties:function(f){var c={};f.label||(c.label=f[this.labelProperty]);d("dojo-bidi")&&"undefined"==typeof c.dir&&(c.dir=this.isLeftToRight()?"ltr":"rtl");for(var b in f)c[this.itemMap&&this.itemMap[b]||b]=f[b];return c},_setDirAttr:function(d){return d},generateList:function(d){this.append||h.forEach(this.getChildren(),
function(c){c.destroyRecursive()});h.forEach(d,function(c,b){this.addChild(this.createListItem(c));c[this.childrenProperty]&&h.forEach(c[this.childrenProperty],function(a,b){this.addChild(this.createListItem(a))},this)},this)},onComplete:function(d){this.generateList(d)},onError:function(){},onAdd:function(d,c){this.addChild(this.createListItem(d),c)},onUpdate:function(d,c){this.getChildren()[c].set(this._createItemProperties(d))},onDelete:function(d,c){this.getChildren()[c].destroyRecursive()}});
return d("dojo-bidi")?p("dojox.mobile._StoreListMixin",[l,g]):l})},"dojox/mobile/_StoreMixin":function(){define(["dojo/_base/Deferred","dojo/_base/declare"],function(h,p){return p("dojox.mobile._StoreMixin",null,{store:null,query:null,queryOptions:null,labelProperty:"label",childrenProperty:"children",setStore:function(h,k,d){if(h===this.store)return null;h&&(h.getValue=function(d,f){return d[f]});this.store=h;this._setQuery(k,d);return this.refresh()},setQuery:function(h,k){this._setQuery(h,k);return this.refresh()},
_setQuery:function(h,k){this.query=h;this.queryOptions=k||this.queryOptions},refresh:function(){if(!this.store)return null;var l=this,k=this.store.query(this.query,this.queryOptions);this._observe_h&&this._observe_h.remove();h.when(k,function(d){d.items&&(d=d.items);k.observe&&(l._observe_h=k.observe(function(d,f,c){if(-1!=f)if(c!=f)l.onDelete(d,f);else{if(l.onAdd)l.onUpdate(d,c)}else if(-1!=c)if(l.onAdd)l.onAdd(d,c);else l.onUpdate(d,c)},!0));l.onComplete(d)},function(d){l.onError(d)});return k}})})},
"kso/TabBar":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojox/mobile/TabBarButton"],function(h,p,l){return h("moch.dijit.TabBar",[p],{fill:"always",fixed:"bottom",center:!1,barType:"flatTab",postCreate:function(){this.addChild(new l({moveTo:"kso_home_view","class":"tabBarButtonHome",icon1:"kso/images/btn_home.png"}));this.addChild(new l({moveTo:"kso_planlist_view","class":"tabBarButtonPlan",icon1:"kso/images/btn_plan.png"}));this.addChild(new l({moveTo:"kso_problemlist_view","class":"tabBarButtonProblem",
icon1:"kso/images/btn_problem.png"}));this.addChild(new l({moveTo:"kso_about_view","class":"tabBarButtonAbout",icon1:"kso/images/btn_option.png"}))}})})},"kso/SimpleDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojox/mobile/ScrollableView dojox/mobile/SimpleDialog dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/Slider".split(" "),function(h,p,l,k,d,g,f,c){return h("moch.dijit.Dialog",[d],{confirm:function(b,a,c){var d=new k;l.create("div",{"class":"mblSimpleDialogTitle",
innerHTML:b},d.domNode);l.create("div",{"class":"mblSimpleDialogText",innerHTML:a},d.domNode);this.domNode.appendChild(d.domNode);c?(b=new g({label:"Ja",style:"width:100px","class":"mblSimpleDialogButton",onClick:p.hitch(this,function(){this._view&&(c(this._view),this._view=null);this.hide()})}),this.domNode.appendChild(b.domNode),b=new g({label:"Nej",style:"width:100px","class":"mblSimpleDialogButton",onClick:p.hitch(this,function(){this.hide()})})):b=new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",
onClick:p.hitch(this,function(){this.hide()})});this.domNode.appendChild(b.domNode)},datePicker:function(b,a){l.create("div",{"class":"mblSimpleDialogTitle",innerHTML:b},this.domNode);var c=new f({name:a});this.domNode.appendChild(c.domNode);c=new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:p.hitch(this,function(){this.hide()})});this.domNode.appendChild(c.domNode)},sliderPicker:function(){l.create("div",{"class":"mblSimpleDialogTitle",innerHTML:"test"},this.domNode);
var b=new c({label:"Hvor sikker er du (0-10)?",name:"do_rating_",value:0,min:0,max:10,orientation:"H"});this.domNode.appendChild(b.domNode);b=new g({label:"OK",style:"width:100px","class":"mblSimpleDialogButton",onClick:p.hitch(this,function(){this.hide()})});this.domNode.appendChild(b.domNode)}})})},"dojox/mobile/SimpleDialog":function(){define("dojo/_base/declare dojo/_base/window dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/touch dijit/registry ./Pane ./iconUtils ./sniff".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q){return h("dojox.mobile.SimpleDialog",b,{top:"auto",left:"auto",modal:!0,closeButton:!1,closeButtonClass:"mblDomButtonSilverCircleRedCross",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSimpleDialog",_cover:[],buildRendering:function(){this.containerNode=d.create("div",{className:"mblSimpleDialogContainer"});if(this.srcNodeRef)for(var b=0,f=this.srcNodeRef.childNodes.length;b<f;b++)this.containerNode.appendChild(this.srcNodeRef.removeChild(this.srcNodeRef.firstChild));
this.inherited(arguments);k.set(this.domNode,"role","dialog");if(this.containerNode.getElementsByClassName){if(b=this.containerNode.getElementsByClassName("mblSimpleDialogTitle")[0])b.id=b.id||c.getUniqueId("dojo_mobile_mblSimpleDialogTitle"),k.set(this.domNode,"aria-labelledby",b.id);if(b=this.containerNode.getElementsByClassName("mblSimpleDialogText")[0])b.id=b.id||c.getUniqueId("dojo_mobile_mblSimpleDialogText"),k.set(this.domNode,"aria-describedby",b.id)}l.add(this.domNode,"mblSimpleDialogDecoration");
this.domNode.style.display="none";this.domNode.appendChild(this.containerNode);this.closeButton&&(this.closeButtonNode=d.create("div",{className:"mblSimpleDialogCloseBtn "+this.closeButtonClass},this.domNode),a.createDomButton(this.closeButtonNode),this.connect(this.closeButtonNode,"onclick","_onCloseButtonClick"));this.connect(this.domNode,"onkeydown","_onKeyDown")},startup:function(){this._started||(this.inherited(arguments),p.body().appendChild(this.domNode))},addCover:function(){this._cover[0]?
this._cover[0].style.display="":this._cover[0]=d.create("div",{className:"mblSimpleDialogCover"},p.body());q("windows-theme")&&this.own(g(this._cover[0],f.press,function(){}))},removeCover:function(){this._cover[0].style.display="none"},_onCloseButtonClick:function(a){!1!==this.onCloseButtonClick(a)&&this.hide()},onCloseButtonClick:function(){},_onKeyDown:function(a){27==a.keyCode&&this.hide()},refresh:function(){var a=this.domNode,b;if(this.closeButton){b=this.closeButtonNode;var c=Math.round(b.offsetHeight/
2);b.style.top=-c+"px";b.style.left=a.offsetWidth-c+"px"}"auto"===this.top?(b=p.global.innerHeight||p.doc.documentElement.clientHeight,a.style.top=Math.round((b-a.offsetHeight)/2)+"px"):a.style.top=this.top;"auto"===this.left?(b=p.global.innerWidth||p.doc.documentElement.clientWidth,a.style.left=Math.round((b-a.offsetWidth)/2)+"px"):a.style.left=this.left},show:function(){if(""!==this.domNode.style.display){this.modal&&this.addCover();this.domNode.style.display="";this.refresh();var a;this.domNode.getElementsByClassName&&
(a=this.domNode.getElementsByClassName("mblSimpleDialogButton")[0]);var b=a||this.closeButtonNode||this.domNode;this.defer(function(){b.focus()},1E3)}},hide:function(){"none"!==this.domNode.style.display&&(this.domNode.style.display="none",this.modal&&this.removeCover())}})})},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(h,p,l,k){return p("dojox.mobile.Pane",[k,l],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);
this.containerNode||(this.containerNode=this.domNode)},resize:function(){h.forEach(this.getChildren(),function(d){d.resize&&d.resize()})}})})},"dojox/mobile/DatePicker":function(){define(["dojo/_base/lang","./_PickerChooser!DatePicker"],function(h,p){return h.setObject("dojox.mobile.DatePicker",p)})},"dojox/mobile/_PickerChooser":function(){define(["dojo/_base/lang","dojo/_base/window"],function(h,p){return{load:function(l,k,d){var g=p.global._no_dojo_dm||h.getObject("dojox.mobile",!0);k([("android"===
g.currentTheme||"holodark"===g.currentTheme?"./ValuePicker":"./SpinWheel")+l],d)}}})},"dojox/mobile/Slider":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/sniff dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/touch dijit/_WidgetBase dijit/form/_FormValueMixin".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t){return l("dojox.mobile.Slider",[r,t],{value:0,min:0,max:100,step:1,baseClass:"mblSlider",flip:!1,
orientation:"auto",halo:"8pt",buildRendering:function(){if(!this.templateString){this.focusNode=this.domNode=c.create("div",{});this.valueNode=c.create("input",this.srcNodeRef&&this.srcNodeRef.name?{type:"hidden",name:this.srcNodeRef.name}:{type:"hidden"},this.domNode,"last");var a=c.create("div",{style:{position:"relative",height:"100%",width:"100%"}},this.domNode,"last");this.progressBar=c.create("div",{style:{position:"absolute"},"class":"mblSliderProgressBar"},a,"last");this.touchBox=c.create("div",
{style:{position:"absolute"},"class":"mblSliderTouchBox"},a,"last");this.handle=c.create("div",{style:{position:"absolute"},"class":"mblSliderHandle"},a,"last")}this.inherited(arguments);"undefined"!=typeof this.domNode.style.msTouchAction&&(this.domNode.style.msTouchAction="none")},_setValueAttr:function(b,c){b=Math.max(Math.min(b,this.max),this.min);this.valueNode.value=b;this.inherited(arguments);if(this._started){this.focusNode.setAttribute("aria-valuenow",b);var d=100*(b-this.min)/(this.max-
this.min);!0===c?(f.add(this.handle,"mblSliderTransition"),f.add(this.progressBar,"mblSliderTransition")):(f.remove(this.handle,"mblSliderTransition"),f.remove(this.progressBar,"mblSliderTransition"));a.set(this.handle,this._attrs.handleLeft,(this._reversed?100-d:d)+"%");a.set(this.progressBar,this._attrs.width,d+"%")}},postCreate:function(){function c(f){function q(a){l=s?a[this._attrs.pageX]:a.touches?a.touches[0][this._attrs.pageX]:a[this._attrs.clientX];t=l-I;t=Math.min(Math.max(t,0),Q);a=this.step?
(this.max-this.min)/this.step:Q;if(1>=a||Infinity==a)a=Q;var b=Math.round(t*a/Q);r=(this.max-this.min)*b/a;r=this._reversed?this.max-r:this.min+r}f.preventDefault();var s="mousedown"==f.type,w=b.position(y,!1),x=g("ie")?1:a.get(d.body(),"zoom")||1;isNaN(x)&&(x=1);var z=g("ie")?1:a.get(y,"zoom")||1;isNaN(z)&&(z=1);var I=w[this._attrs.x]*z*x+b.docScroll()[this._attrs.x],Q=w[this._attrs.w]*z*x;k.hitch(this,q)(f);f.target==this.touchBox&&this.set("value",r,!0);h.forEach(D,p.disconnect);f=d.doc.documentElement;
var D=[this.connect(f,e.move,function(a){a.preventDefault();k.hitch(this,q)(a);this.set("value",r,!1)}),this.connect(f,e.release,function(a){a.preventDefault();h.forEach(D,k.hitch(this,"disconnect"));D=[];this.set("value",this.value,!0)})]}this.inherited(arguments);var l,t,r,y=this.domNode;"auto"==this.orientation&&(this.orientation=y.offsetHeight<=y.offsetWidth?"H":"V");f.add(this.domNode,h.map(this.baseClass.split(" "),k.hitch(this,function(a){return a+this.orientation})));var w="V"!=this.orientation,
x=w?this.isLeftToRight():!1,z=!!this.flip;this._reversed=!(w&&(x&&!z||!x&&z)||!w&&z);this._attrs=w?{x:"x",w:"w",l:"l",r:"r",pageX:"pageX",clientX:"clientX",handleLeft:"left",left:this._reversed?"right":"left",width:"width"}:{x:"y",w:"h",l:"t",r:"b",pageX:"pageY",clientX:"clientY",handleLeft:"top",left:this._reversed?"bottom":"top",width:"height"};this.progressBar.style[this._attrs.left]="0px";this.connect(this.touchBox,e.press,c);this.connect(this.handle,e.press,c);this.connect(this.domNode,"onkeypress",
function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){var b=this.step,c=1;switch(a.keyCode){case q.HOME:b=this.min;break;case q.END:b=this.max;break;case q.RIGHT_ARROW:c=-1;case q.LEFT_ARROW:b=this.value+c*(z&&w?b:-b);break;case q.DOWN_ARROW:c=-1;case q.UP_ARROW:b=this.value+c*(!z||w?b:-b);break;default:return}a.preventDefault();this._setValueAttr(b,!1)}});this.connect(this.domNode,"onkeyup",function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&
this._setValueAttr(this.value,!0)});this.startup();this.set("value",this.value)}})})},"kso/views/PlanList":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/dom-class dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton moch/app/mobile kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),function(h,p,l,k,d,g,f,c,b,
a,q,e,r,t,s,n,v,u){return l([f],{id:"kso_planlist_view",postCreate:function(){var f=this,g=new u;g.confirm("Hj\u00e6lp til handleplan","Oversigt over handleplaner.\x3cbr /\x3e\x3cbr /\x3eDu kan have max. 5 aktive handleplaner.");this.addChild(g);var h=new u;h.confirm("Hj\u00e6lp til handleplan","Du kan have max. 5 aktive handleplaner.");this.addChild(h);sview=new c;var l=new q({label:"handleplaner","class":"headingPlan"});l.addChild(new e({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},
onClick:function(){g.show()}}));this.addChild(l);l=new q({id:"headingActionPlanList",baseClass:"headingActionPlan"});l.addChild(new e({label:"Opret",onClick:function(){var a=s.getInstance().getStore("kso_plan","kso_plan").query({active:1});a.then(function(b){a.total.then(function(a){5<=a?h.show():k.publish("plan/create",f,null)})})}}));this.addChild(l);l=s.getInstance().getStore("kso_plan","kso_plan");this.addChild(new a({label:"Alle handleplaner:","class":"categoryPlan"}));(new Boolean(!0)).test=
function(a){return!0};l=new n({store:l,query:{hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"do_evaluate",descending:!0},{attribute:"id",descending:!0}]},createListItem:function(a){return new b({label:a.do_what,clickable:!0,item:a,onClick:function(b){1==a.active?k.publish("diary/list",f,this.item):k.publish("plan/diary",f,this.item)},_setItemAttr:function(a){this.set("label",a.do_what);0==a.active?this.set("rightText","Afsluttet"):this.set("rightText","");this.set("icon",
1==a.do_evaluate?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(l);this.addChild(sview);this.addChild(new v);k.subscribe("plan/list",d.hitch(this,function(a){a.performTransition("kso_planlist_view")}))},onStartView:function(){}})})},"kso/views/PlanCreate":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/date dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeStoreList dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H){return l([t],{id:"kso_plancreate_view",_form:null,_item:null,_date_start:null,_do_in_days:null,_do_success:null,postCreate:function(){var a=this,b=new H;b.confirm("Hj\u00e6lp til handleplan","N\u00e5r du opretter en handleplan, er det vigtigt, at den er REALISTISK, at det er noget DU GERNE VIL opn\u00e5, og at det er en HANDLING - at tabe sig er fx ikke en handling, men at undg\u00e5 usunde mellemm\u00e5ltider er en handling. At tabe sig er et resultat af \u00e6ndret handling.");
this.addChild(b);var c=new H;c.confirm("","Kan du justere din handleplan, s\u00e5 du er mere sikker p\u00e5 at kunne gennemf\u00f8re den?");this.addChild(c);var f=new H;f.datePicker("V\u00e6lg en start dato","_date_start");this.addChild(f);f=new H;f.sliderPicker();this.addChild(f);sview=new s;var f=new y({label:"Opret handleplan","class":"headingPlan"}),g=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});f.addChild(g);f.addChild(new w({icon:"kso/images/btn_help.png",
"class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(f);var f=new y({id:"headingActionPlanCreate",baseClass:"headingActionPlan"}),h=new w({label:"Annuller",moveTo:"kso_planlist_view"});f.addChild(h);f.addChild(new w({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(f);f=new r({orientation:"vert"});this._date_start=new E({name:"date_start",label:"Start dato?"});f.addChild(this._date_start);var l=new G({label:"Varighed (antal dage)?"});this._do_in_days=
new F({labelFrom:1,labelTo:21,style:{width:"40px"},value:7});l.addChild(this._do_in_days);f.addChild(l);l=new u({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"Fx. g\u00e5 en tur rundt om boligblokken",trim:!0});f.addChild(l);l=new u({name:"do_how_much",label:"Hvor meget?","class":"mochInput",placeHolder:"Fx. 10 minutter",trim:!0});f.addChild(l);l=new u({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"Fx. F\u00f8r frokost",trim:!0});f.addChild(l);l=new u({name:"do_how_often",
label:"Hvor ofte?","class":"mochInput",placeHolder:"Fx. mandag, onsdag og fredag",trim:!0});f.addChild(l);l=new G({label:"Hvor sikker er du? (0 \x3d slet ikke sikker, 10 \x3d helt sikker)?",onValueChanged:function(){7>a._do_success.get("value")&&c.show()}});this._do_success=new F({labelFrom:0,labelTo:10,style:{width:"40px"},value:10});l.addChild(this._do_success);f.addChild(l);this._form=new e;this._form.domNode.appendChild(f.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new K);
k.subscribe("plan/create",d.hitch(this,function(a,c){g.set("moveTo",a.id);h.set("moveTo",a.id);this._item=d.clone(c);c?(this._item.do_what+=" KOPI",this._item.active=1,delete this._item.id,delete this._item.do_evaluate,delete this._item.do_evaluate_txt,this._form.set("value",this._item)):this._form.reset();a.performTransition("kso_plancreate_view");var e=D.getInstance().getStore("kso_plan","kso_plan").query();e.then(function(a){e.total.then(function(a){0==a&&b.show()})})}))},onSubmit:function(b){g.stop(b);
var c=D.getInstance().getStore("kso_plan","kso_plan"),e=D.getInstance().getStore("kso_diary","kso_diary"),f=this._form.get("value"),f=d.mixin(this._item,f);f.active=1;f.do_in_days=this._do_in_days.get("value");f.do_success=this._do_success.get("value");var h=new Date(this._date_start.get("value"));c.add(f).then(function(b){var g={id:b.id};d.mixin(g,b);for(var k=0;k<parseInt(f.do_in_days);k++){var l=J.date_to_iso(a.add(h,"day",k)),n={use_at:l,plan_id:b.id};0==k?g.use_at_start=l:g.use_at_end=l;e.add(n)}c.put(g)});
k.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/Switch":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/event dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/touch dijit/_Contained dijit/_WidgetBase ./sniff ./_maskUtils ./common dojo/has!dojo-bidi?dojox/mobile/bidi/Switch".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){q=l(r("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[e,q],
{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){this.templateString||(this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:f.create("span"));"undefined"!=typeof this.domNode.style.msTouchAction&&(this.domNode.style.msTouchAction="none");this.inherited(arguments);if(!this.templateString){var a=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];
if(a=a.match(/mblSw.*Shape\d*/))this.shape=a;g.add(this.domNode,this.shape);this.domNode.innerHTML='\x3cdiv class\x3d"mblSwitchInner"\x3e\x3cdiv class\x3d"mblSwitchBg mblSwitchBgLeft"\x3e\x3cdiv class\x3d"mblSwitchText mblSwitchTextLeft"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mblSwitchBg mblSwitchBgRight"\x3e\x3cdiv class\x3d"mblSwitchText mblSwitchTextRight"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mblSwitchKnob"\x3e\x3c/div\x3e\x3cinput type\x3d"hidden"'+(this.name?' name\x3d"'+this.name+
'"':"")+"\x3e\x3c/div\x3e\x3c/div\x3e";a=this.inner=this.domNode.firstChild;this.left=a.childNodes[0];this.right=a.childNodes[1];this.knob=a.childNodes[2];this.input=a.childNodes[3]}b.set(this.domNode,"role","checkbox");b.set(this.domNode,"aria-checked","on"===this.value?"true":"false");this.switchNode=this.domNode;r("windows-theme")&&(a=f.create("div",{className:"mblSwitchContainer"}),this.labelNode=f.create("label",{"class":"mblSwitchLabel","for":this.id},a),a.appendChild(this.domNode.cloneNode(!0)),
this.domNode=a,this.focusNode=a.childNodes[1],this.labelNode.innerHTML="off"==this.value?this.rightLabel:this.leftLabel,this.switchNode=this.domNode.childNodes[1],a=this.inner=this.domNode.childNodes[1].firstChild,this.left=a.childNodes[0],this.right=a.childNodes[1],this.knob=a.childNodes[2],this.input=a.childNodes[3])},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,a.press,
"onTouchStart");this._initialValue=this.value},_changeState:function(a,c){var d="on"===a;this.left.style.display="";this.right.style.display="";this.inner.style.left="";c&&g.add(this.switchNode,"mblSwitchAnimation");g.remove(this.switchNode,d?"mblSwitchOff":"mblSwitchOn");g.add(this.switchNode,d?"mblSwitchOn":"mblSwitchOff");b.set(this.switchNode,"aria-checked",d?"true":"false");var e=this;e.defer(function(){e.left.style.display=d?"":"none";e.right.style.display=!d?"":"none";g.remove(e.switchNode,
"mblSwitchAnimation")},c?300:0)},_createMaskImage:function(){this._timer&&(this._timer.remove(),delete this._timer);if(!this._hasMaskImage&&(this._width=this.switchNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,r("webkit")||r("svg"))){var a=c.get(this.left,"borderTopLeftRadius");if("0px"!=a){var b=a.split(" "),a=parseFloat(b[0]),b=1==b.length?a:parseFloat(b[1]),d=this.switchNode.offsetWidth,e=this.switchNode.offsetHeight;(this.shape+"Mask"+d+e+a+b).replace(/\./,"_");t.createRoundMask(this.switchNode,
0,0,0,0,d,e,a,b,1)}}},_onClick:function(a){if((!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(b){this._moved=!1;this.innerStartX=this.inner.offsetLeft;this._conn||(this._conn=[this.connect(this.inner,a.move,"onTouchMove"),this.connect(d.doc,a.release,"onTouchEnd")],r("windows-theme")&&this._conn.push(this.connect(d.doc,
"MSPointerCancel","onTouchEnd")));this.touchStartX=b.touches?b.touches[0].pageX:b.clientX;this.left.style.display="";this.right.style.display="";k.stop(b);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var b=this.innerStartX+a;b<=-(this._width-10)&&(b=-this._width);-10<=b&&(b=0);this.inner.style.left=b+"px";10<Math.abs(a)&&(this._moved=!0)},onTouchEnd:function(a){h.forEach(this._conn,
p.disconnect);this._conn=null;this.innerStartX==this.inner.offsetLeft?r("touch")&&r("clicks-prevented")&&s._sendClick(this.inner,a):(a=this.inner.offsetLeft<-(this._width/2)?"off":"on",a=this._newState(a),this._changeState(a,!0),a!=this.value&&(this.value=this.input.value=a,this.onStateChanged(a)))},_newState:function(a){return a},onStateChanged:function(a){this.labelNode&&(this.labelNode.innerHTML="off"==a?this.rightLabel:this.leftLabel)},_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=
a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}});return r("dojo-bidi")?l("dojox.mobile.Switch",[q,n]):q})},"dojox/mobile/ValuePicker":function(){define(["dojo/_base/declare","./_PickerBase","./ValuePickerSlot"],function(h,p){return h("dojox.mobile.ValuePicker",
p,{baseClass:"mblValuePicker",onValueChanged:function(h){}})})},"dojox/mobile/_PickerBase":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(h,p,l,k,d){return p("dojox.mobile._PickerBase",[d,k,l],{slotClasses:[],slotProps:[],slotOrder:[],buildRendering:function(){this.inherited(arguments);this.slots=[];for(var d=0;d<this.slotClasses.length;d++){var f=this.slotOrder.length?this.slotOrder[d]:d,c=new this.slotClasses[f](this.slotProps[f]);
this.addChild(c);this.slots[f]=c}},startup:function(){this._started||(this._duringStartup=!0,this.inherited(arguments),this.reset(),delete this._duringStartup)},getSlots:function(){return this.slots.length?this.slots:h.filter(this.getChildren(),function(d){return-1!==d.declaredClass.indexOf("Slot")})},_getValuesAttr:function(){return h.map(this.getSlots(),function(d){return d.get("value")})},_setValuesAttr:function(d){h.forEach(this.getSlots(),function(f,c){f.set("value",d[c])})},_setColorsAttr:function(d){h.forEach(this.getSlots(),
function(f,c){f.setColor&&f.setColor(d[c])})},reset:function(){h.forEach(this.getSlots(),function(d){d.setInitialValue()})}})})},"dojox/mobile/ValuePickerSlot":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/touch dijit/_WidgetBase ./iconUtils dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/ValuePickerSlot".split(" "),function(h,p,l,k,d,g,f,c,b,a,q,e,r){a=p(e("dojo-bidi")?"dojox.mobile.NonBidiValuePickerSlot":
"dojox.mobile.ValuePickerSlot",a,{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,readOnly:!1,tabIndex:"0",plusBtnLabel:"",plusBtnLabelRef:"",minusBtnLabel:"",minusBtnLabelRef:"",baseClass:"mblValuePickerSlot",buildRendering:function(){this.inherited(arguments);this.initLabels();if(0<this.labels.length){this.items=[];for(var a=0;a<this.labels.length;a++)this.items.push([a,this.labels[a]])}this.plusBtnNode=f.create("div",{className:"mblValuePickerSlotPlusButton mblValuePickerSlotButton",
title:"+"},this.domNode);this.plusIconNode=f.create("div",{className:"mblValuePickerSlotIcon"},this.plusBtnNode);q.createIcon("mblDomButtonGrayPlus",null,this.plusIconNode);this.inputAreaNode=f.create("div",{className:"mblValuePickerSlotInputArea"},this.domNode);this.inputNode=f.create("input",{className:"mblValuePickerSlotInput",readonly:this.readOnly},this.inputAreaNode);this.minusBtnNode=f.create("div",{className:"mblValuePickerSlotMinusButton mblValuePickerSlotButton",title:"-"},this.domNode);
this.minusIconNode=f.create("div",{className:"mblValuePickerSlotIcon"},this.minusBtnNode);q.createIcon("mblDomButtonGrayMinus",null,this.minusIconNode);c.set(this.plusBtnNode,"role","button");this._setPlusBtnLabelAttr(this.plusBtnLabel);this._setPlusBtnLabelRefAttr(this.plusBtnLabelRef);c.set(this.inputNode,"role","textbox");a=require("dijit/registry").getUniqueId("dojo_mobile__mblValuePickerSlotInput");c.set(this.inputNode,"id",a);c.set(this.plusBtnNode,"aria-controls",a);c.set(this.minusBtnNode,
"role","button");c.set(this.minusBtnNode,"aria-controls",a);this._setMinusBtnLabelAttr(this.minusBtnLabel);this._setMinusBtnLabelRefAttr(this.minusBtnLabelRef);""===this.value&&0<this.items.length&&(this.value=this.items[0][1]);this._initialValue=this.value},startup:function(){this._started||(this._handlers=[this.connect(this.plusBtnNode,b.press,"_onTouchStart"),this.connect(this.minusBtnNode,b.press,"_onTouchStart"),this.connect(this.plusBtnNode,"onkeydown","_onClick"),this.connect(this.minusBtnNode,
"onkeydown","_onClick"),this.connect(this.inputNode,"onchange",k.hitch(this,function(a){this._onChange(a)}))],this.inherited(arguments),this._set(this.plusBtnLabel))},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var a=this.labels=[],b=this.zeroPad&&Array(this.zeroPad).join("0"),c=this.labelFrom;c<=this.labelTo;c+=this.step)a.push(this.zeroPad?(b+c).slice(-this.zeroPad):c+"")},spin:function(a){for(var b=-1,c=this.get("value"),d=this.items.length,e=0;e<d;e++)if(this.items[e][1]===c){b=
e;break}-1!=c&&(b+=a,0>b&&(b+=(Math.abs(Math.ceil(b/d))+1)*d),this.set("value",this.items[b%d][1]))},setInitialValue:function(){this.set("value",this._initialValue)},_onClick:function(a){if((!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)){a=a.currentTarget;if(a===this.plusBtnNode||a===this.minusBtnNode)this._btn=a;this.spin(this._btn===this.plusBtnNode?1:-1)}},onClick:function(){},_onChange:function(a){!1!==this.onChange(a)&&(a=this.get("value"),a=this.validate(a),this.set("value",
a.length?a[0][1]:this.value))},onChange:function(){},validate:function(a){return h.filter(this.items,function(b){return(b[1]+"").toLowerCase()==(a+"").toLowerCase()})},_onTouchStart:function(a){this._conn=[this.connect(d.body(),b.move,"_onTouchMove"),this.connect(d.body(),b.release,"_onTouchEnd")];this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;g.add(a.currentTarget,"mblValuePickerSlotButtonSelected");this._btn=a.currentTarget;this._timer&&
(this._timer.remove(),this._timer=null);this._interval&&(clearInterval(this._interval),this._interval=null);this._timer=this.defer(function(){this._interval=setInterval(k.hitch(this,function(){this.spin(this._btn===this.plusBtnNode?1:-1)}),60);this._timer=null},1E3);l.stop(a)},_onTouchMove:function(a){var b=a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-this.touchStartY))this._timer&&(this._timer.remove(),this._timer=
null),this._interval&&(clearInterval(this._interval),this._interval=null),h.forEach(this._conn,this.disconnect,this),g.remove(this._btn,"mblValuePickerSlotButtonSelected")},_onTouchEnd:function(a){this._timer&&(this._timer.remove(),this._timer=null);h.forEach(this._conn,this.disconnect,this);g.remove(this._btn,"mblValuePickerSlotButtonSelected");this._interval?(clearInterval(this._interval),this._interval=null):this._onClick(a)},_getKeyAttr:function(){var a=this.get("value"),b=h.filter(this.items,
function(b){return b[1]===a})[0];return b?b[0]:null},_getValueAttr:function(){return this.inputNode.value},_setValueAttr:function(a){this._spinToValue(a,!0)},_spinToValue:function(a,b){if(this.get("value")!=a){this.inputNode.value=a;b&&this._set("value",a);var c=this.getParent();if(c&&c.onValueChanged)c.onValueChanged(this)}},_setTabIndexAttr:function(a){this.plusBtnNode.setAttribute("tabIndex",a);this.minusBtnNode.setAttribute("tabIndex",a)},_setAria:function(a,b,d){d?c.set(a,b,d):c.remove(a,b)},
_setPlusBtnLabelAttr:function(a){this._setAria(this.plusBtnNode,"aria-label",a)},_setPlusBtnLabelRefAttr:function(a){this._setAria(this.plusBtnNode,"aria-labelledby",a)},_setMinusBtnLabelAttr:function(a){this._setAria(this.minusBtnNode,"aria-label",a)},_setMinusBtnLabelRefAttr:function(a){this._setAria(this.minusBtnNode,"aria-labelledby",a)}});return e("dojo-bidi")?p("dojox.mobile.ValuePickerSlot",[a,r]):a})},"dojox/mobile/ComboBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-geometry dojo/dom-style dojo/dom-attr dojo/window dojo/touch dijit/form/_AutoCompleterMixin dijit/popup ./_ComboBoxMenu ./TextBox ./sniff".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t){h.experimental("dojox.mobile.ComboBox");return p("dojox.mobile.ComboBox",[r,a],{dropDownClass:"dojox.mobile._ComboBoxMenu",selectOnClick:!1,autoComplete:!1,dropDown:null,maxHeight:-1,dropDownPosition:["below","above"],_throttleOpenClose:function(){this._throttleHandler&&this._throttleHandler.remove();this._throttleHandler=this.defer(function(){this._throttleHandler=null},500)},_onFocus:function(){this.inherited(arguments);!this._opened&&!this._throttleHandler&&
this._startSearchAll();t("windows-theme")&&this.domNode.blur()},onInput:function(a){this._onKey(a);this.inherited(arguments)},_setListAttr:function(a){this._set("list",a)},closeDropDown:function(){this._throttleOpenClose();this.endHandler&&(this.disconnect(this.startHandler),this.disconnect(this.endHandler),this.disconnect(this.moveHandler),clearInterval(this.repositionTimer),this.repositionTimer=this.endHandler=null);this.inherited(arguments);f.remove(this.domNode,"aria-owns");f.set(this.domNode,
"aria-expanded","false");q.close(this.dropDown);this._opened=!1;t("windows-theme")&&this.domNode.disabled&&this.defer(function(){this.domNode.removeAttribute("disabled")},300)},openDropDown:function(){var a=!this._opened,e=this.dropDown,h=e.domNode,p=this.domNode,r=this;f.set(e.domNode,"role","listbox");f.set(this.domNode,"aria-expanded","true");e.id&&f.set(this.domNode,"aria-owns",e.id);t("touch")&&k.global.scrollBy(0,d.position(p,!1).y);this._preparedNode||(this._preparedNode=!0,h.style.width&&
(this._explicitDDWidth=!0),h.style.height&&(this._explicitDDHeight=!0));var w={display:"",overflow:"hidden",visibility:"hidden"};this._explicitDDWidth||(w.width="");this._explicitDDHeight||(w.height="");g.set(h,w);w=this.maxHeight;if(-1==w)var w=c.getBox(),x=d.position(p,!1),w=Math.floor(Math.max(x.y,w.h-(x.y+x.h)));q.moveOffScreen(e);e.startup&&!e._started&&e.startup();x=d.position(this.dropDown.containerNode,!1);w&&x.h>w&&(x.h=w);x.w=Math.max(x.w,p.offsetWidth);d.setMarginBox(h,x);h=q.open({parent:this,
popup:e,around:p,orient:t("windows-theme")?["above"]:this.dropDownPosition,onExecute:function(){r.closeDropDown()},onCancel:function(){r.closeDropDown()},onClose:function(){r._opened=!1}});this._opened=!0;if(a){var z=!1,B=!1,A=!1,C=e.domNode.parentNode,a=d.position(p,!1),w=d.position(C,!1),E=w.x-a.x,G=w.y-a.y,F=-1,I=-1;this.startHandler=this.connect(k.doc.documentElement,b.press,function(a){A=B=!0;z=!1;F=a.clientX;I=a.clientY});this.moveHandler=this.connect(k.doc.documentElement,b.move,function(a){B=
!0;if(a.touches)A=z=!0;else if(A&&(a.clientX!=F||a.clientY!=I))z=!0});this.clickHandler=this.connect(e.domNode,"onclick",function(){B=!0;A=z=!1});this.endHandler=this.connect(k.doc.documentElement,"onmouseup",function(){this.defer(function(){B=!0;!z&&A&&this.closeDropDown();A=!1})});this.repositionTimer=setInterval(l.hitch(this,function(){if(B)B=!1;else{var a=d.position(p,!1),b=d.position(C,!1),c=b.x-a.x,a=b.y-a.y;(1<=Math.abs(c-E)||1<=Math.abs(a-G))&&g.set(C,{left:parseInt(g.get(C,"left"))+E-c+"px",
top:parseInt(g.get(C,"top"))+G-a+"px"})}}),50)}t("windows-theme")&&this.domNode.setAttribute("disabled",!0);return h},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick");f.set(this.domNode,"role","combobox");f.set(this.domNode,"aria-expanded","false")},destroy:function(){this.repositionTimer&&clearInterval(this.repositionTimer);this.inherited(arguments)},_onClick:function(a){this._throttleHandler||(this.opened?this.closeDropDown():this._startSearchAll())}})})},
"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(h,p,l,k,d,g,f,c,b,a,q){p=p("dijit.form._AutoCompleterMixin",q,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(c("ie")){var d=
a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),b=String(a.text).replace(/\r/g,"").length}catch(f){}}return b},_setCaretPos:function(b,c){c=parseInt(c);a.selectInputText(b,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==k.ALT||b==k.CTRL||b==k.META||
b==k.SHIFT)){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(d=c.getHighlightedOption()),b){case k.PAGE_DOWN:case k.DOWN_ARROW:case k.PAGE_UP:case k.UP_ARROW:this._opened&&this._announceOption(d);a.stopPropagation();a.preventDefault();break;case k.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(d==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();
break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case k.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case k.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(b){var c=this.focusNode;a.selectInputText(c,c.value.length);var d=this.ignoreCase?"toLowerCase":"substr";0==b[d](0).indexOf(this.focusNode.value[d](0))?
(d=this.autoComplete?this._getCaretPos(c):c.value.length,d+1>c.value.length&&(c.value=b,a.selectInputText(c,d))):(c.value=b,a.selectInputText(c))},_openResultList:function(a,b,c){var f=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=d.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,c,d.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in
c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),f&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},
isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];
b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},
_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (d.isString(this.dropDownClass)?d.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:d.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);
if(!this.store&&(this.store=new b({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var c=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,c):a[c]}}},postCreate:function(){var a=g('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);h.after(this,"onSearch",d.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=
this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=f.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,
'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});
c("dojo-bidi")&&p.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return p})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(h,p,l,k,d,g){function f(c){return{id:c.value,value:c.value,name:l.trim(c.innerText||c.textContent||"")}}return h("dijit.form.DataList",d,{constructor:function(c,b){this.domNode=p.byId(b);l.mixin(this,c);this.id&&
g.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:k("option",this.domNode).map(f)}])},destroy:function(){g.remove(this.id)},fetchSelectedItem:function(){var c=k("\x3e option[selected]",this.domNode)[0]||k("\x3e option",this.domNode)[0];return c&&f(c)}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(h,p,l,k,d,g,f){return h("dijit.form._SearchMixin",null,{pageSize:Infinity,
store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(c){return RegExp("^"+c.replace(/(\\.)|(\*)|(\?)|\W/g,function(b,a,c,d){return c?".*":d?".":a?a:"\\"+b})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,
this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(c){if(!this.disabled&&!this.readOnly){var b=c.charOrCode;if(!("type"in c&&"key"==c.type.substring(0,3)&&(c.altKey||(c.ctrlKey||c.metaKey)&&"x"!=b&&"v"!=b||b==p.SHIFT))){this._prev_key_backspace=c=!1;switch(b){case p.DELETE:case p.BACKSPACE:c=this._maskValidSubsetError=this._prev_key_backspace=!0;break;
default:c="string"==typeof b||229==b}if(c)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(c){this._abortQuery();var b=this,a=l.clone(this.query),f={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},e=d.substitute(this.queryExpr,[c.replace(/([\\\*\?])/g,"\\$1")]),k,h=function(){var c=b._fetchHandle=b.store.query(a,
f);!b.disabled&&!(b.readOnly||k!==b._lastQuery)&&g(c,function(d){b._fetchHandle=null;!b.disabled&&(!b.readOnly&&k===b._lastQuery)&&g(c.total,function(c){d.total=c;var e=b.pageSize;if(isNaN(e)||e>d.total)e=d.total;d.nextPage=function(c){f.direction=c=!1!==c;f.count=e;c?(f.start+=d.length,f.start>=d.total&&(f.count=0)):(f.start-=e,0>f.start&&(f.count=Math.max(e+f.start,0),f.start=0));0>=f.count?(d.length=0,b.onSearch(d,a,f)):h()};b.onSearch(d,a,f)})},function(a){b._fetchHandle=null;b._cancelingQuery||
console.error(b.declaredClass+" "+a.toString())})};l.mixin(f,this.fetchProperties);this.store._oldAPI?k=e:(k=this._patternToRegExp(e),k.toString=function(){return e});this._lastQuery=a[this.searchAttr]=k;this._queryDeferHandle=this.defer(h,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var c=this.list;c&&(this.store=f.byId(c))}this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n){function v(){this._popupWrapper&&(g.destroy(this._popupWrapper),delete this._popupWrapper)}l=l(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=f.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseInt(d.top,10)+a+"px";"auto"==d.right?d.left=parseInt(d.left,10)+
c+"px":d.right=parseInt(d.right,10)-c+"px"}}this._aroundMoveListener=setTimeout(q.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;b||(b=g.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,p.after(a,"destroy",v,!0));return b},moveOffScreen:function(a){var b=
this._createWrapper(a);a=f.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";c.set(b,d);return b},hide:function(a){var b=this._createWrapper(a);c.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(g){for(var h=
this._stack,l=g.popup,n=l.domNode,p=g.orient||["below","below-alt","above","above-alt"],v=g.parent?g.parent.isLeftToRight():f.isBodyLtr(l.ownerDocument),A=g.around,C=g.around&&g.around.id?g.around.id+"_dropdown":"popup_"+this._idGen++;h.length&&(!g.parent||!k.isDescendant(g.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);var E=this.moveOffScreen(l);l.startup&&!l._started&&l.startup();var G,F=f.position(n);if("maxHeight"in g&&-1!=g.maxHeight)G=g.maxHeight||Infinity;
else{G=s.getEffectiveBox(this.ownerDocument);var I=A?f.position(A,!1):{y:g.y-(g.padding||0),h:2*(g.padding||0)};G=Math.floor(Math.max(I.y,G.h-(I.y+I.h)))}F.h>G&&(F=c.getComputedStyle(n),c.set(E,{overflowY:"scroll",height:G+"px",border:F.borderLeftWidth+" "+F.borderLeftStyle+" "+F.borderLeftColor}),n._originalStyle=n.style.cssText,n.style.border="none");d.set(E,{id:C,style:{zIndex:this._beginZIndex+h.length},"class":"dijitPopup "+(l.baseClass||l["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:g.parent?
g.parent.id:""});0==h.length&&A&&(this._firstAroundNode=A,this._firstAroundPosition=f.position(A,!0),this._aroundMoveListener=setTimeout(q.hitch(this,"_repositionAll"),50));b("config-bgIframe")&&!l.bgIframe&&(l.bgIframe=new t(E));C=l.orient?q.hitch(l,"orient"):null;p=A?r.around(E,A,p,v,C):r.at(E,g,"R"==p?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],g.padding,C);E.style.visibility="visible";n.style.visibility="visible";n=[];n.push(e(E,"keydown",q.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&g.onCancel)b.stopPropagation(),
b.preventDefault(),g.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));l.onCancel&&g.onCancel&&n.push(l.on("cancel",g.onCancel));n.push(l.on(l.onExecute?"execute":"change",q.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));h.push({widget:l,wrapper:E,parent:g.parent,onExecute:g.onExecute,onCancel:g.onCancel,onClose:g.onClose,handlers:n});if(l.onOpen)l.onOpen(p);return p},close:function(a){for(var b=
this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;if(d.onClose)d.onClose();for(var f;f=c.handlers.pop();)f.remove();d&&d.domNode&&this.hide(d);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return n.popup=new l})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(h,p,l,k,d,g,f){function c(a,b,c,f){var k=g.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&d.body(a.ownerDocument).appendChild(a);var s=null;h.some(b,function(b){var d=b.corner,g=b.pos,h=0,l={w:{L:k.l+k.w-g.x,R:g.x-k.l,M:k.w}[d.charAt(1)],h:{T:k.t+k.h-g.y,B:g.y-k.t,M:k.h}[d.charAt(0)]},n=a.style;n.left=n.right="auto";c&&(h=c(a,b.aroundCorner,d,l,f),h="undefined"==typeof h?0:h);var q=a.style,u=q.display,v=q.visibility;"none"==q.display&&
(q.visibility="hidden",q.display="");n=p.position(a);q.display=u;q.visibility=v;u={L:g.x,R:g.x-n.w,M:Math.max(k.l,Math.min(k.l+k.w,g.x+(n.w>>1))-n.w)}[d.charAt(1)];v={T:g.y,B:g.y-n.h,M:Math.max(k.t,Math.min(k.t+k.h,g.y+(n.h>>1))-n.h)}[d.charAt(0)];g=Math.max(k.l,u);q=Math.max(k.t,v);u=Math.min(k.l+k.w,u+n.w);v=Math.min(k.t+k.h,v+n.h);u-=g;v-=q;h+=n.w-u+(n.h-v);if(null==s||h<s.overflow)s={corner:d,aroundCorner:b.aroundCorner,x:g,y:q,w:u,h:v,overflow:h,spaceAvailable:l};return!h});s.overflow&&c&&c(a,
s.aroundCorner,s.corner,s.spaceAvailable,f);b=p.isBodyLtr(a.ownerDocument);var n=s.y,v=b?s.x:k.w-s.x-s.w;/relative|absolute/.test(l.get(d.body(a.ownerDocument),"position"))&&(n-=l.get(d.body(a.ownerDocument),"marginTop"),v-=(b?1:-1)*l.get(d.body(a.ownerDocument),b?"marginLeft":"marginRight"));var u=a.style;u.top=n+"px";u[b?"left":"right"]=v+"px";u[b?"right":"left"]="auto";return s}var b={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return f.place={at:function(a,d,e,f,g){e=h.map(e,function(a){var c={corner:a,
aroundCorner:b[a],pos:{x:d.x,y:d.y}};f&&(c.pos.x+="L"==a.charAt(1)?f.x:-f.x,c.pos.y+="T"==a.charAt(0)?f.y:-f.y);return c});return c(a,e,g)},around:function(a,b,d,f,g){function s(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:B,B:B+C,M:B+(C>>1)}[a.charAt(0)]}})}var n;if("string"==typeof b||"offsetWidth"in b){if(n=p.position(b,!0),/^(above|below)/.test(d[0])){var v=p.getBorderExtents(b),u=b.firstChild?p.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},y=p.getBorderExtents(a),
w=a.firstChild?p.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};n.y+=Math.min(v.t+u.t,y.t+w.t);n.h-=Math.min(v.t+u.t,y.t+w.t)+Math.min(v.b+u.b,y.b+w.b)}}else n=b;if(b.parentNode){v="absolute"==l.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=p.position(b,!0);y=l.getComputedStyle(b);/relative|absolute/.test(y.position)&&(v=!1);if(!v&&/hidden|auto|scroll/.test(y.overflow)){var w=Math.min(n.y+n.h,u.y+u.h),x=Math.min(n.x+n.w,u.x+u.w);n.x=Math.max(n.x,u.x);n.y=
Math.max(n.y,u.y);n.h=w-n.y;n.w=x-n.x}"absolute"==y.position&&(v=!0);b=b.parentNode}}var z=n.x,B=n.y,A="w"in n?n.w:n.w=n.width,C="h"in n?n.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+B+", height:"+n.height+", width:"+A+" } has been deprecated.  Please use { x:"+z+", y:"+B+", h:"+n.height+", w:"+A+" }","","2.0"),n.h=n.height),E=[];h.forEach(d,function(a){var b=f;switch(a){case "above-centered":s("TM","BM");break;case "below-centered":s("BM","TM");break;case "after-centered":b=
!b;case "before-centered":s(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":s(b?"TL":"TR",b?"TR":"TL");s(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":s(b?"BL":"BR",b?"TL":"TR");s(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":s(b?"TL":"TR",b?"BL":"BR");s(b?"TR":"TL",b?"BR":"BL");break;default:s(a.aroundCorner,a.corner)}});a=c(a,E,g,{w:A,h:C});a.aroundNodePos=n;return a}}})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(h,p,l,k,d,g,f,c){c.add("config-bgIframe",!c("touch"));var b=new function(){var a=[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>c("ie")?(b="\x3ciframe src\x3d'"+(l.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=k.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",
b.setAttribute("role","presentation"),d.set(b,"opacity",0.1)),b.tabIndex=-1);return b};this.push=function(b){b.style.display="none";a.push(b)}};p.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(c("config-bgIframe")){var k=this.iframe=b.pop();a.appendChild(k);7>c("ie")||c("quirks")?(this.resize(a),this._conn=f(a,"resize",g.hitch(this,"resize",a))):d.set(k,{width:"100%",height:"100%"})}};g.extend(p.BackgroundIframe,{resize:function(a){this.iframe&&d.set(this.iframe,{width:a.offsetWidth+
"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(b.push(this.iframe),delete this.iframe)}});return p.BackgroundIframe})},"dojox/mobile/_ComboBoxMenu":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/form/_ComboBoxMenuMixin dijit/_WidgetBase ./_ListTouchMixin ./scrollable dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/_ComboBoxMenu".split(" "),function(h,p,l,k,d,g,f,c,b,a){h=p(b("dojo-bidi")?
"dojox.mobile._NonBidiComboBoxMenu":"dojox.mobile._ComboBoxMenu",[g,f,d],{baseClass:"mblComboBoxMenu",bgIframe:!0,buildRendering:function(){this.domNode=this.focusNode=k.create("div",{"class":"mblReset"});this.containerNode=k.create("div",{style:{position:"absolute",top:0,left:0}},this.domNode);this.previousButton=k.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuPreviousButton",role:"option"},this.containerNode);this.nextButton=k.create("div",{"class":"mblReset mblComboBoxMenuItem mblComboBoxMenuNextButton",
role:"option"},this.containerNode);this.inherited(arguments)},_createMenuItem:function(){return k.create("div",{"class":"mblReset mblComboBoxMenuItem"+(this.isLeftToRight()?"":" mblComboBoxMenuItemRtl"),role:"option"})},onSelect:function(a){l.add(a,"mblComboBoxMenuItemSelected")},onDeselect:function(a){l.remove(a,"mblComboBoxMenuItemSelected")},onOpen:function(){this.scrollable.init({domNode:this.domNode,containerNode:this.containerNode});this.scrollable.scrollTo({x:0,y:0})},onClose:function(){this.scrollable.cleanup()},
destroyRendering:function(){this.bgIframe=!1;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.scrollable=new c;this.scrollable.resize=function(){}}});return b("dojo-bidi")?p("dojox.mobile._ComboBoxMenu",[h,a]):h})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(h,p,l,k,d){var g=p("dijit.form._ComboBoxMenuMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{_messages:null,
postMixInProperties:function(){this.inherited(arguments);this._messages=d.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(d){this._set("value",d);this.onChange(d)},onClick:function(d){if(d==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(d==this.nextButton)this._setSelectedAttr(null),
this.onPage(1);else this.onChange(d)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(d,c){var b=this._createMenuItem(),a=c(d);a.html?b.innerHTML=a.label:b.appendChild(b.ownerDocument.createTextNode(a.label));""==b.innerHTML&&(b.innerHTML="\x26#160;");return b},createOptions:function(d,c,b){this.items=d;this.previousButton.style.display=0==c.start?"none":"";l.set(this.previousButton,"id",this.id+"_prev");h.forEach(d,function(a,c){var d=
this._createOption(a,b);d.setAttribute("item",c);l.set(d,"id",this.id+c);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var a=!1;d.total&&!d.total.then&&-1!=d.total?c.start+c.count<d.total?a=!0:c.start+c.count>d.total&&c.count==d.length&&(a=!0):c.count==d.length&&(a=!0);this.nextButton.style.display=a?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var d=this.containerNode;2<d.childNodes.length;)d.removeChild(d.childNodes[d.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});k("dojo-bidi")&&(g=p("dijit.form._ComboBoxMenuMixin",
g,{_createOption:function(){var d=this.inherited(arguments);this.applyTextDir(d);return d}}));return g})},"dojox/mobile/_ListTouchMixin":function(){define(["dojo/_base/declare","dojo/touch","./sniff","dijit/form/_ListBase"],function(h,p,l,k){return h("dojox.mobile._ListTouchMixin",k,{postCreate:function(){this.inherited(arguments);if(10<=l("ie")&&"undefined"!==typeof MSGesture){this._listConnect(p.press,"_onPress");var d=this,g=new MSGesture,f;this._onPress=function(c){g.target=d.domNode;g.addPointer(c.pointerId);
f=c.target};this.on("MSGestureTap",function(c){d._onClick(c,f)})}else this._listConnect("click","_onClick")},_onClick:function(d,g){this._setSelectedAttr(g);this.onClick(g)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(h,p,l){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(k,d){var g=this;return g.own(p(g.containerNode,p.selector(function(d,c,b){return d.parentNode==b},k),function(f){f.preventDefault();g[d](f,this)}))},
selectFirstNode:function(){for(var k=this.containerNode.firstChild;k&&"none"==k.style.display;)k=k.nextSibling;this._setSelectedAttr(k)},selectLastNode:function(){for(var k=this.containerNode.lastChild;k&&"none"==k.style.display;)k=k.previousSibling;this._setSelectedAttr(k)},selectNextNode:function(){var k=this.selected;if(k){for(k=k.nextSibling;k&&"none"==k.style.display;)k=k.nextSibling;k?this._setSelectedAttr(k):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var k=
this.selected;if(k){for(k=k.previousSibling;k&&"none"==k.style.display;)k=k.previousSibling;k?this._setSelectedAttr(k):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(k){if(this.selected!=k){var d=this.selected;if(d)this.onDeselect(d);k&&(l.scrollIntoView(k),this.onSelect(k));this._set("selected",k)}else if(k)this.onSelect(k)}})})},"kso/views/PlanEdit":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/date dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeStoreList dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog dojox/mobile/SpinWheelDatePicker".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H){return l([t],{id:"kso_planedit_view",_form:null,_item:null,postCreate:function(){var a=this,b=new H;b.confirm("Hj\u00e6lp til handleplan","N\u00e5r du opretter en handleplan, er det vigtigt, at den er REALISTISK, at det er noget DU GERNE VIL opn\u00e5, og at det er en HANDLING - at tabe sig er fx ikke en handling, men at undg\u00e5 usunde mellemm\u00e5ltider er en handling. At tabe sig er et resultat af \u00e6ndret handling.");
this.addChild(b);var c=new H;c.confirm("","Kan du justere din handleplan, s\u00e5 du er mere sikker p\u00e5 at kunne gennemf\u00f8re den?");this.addChild(c);sview=new s;var f=new y({label:"Rediger handleplan","class":"headingPlan"}),g=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});f.addChild(g);f.addChild(new w({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));
this.addChild(f);var f=new y({id:"headingActionPlanEdit",baseClass:"headingActionPlan"}),h=new w({label:"Annuller",moveTo:"kso_planlist_view"});f.addChild(h);f.addChild(new w({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(f);f=new r({orientation:"vert"});g=new u({name:"do_what",label:"Hvad?","class":"mochInput",placeHolder:"Fx. g\u00e5 en tur rundt om boligblokken",trim:!0});f.addChild(g);g=new u({name:"do_how_much",label:"Hvor meget?","class":"mochInput",placeHolder:"Fx. 10 minutter",
trim:!0});f.addChild(g);g=new u({name:"do_when",label:"Hvorn\u00e5r?","class":"mochInput",placeHolder:"Fx. f\u00f8r frokost",trim:!0});f.addChild(g);g=new u({name:"do_how_often",label:"Hvor ofte?","class":"mochInput",placeHolder:"Fx. mandag, onsdag og fredag",trim:!0});f.addChild(g);g=new G({label:"Hvor sikker er du? (0 \x3d slet ikke sikker, 10 \x3d helt sikker)?",onValueChanged:function(){7>a._do_success.get("value")&&c.show()}});this._do_success=new F({labelFrom:0,labelTo:10,style:{width:"40px"},
value:10});g.addChild(this._do_success);f.addChild(g);this._form=new e;this._form.domNode.appendChild(f.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new K);k.subscribe("plan/edit",d.hitch(this,function(a,b){h.set("moveTo",a.id);this._item=d.clone(b);1==this._item.active&&(this._item.active="on");this._form.set("value",this._item);this._do_success.set("value",this._item.do_success);a.performTransition("kso_planedit_view")}))},onSubmit:function(a){g.stop(a);a=D.getInstance().getStore("kso_plan",
"kso_plan");var b=this._form.get("value"),b=d.mixin(this._item,b);b.active=1;b.do_success=this._do_success.get("value");b.id=this._item.id;b.rev=this._item.rev;a.put(b);k.publish("plan/list",this)},onStartView:function(){}})})},"dojox/mobile/SpinWheelDatePicker":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class ./_DatePickerMixin ./SpinWheel ./SpinWheelSlot".split(" "),function(h,p,l,k,d,g){return p("dojox.mobile.SpinWheelDatePicker",[d,k],{slotClasses:[g,g,g],slotProps:[{labelFrom:1970,
labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);l.add(this.domNode,"mblSpinWheelDatePicker");this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(d){h.forEach(this.slots[2].panelNodes,function(c){for(var b=27;31>b;b++)l.toggle(c.childNodes[b],"mblSpinWheelSlotLabelGray",b>=d)})}})})},"dojox/mobile/_DatePickerMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/date dojo/date/locale dojo/date/stamp".split(" "),
function(h,p,l,k,d,g){var f={format:function(a){return d.format(a,{datePattern:this.pattern,selector:"date"})}},c=l.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var a=new Date(this.labelFrom,0,1),b,c;b=this.labelFrom;for(c=0;b<=this.labelTo;b++,c++)a.setFullYear(b),this.labels.push(this.format(a))}}},f),b=l.mixin({initLabels:function(){this.labels=[];for(var a=new Date(2E3,0,16),b=0;12>b;b++)a.setMonth(b),this.labels.push(this.format(a))}},f),a=l.mixin({initLabels:function(){this.labels=
[];for(var a=new Date(2E3,0,1),b=1;31>=b;b++)a.setDate(b),this.labels.push(this.format(a))}},f);return p("dojox.mobile._DatePickerMixin",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var d=this.slotClasses,e=this.slotProps;d[0]=p(d[0],c);d[1]=p(d[1],b);d[2]=p(d[2],a);e[0].pattern=this.yearPattern;e[1].pattern=this.monthPattern;e[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(!this.slotOrder.length){var a=d._parseInfo().bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,
3);this.slotOrder=h.map(a,function(a){return{y:0,m:1,d:2}[a.charAt(0)]})}},reset:function(){var a=new Date,b=h.map(this.slots,function(b){return b.format(a)});this.set("colors",b);this._disableEndDaysOfMonth();this.value?(this.set("value",this.value),this.value=null):this.values?(this.set("values",this.values),this.values=null):this.set("values",b)},_onYearSet:function(){var a=this.slots[0],b=a.get("value");a._previousValue&&b==a._previousValue||(this._disableEndDaysOfMonth(),a._previousValue=b,a._set("value",
b),this.onYearSet())},onYearSet:function(){},_onMonthSet:function(){var a=this.slots[1],b=a.get("value");a._previousValue&&b==a._previousValue||(this._disableEndDaysOfMonth(),a._previousValue=b,a._set("value",b),this.onMonthSet())},onMonthSet:function(){},_onDaySet:function(){var a=this.slots[2],b=a.get("value");!(a._previousValue&&b==a._previousValue)&&!this._disableEndDaysOfMonth()&&(a._previousValue=b,a._set("value",b),this.onDaySet())},onDaySet:function(){},_disableEndDaysOfMonth:function(){var a=
this.slots[0].pattern+"/"+this.slots[1].pattern,b=this.get("values"),a=d.parse(b[0]+"/"+b[1],{datePattern:a,selector:"date"}),a=k.getDaysInMonth(a),c=!1;a<b[2]&&(c=!0,this.slots[2]._spinToValue(a,!1));this.disableValues(a);return c},_getDateAttr:function(){var a=this.get("values"),b=this.slots;return d.parse(a[0]+"/"+a[1]+"/"+a[2],{datePattern:b[0].pattern+"/"+b[1].pattern+"/"+b[2].pattern,selector:"date"})},_setValuesAttr:function(a){h.forEach(this.getSlots(),function(b,c){var d=a[c];if("number"==
typeof d){var f=[1970,1,1];f.splice(c,1,d-0);d=b.format(new Date(f[0],f[1]-1,f[2]))}b.set("value",d)})},_setValueAttr:function(a){var b=g.fromISOString(a);this.set("values",h.map(this.slots,function(a){return a.format(b)}))},_getValueAttr:function(){return g.toISOString(this.get("date"),{selector:"date"})}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,p){var l={};h.setObject("dojo.date.stamp",l);l.fromISOString=function(k,d){l._isoRegExp||(l._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var g=l._isoRegExp.exec(k),f=null;if(g){g.shift();g[1]&&g[1]--;g[6]&&(g[6]*=1E3);d&&(d=new Date(d),p.forEach(p.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return d["get"+a]()}),function(a,b){g[b]=g[b]||a}));f=new Date(g[0]||1970,g[1]||0,g[2]||1,g[3]||0,g[4]||0,g[5]||0,g[6]||0);100>g[0]&&f.setFullYear(g[0]||1970);var c=0,b=g[7]&&g[7].charAt(0);"Z"!=b&&(c=60*(g[8]||0)+(Number(g[9])||0),"-"!=b&&(c*=-1));b&&(c-=f.getTimezoneOffset());c&&f.setTime(f.getTime()+6E4*
c)}return f};l.toISOString=function(k,d){var g=function(a){return 10>a?"0"+a:a};d=d||{};var f=[],c=d.zulu?"getUTC":"get",b="";"time"!=d.selector&&(b=k[c+"FullYear"](),b=["0000".substr((b+"").length)+b,g(k[c+"Month"]()+1),g(k[c+"Date"]())].join("-"));f.push(b);if("date"!=d.selector){b=[g(k[c+"Hours"]()),g(k[c+"Minutes"]()),g(k[c+"Seconds"]())].join(":");c=k[c+"Milliseconds"]();d.milliseconds&&(b+="."+(100>c?"0":"")+g(c));if(d.zulu)b+="Z";else if("time"!=d.selector)var c=k.getTimezoneOffset(),a=Math.abs(c),
b=b+((0<c?"-":"+")+g(Math.floor(a/60))+":"+g(a%60));f.push(b)}return f.join("T")};return l})},"dojox/mobile/SpinWheel":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","./_PickerBase","./SpinWheelSlot"],function(h,p,l,k){return h("dojox.mobile.SpinWheel",k,{baseClass:"mblSpinWheel",buildRendering:function(){this.inherited(arguments);l.create("div",{className:"mblSpinWheelBar"},this.domNode)},startup:function(){this._started||(this.centerPos=Math.round(this.domNode.offsetHeight/
2),this.inherited(arguments))},resize:function(){this.centerPos=Math.round(this.domNode.offsetHeight/2);p.forEach(this.getChildren(),function(d){d.resize&&d.resize()})},addChild:function(d,g){this.inherited(arguments);this._started&&d.setInitialValue()}})})},"dojox/mobile/SpinWheelSlot":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-class dojo/dom-construct dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/SpinWheelSlot dojo/touch dojo/on dijit/_Contained dijit/_WidgetBase ./scrollable ./common".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r){h=l(f("dojo-bidi")?"dojox.mobile.NonBidiSpinWheelSlot":"dojox.mobile.SpinWheelSlot",[e,q,r],{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSpinWheelSlot",maxSpeed:500,minItems:15,centerPos:0,scrollBar:!1,constraint:!1,propagatable:!1,androidWorkaroud:!1,buildRendering:function(){this.inherited(arguments);this.initLabels();var c,e;if(0<this.labels.length){this.items=[];for(c=0;c<this.labels.length;c++)this.items.push([c,
this.labels[c]])}this.containerNode=g.create("div",{className:"mblSpinWheelSlotContainer"});this.containerNode.style.height=2*(k.global.innerHeight||k.doc.documentElement.clientHeight)+"px";this.panelNodes=[];for(var h=0;3>h;h++){this.panelNodes[h]=g.create("div",{className:"mblSpinWheelSlotPanel"});var l=this.items.length;if(0<l){var p=Math.ceil(this.minItems/l);for(e=0;e<p;e++)for(c=0;c<l;c++)g.create("div",{className:"mblSpinWheelSlotLabel",name:this.items[c][0],"data-mobile-val":this.items[c][1],
innerHTML:this._cv?this._cv(this.items[c][1]):this.items[c][1]},this.panelNodes[h])}this.containerNode.appendChild(this.panelNodes[h])}this.domNode.appendChild(this.containerNode);this.touchNode=g.create("div",{className:"mblSpinWheelSlotTouch"},this.domNode);this.setSelectable(this.domNode,!1);""===this.value&&0<this.items.length&&(this.value=this.items[0][1]);this._initialValue=this.value;if(f("windows-theme")){var q=this,r=this.containerNode;this.own(a(q.touchNode,b.press,function(c){var e=c.pageY;
c=q.getParent().getChildren();for(var f=0,g=c.length;f<g;f++){var k=c[f].containerNode;r!==k?(d.remove(k,"mblSelectedSlot"),k.selected=!1):d.add(r,"mblSelectedSlot")}var h=a(q.touchNode,b.move,function(a){5>Math.abs(a.pageY-e)||(h.remove(),l.remove(),r.selected=!0,(a=q.getCenterItem())&&d.remove(a,"mblSelectedSlotItem"))}),l=a(q.touchNode,b.release,function(){l.remove();h.remove();r.selected?d.remove(r,"mblSelectedSlot"):d.add(r,"mblSelectedSlot");r.selected=!r.selected})}));this.on("flickAnimationEnd",
function(){var a=q.getCenterItem();q.previousCenterItem&&d.remove(q.previousCenterItem,"mblSelectedSlotItem");d.add(a,"mblSelectedSlotItem");q.previousCenterItem=a})}},startup:function(){this._started||(this.inherited(arguments),this.noResize=!0,0<this.items.length&&(this.init(),this.centerPos=this.getParent().centerPos,this._itemHeight=this.panelNodes[1].childNodes[0].offsetHeight,this.adjust(),this.connect(this.domNode,"onkeydown","_onKeyDown")),f("windows-theme")&&(this.previousCenterItem=this.getCenterItem())&&
d.add(this.previousCenterItem,"mblSelectedSlotItem"))},initLabels:function(){if(this.labelFrom!==this.labelTo)for(var a=this.labels=[],b=this.zeroPad&&Array(this.zeroPad).join("0"),c=this.labelFrom;c<=this.labelTo;c+=this.step)a.push(this.zeroPad?(b+c).slice(-this.zeroPad):c+"")},adjust:function(){for(var a=this.panelNodes[1].childNodes,b,c=0,d=a.length;c<d;c++){var e=a[c];if(e.offsetTop<=this.centerPos&&this.centerPos<e.offsetTop+e.offsetHeight){b=this.centerPos-(e.offsetTop+Math.round(e.offsetHeight/
2));break}}a=this.panelNodes[0].offsetHeight;this.panelNodes[0].style.top=-a+b+"px";this.panelNodes[1].style.top=b+"px";this.panelNodes[2].style.top=a+b+"px"},setInitialValue:function(){this.set("value",this._initialValue)},_onKeyDown:function(a){a&&"keydown"===a.type&&(40===a.keyCode?this.spin(-1):38===a.keyCode&&this.spin(1))},_getCenterPanel:function(){for(var a=this.getPos(),b=0,c=this.panelNodes.length;b<c;b++){var d=a.y+this.panelNodes[b].offsetTop;if(d<=this.centerPos&&this.centerPos<d+this.panelNodes[b].offsetHeight)return this.panelNodes[b]}return null},
setColor:function(a,b){p.forEach(this.panelNodes,function(c){p.forEach(c.childNodes,function(c,e){d.toggle(c,b||"mblSpinWheelSlotLabelBlue",c.innerHTML===a)},this)},this)},disableValues:function(a){p.forEach(this.panelNodes,function(b){for(var c=0;c<b.childNodes.length;c++)d.toggle(b.childNodes[c],"mblSpinWheelSlotLabelGray",c>=a)})},getCenterItem:function(){var a=this.getPos(),b=this._getCenterPanel();if(b)for(var a=a.y+b.offsetTop,b=b.childNodes,c=0,d=b.length;c<d;c++)if(a+b[c].offsetTop<=this.centerPos&&
this.centerPos<a+b[c].offsetTop+b[c].offsetHeight)return b[c];return null},_getKeyAttr:function(){if(!this._started){if(this.items)for(var a=0;a<this.items.length;a++)if(this.items[a][1]==this.value)return this.items[a][0];return null}return(a=this.getCenterItem())&&a.getAttribute("name")},_getValueAttr:function(){if(!this._started)return this.value;if(0<this.items.length){var a=this.getCenterItem();return a&&a.getAttribute("data-mobile-val")}return this._initialValue},_setValueAttr:function(a){0<
this.items.length&&this._spinToValue(a,!0)},_spinToValue:function(a,b){var c,d,e=this.get("value");if(e){if(e!=a){this._pendingValue=void 0;b&&this._set("value",a);for(var f=this.items.length,g=0;g<f&&!(this.items[g][1]===String(e)&&(c=g),this.items[g][1]===String(a)&&(d=g),void 0!==c&&void 0!==d);g++);c=d-(c||0);this.spin(0<c?c<f-c?-c:f-c:-c<f+c?-c:-(f+c))}}else this._pendingValue=a},onFlickAnimationStart:function(a){this._onFlickAnimationStartCalled=!0;this.inherited(arguments)},onFlickAnimationEnd:function(a){this._onFlickAnimationStartCalled=
this._duringSlideTo=!1;this.inherited(arguments)},spin:function(a){if(this._started&&!this._duringSlideTo){var b=this.getPos();b.y+=a*this._itemHeight;this.slideTo(b,1)}},getSpeed:function(){var a=0,b=this._time.length,c=(new Date).getTime()-this.startTime-this._time[b-1];2<=b&&200>c&&(a=this.calcSpeed(this._posY[b-1]-this._posY[0<=b-6?b-6:0],this._time[b-1]-this._time[0<=b-6?b-6:0]));return{x:0,y:a}},calcSpeed:function(a,b){var c=this.inherited(arguments);if(!c)return 0;var d=Math.abs(c),e=c;d>this.maxSpeed&&
(e=this.maxSpeed*(c/d));return e},adjustDestination:function(a,b,c){b=this._itemHeight;c=a.y+Math.round(b/2);a.y=c-(0<=c?c%b:c%b+b);return!0},resize:function(a){a=this.panelNodes[1].childNodes;0<a.length&&!f("windows-theme")&&(this._itemHeight=a[0].offsetHeight,this.centerPos=this.getParent().centerPos,this.adjust());this._pendingValue&&this.set("value",this._pendingValue)},slideTo:function(a,b,c){this._duringSlideTo=!0;var d=this.getPos(),e=d.y+this.panelNodes[1].offsetTop,f=e+this.panelNodes[1].offsetHeight,
g=this.domNode.parentNode.offsetHeight;d.y<a.y?f>g&&(d=this.panelNodes[2],d.style.top=this.panelNodes[0].offsetTop-this.panelNodes[0].offsetHeight+"px",this.panelNodes[2]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[0],this.panelNodes[0]=d):d.y>a.y&&0>e&&(d=this.panelNodes[0],d.style.top=this.panelNodes[2].offsetTop+this.panelNodes[2].offsetHeight+"px",this.panelNodes[0]=this.panelNodes[1],this.panelNodes[1]=this.panelNodes[2],this.panelNodes[2]=d);this.getParent()._duringStartup?b=0:40>
Math.abs(this._speed.y)&&(b=0.2);this.inherited(arguments,[a,b,c]);if(this.getParent()._duringStartup&&!this._onFlickAnimationStartCalled)this.onFlickAnimationEnd();else this._onFlickAnimationStartCalled||(this._duringSlideTo=!1)}});return f("dojo-bidi")?l("dojox.mobile.SpinWheelSlot",[h,c]):h})},"kso/views/PlanEval":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/date dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeStoreList dojox/mobile/ExpandingTextArea dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojox/mobile/RadioButton dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H,L,N){return l([t],{id:"kso_planeval_view",_form:null,_item:null,postCreate:function(){var a=new N;a.confirm("Hj\u00e6lp til afslut handleplan",'Siden viser afslutning af handleplan.\x3cbr /\x3e\x3cbr /\x3eTryk p\u00e5 "Gem" knappen for at afslutte en handleplan.\x3cbr /\x3e\x3cbr /\x3eAngiv din evaluering af handleplanen.');this.addChild(a);sview=new s;var b=new w({label:"Afslut handleplan","class":"headingPlan"}),c=new x({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});b.addChild(c);b.addChild(new x({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new w({id:"headingActionPlanEval",baseClass:"headingActionPlan"}),f=new x({label:"Annuller",moveTo:"kso_planlist_view"});b.addChild(f);b.addChild(new x({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(b);var b=new r({orientation:"vert"}),
g=new u({label:"Evaluering af handleplan:",name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});b.addChild(g);g=new r;g.addChild(new D({label:"Succes",name:"do_evaluate_tmp",value:1}));g.addChild(new D({label:"Delvis-succes",name:"do_evaluate_tmp",value:2}));g.addChild(new D({label:"Ikke-succes",name:"do_evaluate_tmp",value:3}));this._form=new e;this._form.domNode.appendChild(b.domNode);this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);
this.addChild(sview);this.addChild(new L);k.subscribe("plan/eval",d.hitch(this,function(a,b){c.set("moveTo",a.id);f.set("moveTo",a.id);this._item=d.clone(b);this._form.reset();a.performTransition("kso_planeval_view")}))},onSubmit:function(a){g.stop(a);a=K.getInstance().getStore("kso_plan","kso_plan");var b=this._form.get("value");b.active=0;b.do_evaluate=b.do_evaluate_tmp;b=d.mixin(this._item,b);a.put(b);1<b.do_evaluate?k.publish("problem/list",this):k.publish("plan/list",this)},onStartView:function(){}})})},
"dojox/mobile/ExpandingTextArea":function(){define(["dojo/_base/declare","dijit/form/_ExpandingTextAreaMixin","./TextArea"],function(h,p,l){return h("dojox.mobile.ExpandingTextArea",[l,p],{baseClass:"mblTextArea mblExpandingTextArea"})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(h,p,l,k,d,g,f){l.add("textarea-needs-help-shrinking",function(){var c=g.body(),b=p.create("textarea",
{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),a=b.scrollHeight>=b.clientHeight;c.removeChild(b);return a});return h("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);
var c=this.textbox;c.style.overflowY="hidden";this.own(d(c,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;""===b.value&&(b.value=" ",a=!0);var c=
b.scrollHeight;a&&(b.value="");return c}var b=this.textbox;"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(c()||b.offsetHeight){var a=c()+Math.max(b.offsetHeight-b.clientHeight,0),d=a+"px";d!=b.style.height&&(b.style.height=d,b.rows=1);if(l("textarea-needs-help-shrinking")){var e=c(),f=b.style.minHeight,g=4,k=b.scrollTop;b.style.minHeight=d;for(b.style.height="auto";0<a;){b.style.minHeight=Math.max(a-g,4)+"px";d=c();e-=d;a-=e;if(e<g)break;e=d;g<<=1}b.style.height=
a+"px";b.style.minHeight=f;b.scrollTop=k}b.style.overflowY=c()>b.clientHeight?"auto":"hidden";"hidden"==b.style.overflowY&&(b.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dojox/mobile/TextArea":function(){define(["dojo/_base/declare","dojo/dom-construct","./TextBox"],function(h,p,l){return h("dojox.mobile.TextArea",l,{baseClass:"mblTextArea",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.srcNodeRef||
(this.srcNodeRef=p.create("textarea",{}));this.inherited(arguments)}})})},"dojox/mobile/RadioButton":function(){define(["dojo/_base/declare","dijit/form/_RadioButtonMixin","./CheckBox"],function(h,p,l){return h("dojox.mobile.RadioButton",[l,p],{_setTypeAttr:null,baseClass:"mblRadioButton"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query ../registry".split(" "),function(h,p,l,k,d,g){return p("dijit.form._RadioButtonMixin",
null,{type:"radio",_getRelatedWidgets:function(){var f=[];d("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(k.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=g.getEnclosingWidget(c))&&f.push(c)}));return f},_setCheckedAttr:function(d){this.inherited(arguments);this._created&&d&&h.forEach(this._getRelatedWidgets(),k.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(d){return null==d?"on":d},_onClick:function(d){return this.checked||
this.disabled?(d.stopPropagation(),d.preventDefault(),!1):this.readOnly?(d.stopPropagation(),d.preventDefault(),h.forEach(this._getRelatedWidgets(),k.hitch(this,function(c){l.set(this.focusNode||this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dojox/mobile/CheckBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/_CheckBoxMixin","./ToggleButton","./sniff"],function(h,p,l,k,d){return h("dojox.mobile.CheckBox",[k,l],{baseClass:"mblCheckBox",_setTypeAttr:function(){},
buildRendering:function(){!this.templateString&&!this.srcNodeRef&&(this.srcNodeRef=p.create("input",{type:this.type}));this.inherited(arguments);this.templateString||(this.focusNode=this.domNode);if(d("windows-theme")){var g=p.create("span",{className:"mblCheckableInputContainer"});g.appendChild(this.domNode.cloneNode());this.labelNode=p.create("span",{className:"mblCheckableInputDecorator"},g);this.domNode=g;this.focusNode=g.firstChild}},_getValueAttr:function(){return this.checked?this.value:!1}})})},
"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,p){return h("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(h){this._set("readOnly",h);p.set(this.focusNode,"readOnly",h)},_setLabelAttr:void 0,_getSubmitValue:function(h){return null==h||""===h?"on":h},_setValueAttr:function(h){h=this._getSubmitValue(h);this._set("value",h);p.set(this.focusNode,"value",h)},reset:function(){this.inherited(arguments);
this._set("value",this._getSubmitValue(this.params.value));p.set(this.focusNode,"value",this.value)},_onClick:function(h){return this.readOnly?(h.stopPropagation(),h.preventDefault(),!1):this.inherited(arguments)}})})},"dojox/mobile/ToggleButton":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/form/_ToggleButtonMixin","./Button"],function(h,p,l,k){return h("dojox.mobile.ToggleButton",[k,l],{baseClass:"mblToggleButton",_setCheckedAttr:function(){this.inherited(arguments);var d=(this.baseClass+
" "+this["class"]).replace(/(\S+)\s*/g,"$1Checked ").split(" ");p[this.checked?"add":"remove"](this.focusNode||this.domNode,d)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,p){return h("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(h){var k=this.checked;this._set("checked",!k);var d=this.inherited(arguments);this.set("checked",d?this.checked:k);return d},_setCheckedAttr:function(h,k){this._set("checked",
h);var d=this.focusNode||this.domNode;this._created&&p.get(d,"checked")!=!!h&&p.set(d,"checked",!!h);d.setAttribute(this._aria_attr,String(h));this._handleOnChange(h,k)},postCreate:function(){this.inherited(arguments);var h=this.focusNode||this.domNode;this.checked&&h.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"kso/views/Plan":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/dom-class kso/Store dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/EdgeToEdgeList dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Heading dojox/layout/TableContainer moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B){return l([b],{id:"kso_plan_view",_item:null,postCreate:function(){var b=this,c=new B;c.confirm("Hj\u00e6lp til dagbog","Siden viser afsluttet handleplan samt dagbog.\x3cbr /\x3e\x3cbr /\x3eMan kan til h\u00f8jre i listen se hvilke dage handleplanen er udf\u00f8rt.");this.addChild(c);var f=new B;f.confirm("","Vil du slette handleplanen?",this.onDelete);this.addChild(f);sview=new a;var h=new v({label:"Handleplan","class":"headingPlan"}),l=new t({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_planlist_view"});h.addChild(l);h.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){c.show()}}));this.addChild(h);h=new v({id:"headingActionPlan",baseClass:"headingActionPlan"});h.addChild(new t({label:"Kopier",onClick:function(){k.publish("plan/create",b,b._item)}}));h.addChild(new t({label:"Slet",onClick:d.hitch(this,function(){f._view=this;f.show()})}));h.addChild(new t({label:"E-mail",
onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+b._item.do_what+"\r\n\r\nHvor meget:\r\n"+b._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+b._item.do_when+"\r\n\r\nHvor ofte:\r\n"+b._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+b._item.do_success),c=encodeURI("Deling af min handleplan");window.location.href="mailto:?subject\x3d"+c+"\x26body\x3d"+a;return!1}}));
h.addChild(new t({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+b._item.do_what+"\r\n\r\nHvor meget:\r\n"+b._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+b._item.do_when+"\r\n\r\nHvor ofte:\r\n"+b._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+b._item.do_success);window.location.href="sms:?body\x3d"+a;return!1}}));this.addChild(h);h=new e({label:"Handleplan:",
"class":"categoryPlan"});sview.addChild(h);h=new r;sview.addChild(h);var n=new q({label:""});h.addChild(n);var p=new q({label:""});h.addChild(p);var s=new q({label:""});h.addChild(s);var u=new q({label:""});h.addChild(u);var K=new q({label:""});h.addChild(K);h=new e({label:"Evaluering:","class":"categoryPlan"});sview.addChild(h);h=new r;sview.addChild(h);var H=new q({label:""});h.addChild(H);var L=new q({label:""});h.addChild(L);h=y.getInstance().getStore("diary","kso_diary");l=new e({label:"Dagbog:",
"class":"categoryPlan"});sview.addChild(l);var N=new x({store:h,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new q({clickable:!1,item:a,variableHeight:!0,_setItemAttr:function(a){var b=w.iso_to_date(a.use_at),b=g.format(new Date(b),{datePattern:"EEE dd/MM-yy",selector:"date"});this.set("label",b+" "+(a.info?a.info:""));this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(N);this.addChild(sview);
this.addChild(new z);k.subscribe("plan/diary",d.hitch(this,function(a,b){this._item=b;N.setQuery({plan_id:b.id});n.set("label","Hvad: "+this.getText(b.do_what));p.set("label","Hvor meget: "+this.getText(b.do_how_much));s.set("label","Hvorn\u00e5r: "+this.getText(b.do_when));u.set("label","Hvor ofte: "+this.getText(b.do_how_often));K.set("label","Vurdering for succes (0-10): "+this.getText(b.do_success));1==b.do_evaluate?H.set("label","Bed\u00f8mmelse: Success"):2==b.do_evaluate?H.set("label","Bed\u00f8mmelse: Delvis-succes"):
3==b.do_evaluate&&H.set("label","Bed\u00f8mmelse: Ikke-succes");L.set("label","Tekst: "+this.getText(b.do_evaluate_txt));a.performTransition("kso_plan_view")}))},getText:function(a){return a?a:""},onDelete:function(a){if(a){var b=y.getInstance().getStore("kso_plan","kso_plan"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("plan/list",a)}},onStartView:function(){}})})},"kso/Store":function(){define("dojo/_base/declare dojo/topic dojo/_base/config dojo/store/Memory dojo/store/Observable dojo/store/JsonRest dojo/_base/Deferred dojo/store/util/QueryResults".split(" "),
function(h,p,l,k,d,g,f,c){var b="/service";"string"==typeof l.service_uri&&(b=l.service_uri);return h(null,{entity_name:null,constructor:function(a){for(var c in a)this[c]=a[c];this._store=d(new k);this._rest_store=new g({target:b+"/entity/"+this.entity_name+"/"});this._need_sync=!0;this._updates=[];this._removes=[];this._inserts=[];this._thndl;var e=this;p.subscribe("moch/entity_update",function(a,b,c){e.entity_name==a&&(c.id=b,e._store.put(c))});p.subscribe("moch/entity_create",function(a,b){if(e.entity_name==
a)try{e._store.get(b.id)||e._store.add(b)}catch(c){}});p.subscribe("moch/entity_delete",function(a,b){e.entity_name==a&&e._store.get(b)&&e._store.remove(b)})},get:function(a){return this._store.get(a)},getIdentity:function(a){return this._store.getIdentity(a)},put:function(a,b){this._updates.push(a);this._start_update_data()},add:function(a,b){this._inserts.push(a);this._start_update_data()},remove:function(a){this._removes.push(a);this._start_update_data()},query:function(a,b){return this._need_sync?
this._fetch_data(a,b):this._store.query(a,b)},_fetch_data:function(a,b){if(this._need_sync){var d=new f,g=this,k=this._rest_store.query(a,b),h=c(d);k.then(function(c){g._store.setData(c);g._need_sync=!1;c=g._store.query(a,b);h.observe=c.observe;d.resolve(c)},function(a){setTimeout(g._fetch_data,6E5)});return h}},_start_update_data:function(){this._thndl&&clearTimeout(this._thndl);this._update_data()},_update_data:function(){if(0==this._updates.length&&0==this._inserts.length&&0==this._removes.length)this._thndl=
void 0;else{var a=this;this._updates.forEach(function(b){a._rest_store.put(b).then(function(a){},function(a){this._updates.push(b)})});this._updates=[];this._inserts.forEach(function(b){delete b.id;a._rest_store.add(b).then(function(a){},function(c){a._inserts.push(b)})});a._inserts=[];this._removes.forEach(function(b){a._rest_store.remove(b).then(function(a){},function(c){a._removes.push(b)})});this._removes=[];this._thndl=setTimeout(function(){a._update_data.apply(a)},6E5)}}})})},"kso/views/DiaryList":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/dom-class kso/Store dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/EdgeToEdgeList dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Heading dojox/layout/TableContainer moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B){return l([b],{id:"kso_diarylist_view",_item:null,postCreate:function(){var b=this,c=new B;c.confirm("Hj\u00e6lp til dagbog",'Siden viser dagbogen for valgte handleplan.\x3cbr /\x3e\x3cbr /\x3eTryk p\u00e5 "Rediger plan" for \u00e6ndre handleplanen.\x3cbr /\x3e\x3cbr /\x3eListen indeholder antal dage, f.eks. 14 dage.\x3cbr /\x3e\x3cbr /\x3eI dagbogen kan du notere hvilke dage handleplanen er udf\u00f8rt.\x3cbr /\x3e\x3cbr /\x3eTryk p\u00e5 en dag for at redigere i dagbogen.');
this.addChild(c);var f=new B;f.confirm("","Vil du slette handleplanen?",this.onDelete);this.addChild(f);sview=new a;var h=new v({label:"Handleplan","class":"headingPlan"}),l=new t({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});h.addChild(l);h.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){c.show()}}));this.addChild(h);var n=new v({id:"headingActionDiaryList",
baseClass:"headingActionPlan"});n.addChild(new t({label:"Rediger",onClick:function(){k.publish("plan/edit",b,b._item)}}));n.addChild(new t({label:"Kopier",onClick:function(){k.publish("plan/create",b,b._item)}}));n.addChild(new t({label:"Slet",onClick:d.hitch(this,function(){f._view=this;f.show()})}));n.addChild(new t({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min handleplan med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+b._item.do_what+
"\r\n\r\nHvor meget:\r\n"+b._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+b._item.do_when+"\r\n\r\nHvor ofte:\r\n"+b._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+b._item.do_success),c=encodeURI("Deling af min handleplan");window.location.href="mailto:?subject\x3d"+c+"\x26body\x3d"+a;return!1}}));n.addChild(new t({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad:\r\n"+
b._item.do_what+"\r\n\r\nHvor meget:\r\n"+b._item.do_how_much+"\r\n\r\nHvorn\u00e5r:\r\n"+b._item.do_when+"\r\n\r\nHvor ofte:\r\n"+b._item.do_how_often+"\r\n\r\nVurdering for succes (0-10):\r\n"+b._item.do_success);window.location.href="sms:?body\x3d"+a;return!1}}));n.addChild(new t({label:"Afslut",onClick:function(){k.publish("plan/eval",b,b._item)}}));this.addChild(n);n=new e({label:"Planlagt handling:","class":"categoryPlan"});sview.addChild(n);n=new r;sview.addChild(n);var p=new q({label:""});
n.addChild(p);var s=new q({label:""});n.addChild(s);var u=new q({label:""});n.addChild(u);var K=new q({label:""});n.addChild(K);var H=new q({label:""});n.addChild(H);var n=y.getInstance().getStore("diary","kso_diary"),L=new e({label:"Dagbog:","class":"categoryPlan"});sview.addChild(L);var N=new x({store:n,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(a){return new q({clickable:!0,item:a,onClick:function(a){k.publish("diary/edit",b,this.item)},_setItemAttr:function(a){var b=
w.iso_to_date(a.use_at),b=g.format(new Date(b),{datePattern:"EEE dd/MM-yy",selector:"date"});this.set("label",b+" "+(a.info?a.info:""));this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(N);this.addChild(sview);this.addChild(new z);k.subscribe("diary/list",d.hitch(this,function(a,b){b&&(this._item=b,h.set("label",b.do_what),l.set("moveTo",a.id),p.set("label","Hvad: "+b.do_what),s.set("label","Hvor meget: "+b.do_how_much),u.set("label","Hvorn\u00e5r: "+
b.do_when),K.set("label","Hvor ofte: "+b.do_how_often),H.set("label","Vurdering for succes (0-10): "+b.do_success),N.setQuery({plan_id:b.id}));a.performTransition("kso_diarylist_view")}))},onDelete:function(a){if(a){var b=y.getInstance().getStore("kso_plan","kso_plan"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("plan/list",a)}},onStartView:function(){}})})},"kso/views/DiaryEdit":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/_base/event dojo/string dojo/dom dojo/dom-class dijit/form/Form dojox/layout/TableContainer dojox/mobile/ScrollableView dojox/mobile/View dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/ExpandingTextArea dojox/mobile/Heading dojox/mobile/Button dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog dojo/domReady!".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I){return l([t],{id:"kso_diaryedit_view",_form:null,_item:null,postCreate:function(){var a=new I;a.confirm("Hj\u00e6lp til dagbog","Her kan du registrere, om du er lykkedes med din handleplan for hver enkelt relevant dag.\x3cbr /\x3e\x3cbr /\x3eDu kan tilf\u00f8je en kommentar. Husk at det er liges\u00e5 vigtigt at m\u00e6rke efter og justere sin handleplan undervejs.");this.addChild(a);sview=new r;var b=new u({label:"Rediger dagbog",
"class":"headingPlan"}),c=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});b.addChild(c);b.addChild(new w({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new u({id:"headingActionDiaryEdit",baseClass:"headingActionPlan"}),f=new w({label:"Annuller",moveTo:"kso_diarylist_view"});b.addChild(f);b.addChild(new w({label:"Gem",onClick:d.hitch(this,
this.onSubmit)}));this.addChild(b);b=new e({orientation:"vert"});f=new v({label:"Dagbogs tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});b.addChild(f);f=new A({label:"Handleplanen udf\u00f8rt?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});b.addChild(f);this._form=new q;this._form.domNode.appendChild(b.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new F);k.subscribe("diary/edit",d.hitch(this,function(a,b){c.set("moveTo",
a.id);a.performTransition("kso_diaryedit_view");this._item=d.clone(b);this._item.success&&(this._item.success="on");this._form.set("value",this._item)}))},onSubmit:function(a){f.stop(a);a=C.getInstance().getStore("diary","kso_diary");var b=this._form.get("value");b.success="on"==b.success?1:0;b.id=this._item.id;b.plan_id=this._item.plan_id;b.rev=this._item.rev;b.use_at=this._item.use_at;a.put(b);k.publish("diary/list",this,null)},onStartView:function(){}})})},"kso/views/ProblemList":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/dom-class dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton moch/app/mobile kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u){return l([f],{id:"kso_problemlist_view",postCreate:function(){var f=this,g=new u;g.confirm("Oversigt","Her ser du alle dine probleml\u00f8sninger.\x3cbr /\x3e\x3cbr /\x3eOpret en ny eller rediger en eksisterende probleml\u00f8sning.");this.addChild(g);var h=new u;h.confirm("Hj\u00e6lp til probleml\u00f8sning","Du kan have max. 5 aktive probleml\u00f8sninger.");this.addChild(h);sview=new c;var l=new q({label:"Probleml\u00f8sning","class":"headingProblem"});
l.addChild(new e({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){g.show()}}));this.addChild(l);l=new q({id:"headingActionProblemList",baseClass:"headingActionProblem"});l.addChild(new e({label:"Opret",onClick:function(){var a=s.getInstance().getStore("kso_problem","kso_problem").query({active:1});a.then(function(b){a.total.then(function(a){5<=a?h.show():k.publish("problem/create",f,null)})})}}));this.addChild(l);l=s.getInstance().getStore("kso_problem",
"kso_problem");this.addChild(new a({label:"Alle probleml\u00f8sninger:","class":"categoryProblem"}));(new Boolean(!0)).test=function(a){return!0};l=new n({store:l,query:{hidden:0},queryOptions:{sort:[{attribute:"active",descending:!0},{attribute:"do_evaluate",descending:!0},{attribute:"id",descending:!0}]},createListItem:function(a){return new b({label:a.do_what,clickable:!0,item:a,onClick:function(b){a.active?k.publish("solution/list",f,this.item):k.publish("problem/solution",f,this.item)},_setItemAttr:function(a){this.set("label",
a.do_what);a.active?this.set("rightText",""):this.set("rightText","Afsluttet");this.set("icon",1==a.do_evaluate?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});sview.addChild(l);this.addChild(sview);this.addChild(new v);k.subscribe("problem/list",d.hitch(this,function(a){a.performTransition("kso_problemlist_view")}))},onStartView:function(){}})})},"kso/views/ProblemCreate":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/date dojo/query dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/EdgeToEdgeStoreList dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H,L,N,X,Y){return l([v],{id:"kso_problemcreate_view",_form:null,_item:null,postCreate:function(){var a=new Y;a.confirm("Hj\u00e6lp til probleml\u00f8sning","Skriv dine egne l\u00f8sningsforslag ned og sp\u00f8rg evt. andre om ideer til at l\u00f8se problemet.\x3cbr /\x3e\x3cbr /\x3eN\u00e5r du har gemt probleml\u00f8sningen kan du efterf\u00f8lgende afpr\u00f8ve og evaluere de enkelte ideer.");this.addChild(a);sview=new u;
var b=new B({label:"Opret probleml\u00f8sning","class":"headingProblem"}),c=new A({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});b.addChild(c);b.addChild(new A({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new B({id:"headingActionProblemCreate",baseClass:"headingActionProblem"}),e=new A({label:"Annuller",moveTo:"kso_problemlist_view"});
b.addChild(e);b.addChild(new A({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(b);this.tbl=b=new n({orientation:"vert"});var f=new z({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",trim:!0});b.addChild(f);f=new z({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});b.addChild(f);f=new B({baseClass:"headingActionProblem",spanLabel:!0});f.addChild(new A({label:"Tilf\u00f8j ide",
onClick:d.hitch(this,function(){this.newSolution()})}));b.addChild(f);this.tbl_ideas=f=new n({id:"ideas_container",orientation:"vert"});this._form=new s;this._form.domNode.appendChild(b.domNode);this._form.domNode.appendChild(f.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new X);k.subscribe("problem/create",d.hitch(this,function(b,f){q.empty("ideas_container");this.newSolution();c.set("moveTo",b.id);e.set("moveTo",b.id);this._item=d.clone(f);f?(this._item.do_what+=" KOPI",
this._item.active=1,delete this._item.id,delete this._item.do_evaluate,delete this._item.do_evaluate_txt,this._form.set("value",this._item)):this._form.reset();b.performTransition("kso_problemcreate_view");var g=L.getInstance().getStore("kso_problem","kso_problem").query();g.then(function(b){g.total.then(function(b){0==b&&a.show()})})}))},newSolution:function(){idea_tmpl=new z({name:"idea",spanLabel:!0,"class":"mochInput",placeHolder:"Ide til l\u00f8sning, fx. Tag en middagslur",trim:!0});this.tbl_ideas.addChild(idea_tmpl)},
onSubmit:function(a){g.stop(a);a=L.getInstance().getStore("kso_problem","kso_problem");var b=L.getInstance().getStore("kso_solution","kso_solution"),c=this._form.get("value");c.active=1;a.add(c).then(function(a){var d=[];dojo.isArray(c.idea)?d=c.idea:d.push(c.idea);for(var e=0;e<d.length;e++)b.add({problem_id:a.id,info:d[e],success:0})});k.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEdit":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/date dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeStoreList dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H){return l([t],{id:"kso_problemedit_view",_form:null,_item:null,postCreate:function(){var a=this,b=new H;b.confirm("Hj\u00e6lp til probleml\u00f8sning","Her kan du redigere din probleml\u00f8sning eller slette den.");this.addChild(b);sview=new s;var c=new y({label:"Rediger problem","class":"headingProblem"}),f=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});
c.addChild(f);c.addChild(new w({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){b.show()}}));this.addChild(c);var c=new y({id:"headingActionProblemEdit",baseClass:"headingActionProblem"}),g=new w({label:"Annuller",moveTo:"kso_planlist_view"});c.addChild(g);c.addChild(new w({label:"Afslut",onClick:function(){k.publish("problem/eval",a,a._item)}}));c.addChild(new w({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(c);var c=new r({orientation:"vert"}),
h=new u({name:"do_what",label:"Hvad er problemet?","class":"mochInput",placeHolder:"fx. Kan ikke sove",trim:!0});c.addChild(h);h=new u({name:"do_prevent",label:"Hvad forhindrer dig i at lykkes?","class":"mochInput",placeHolder:"fx. Rastl\u00f8shed",trim:!0});c.addChild(h);this._form=new e;this._form.domNode.appendChild(c.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new K);k.subscribe("problem/edit",d.hitch(this,function(a,b){f.set("moveTo",a.id);g.set("moveTo",a.id);this._item=
d.clone(b);this._item.active&&(this._item.active="on");this._form.set("value",this._item);a.performTransition("kso_problemedit_view")}))},onSubmit:function(a){g.stop(a);a=D.getInstance().getStore("kso_problem","kso_problem");var b=this._form.get("value"),b=d.mixin(this._item,b);b.active=1;b.id=this._item.id;b.rev=this._item.rev;a.put(b);k.publish("problem/list",this)},onStartView:function(){}})})},"kso/views/ProblemEval":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/_base/event dojo/string dojo/dom dojo/dom-class dojo/date dijit/registry dijit/form/Form dojox/layout/TableContainer dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeStoreList dojox/mobile/ExpandingTextArea dojox/mobile/TextBox dojox/mobile/Heading dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch dojox/mobile/Button dojox/mobile/DatePicker dojox/mobile/ValuePicker dojox/mobile/ValuePickerSlot dojox/mobile/ComboBox dojox/mobile/RadioButton dojo/store/Memory moch/app/mobile moch/app/util kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I,Q,D,J,K,H,L,N){return l([t],{id:"kso_problemeval_view",_form:null,_item:null,postCreate:function(){var a=new N;a.confirm("Hj\u00e6lp til afslut probleml\u00f8sning","Hvis det ikke lykkes dig at l\u00f8se problemet, s\u00e5 pr\u00f8v at accepter at det ikke lykkes lige nu.");this.addChild(a);var b=new N;b.confirm("","Tillykke med at du har fundet en l\u00f8sning p\u00e5 dit problem! Del evt. din probleml\u00f8sning til inspiration for andre");
this.addChild(b);this.success_dlg=b;b=new N;b.confirm("","1. Tr\u00e6k p\u00e5 andre ressourcer. Del dit problem og f\u00e5 nye ideer til l\u00f8sning.\x3cbr /\x3e\x3cbr /\x3e2. Accepter at problemet m\u00e5ske ikke kan l\u00f8ses nu. Du kan tage det op p\u00e5 et andet tidspunkt");this.addChild(b);this.no_success_dlg=b;sview=new s;var b=new w({label:"Afslut probleml\u00f8sning","class":"headingProblem"}),c=new x({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",
moveTo:"kso_problemlist_view"});b.addChild(c);b.addChild(new x({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new w({id:"headingActionProblemEval",baseClass:"headingActionProblem"}),f=new x({label:"Annuller",moveTo:"kso_planlist_view"});b.addChild(f);b.addChild(new x({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(b);var b=new r({orientation:"vert"}),g=new u({label:"Evaluering af probleml\u00f8sning:",
name:"do_evaluate_txt","class":"mochTextArea",trim:!0,placeHolder:"fx F\u00f8lte mig tr\u00e6t...",maxLength:128});b.addChild(g);g=new r;g.addChild(new D({label:"Succes",name:"do_evaluate_tmp",value:1}));g.addChild(new D({label:"Delvis-succes",name:"do_evaluate_tmp",value:2}));g.addChild(new D({label:"Ikke-succes",name:"do_evaluate_tmp",value:3}));this._form=new e;this._form.domNode.appendChild(b.domNode);this._form.domNode.appendChild(g.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new L);
k.subscribe("problem/eval",d.hitch(this,function(a,b){c.set("moveTo",a.id);f.set("moveTo",a.id);this._item=d.clone(b);this._form.reset();a.performTransition("kso_problemeval_view")}))},onSubmit:function(a){g.stop(a);a=K.getInstance().getStore("kso_problem","kso_problem");var b=this._form.get("value");b.hidden=0;b.active=0;b.do_evaluate=b.do_evaluate_tmp;b=d.mixin(this._item,b);a.put(b);1==b.do_evaluate?this.success_dlg.show():(2==b.do_evaluate||3==b.do_evaluate)&&this.no_success_dlg.show();k.publish("problem/list",
this)},onStartView:function(){}})})},"kso/views/Problem":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale kso/Store dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/EdgeToEdgeList dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Heading dojox/layout/TableContainer moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z){return l([c],{id:"kso_problem_view",_item:null,_solution_list:[],postCreate:function(){var c=this,f=new z;f.confirm("Hj\u00e6lp til probleml\u00f8sning","Gem dine succesrige l\u00f8sninger, m\u00e5ske kan de genbruges.");this.addChild(f);var g=new z;g.confirm("","Vil du slette probleml\u00f8sningen?",this.onDelete);this.addChild(g);sview=new b;var h=new n({label:"Probleml\u00f8sning","class":"headingProblem"}),l=new r({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});h.addChild(l);h.addChild(new r({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){f.show()}}));this.addChild(h);h=new n({id:"headingActionProblem",baseClass:"headingActionProblem"});h.addChild(new r({label:"Kopier",onClick:function(){k.publish("problem/create",c,c._item)}}));h.addChild(new r({label:"Slet",onClick:d.hitch(this,function(){g._view=this;g.show()})}));
h.addChild(new r({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+c._item.do_what+"\r\n\r\nForhindring:\r\n"+c._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n"+c._item.do_prevent+"\r\n\r\n");dojo.forEach(c._solution_list,function(b,c){a+=encodeURI(b+"\r\n")});var a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n"),b=encodeURI("Deling af min probleml\u00f8sning");
window.location.href="mailto:?subject\x3d"+b+"\x26body\x3d"+a;return!1}}));h.addChild(new r({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+c._item.do_what+"\r\n\r\nForhindring:\r\n"+c._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n"+c._item.do_prevent+"\r\n\r\n"),a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n");dojo.forEach(c._solution_list,
function(b,c){a+=encodeURI(b+"\r\n")});window.location.href="sms:?body\x3d"+a;return!1}}));this.addChild(h);h=new q({label:"Probleml\u00f8sning:","class":"categoryProblem"});sview.addChild(h);h=new e;sview.addChild(h);var p=new a({label:""});h.addChild(p);var s=new a({label:""});h.addChild(s);h=new q({label:"Evaluering:","class":"categoryProblem"});sview.addChild(h);h=new e;sview.addChild(h);var t=new a({label:""});h.addChild(t);var v=new a({label:""});h.addChild(v);h=u.getInstance().getStore("kso_solution",
"kso_solution");l=new q({label:"Ideer til l\u00f8sning:","class":"categoryProblem"});sview.addChild(l);var y=new w({store:h,query:{},queryOptions:{sort:[{attribute:"id",descending:!1}]},createListItem:function(b){c._solution_list=[];return new a({clickable:!1,item:b,variableHeight:!0,_setItemAttr:function(a){var b=a.info?a.info:"";this.set("label",b);this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a;c._solution_list.push(b)}})}});sview.addChild(y);this.addChild(sview);
this.addChild(new x);k.subscribe("problem/solution",d.hitch(this,function(a,b){this._item=b;y.setQuery({problem_id:b.id});p.set("label","Problemet: "+b.do_what);s.set("label","Forhindring: "+b.do_prevent);1==b.do_evaluate?t.set("label","Bed\u00f8mmelse: Success"):2==b.do_evaluate?t.set("label","Bed\u00f8mmelse: Delvis-succes"):3==b.do_evaluate&&t.set("label","Bed\u00f8mmelse: Ikke-succes");v.set("label","Tekst: "+b.do_evaluate_txt);a.performTransition("kso_problem_view")}))},onDelete:function(a){if(a){var b=
u.getInstance().getStore("kso_problem","kso_problem"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("problem/list",a)}},onStartView:function(){}})})},"kso/views/SolutionList":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/dom-class kso/Store dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/EdgeToEdgeList dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Heading dojox/layout/TableContainer moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B){return l([b],{id:"kso_solutionlist_view",_item:null,_list:null,postCreate:function(){var b=this,c=new B;c.confirm("Hj\u00e6lp til probleml\u00f8sning","Siden viser en probleml\u00f8sning, der kan redigeres eller tilf\u00f8jes nye ideer til.");this.addChild(c);var f=new B;f.confirm("","Vil du slette probleml\u00f8sningen?",this.onDelete);this.addChild(f);sview=new a;var g=new v({label:"Probleml\u00f8sning","class":"headingProblem"}),h=new t({icon:"kso/images/btn_back.png",
"class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});g.addChild(h);g.addChild(new t({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){c.show()}}));this.addChild(g);var l=new v({id:"headingActionSolutionList",baseClass:"headingActionProblem"});l.addChild(new t({label:"Rediger",onClick:function(){k.publish("problem/edit",b,b._item)}}));l.addChild(new t({label:"Kopier",onClick:function(){k.publish("problem/create",
b,b._item)}}));l.addChild(new t({label:"Slet",onClick:d.hitch(this,function(){f._view=this;f.show()})}));l.addChild(new t({label:"E-mail",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+b._item.do_what+"\r\n\r\nForhindring:\r\n"+b._item.do_prevent+"\r\n\r\nIdeer til l\u00f8sning:\r\n"+b._item.do_prevent+"\r\n\r\n");dojo.forEach(b._list.getRawData(),function(b,c){a+=
encodeURI(b.info+"\r\n")});var a=a+encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n"),c=encodeURI("Deling af min probleml\u00f8sning");window.location.href="mailto:?subject\x3d"+c+"\x26body\x3d"+a;return!1}}));l.addChild(new t({label:"SMS",onClick:function(){var a=encodeURI("Hej!\r\n\r\nJeg vil gerne dele min probleml\u00f8sning med dig.\r\n\r\nDen er oprettet i applikationen MIN HANDLEPLAN.\r\n\r\nHvad er problemet:\r\n"+b._item.do_what+"\r\n\r\nForhindring:\r\n"+b._item.do_prevent+
"\r\n\r\nIdeer til l\u00f8sning:\r\n"+b._item.do_prevent+"\r\n\r\n");dojo.forEach(b._list.getRawData(),function(b,c){a+=encodeURI(b.info+"\r\n")});a+=encodeURI("Har du andre ideer til at l\u00f8se mit problem?\r\n");window.location.href="sms:?body\x3d"+a;return!1}}));l.addChild(new t({label:"Afslut",onClick:function(){k.publish("problem/eval",b,b._item)}}));this.addChild(l);l=new e({label:"Problem:","class":"categoryProblem"});sview.addChild(l);l=new r;sview.addChild(l);var n=new q({label:""});l.addChild(n);
var p=new q({label:""});l.addChild(p);l=new v({baseClass:"headingActionProblem"});l.addChild(new t({label:"Opret",onClick:function(){k.publish("solution/create",b,b._item)}}));sview.addChild(l);var l=y.getInstance().getStore("kso_solution","kso_solution"),s=new e({label:"Ideer til l\u00f8sning:","class":"categoryProblem"});sview.addChild(s);var w=new x({store:l,query:{},queryOptions:{sort:[{attribute:"id",descending:!0}]},createListItem:function(a){return new q({clickable:!0,item:a,onClick:function(a){k.publish("solution/edit",
b,this.item)},_setItemAttr:function(a){this.set("label",a.info?a.info:"");this.set("icon",a.success?"kso/images/done.png":"kso/images/notdone.png");this.item=a}})}});this._list=w;sview.addChild(w);this.addChild(sview);this.addChild(new z);k.subscribe("solution/list",d.hitch(this,function(a,b){b&&(this._item=b,g.set("label",b.do_what),h.set("moveTo",a.id),n.set("label","Hvad er problemet: "+b.do_what),p.set("label","Forhindring: "+b.do_prevent),w.setQuery({problem_id:b.id}));a.performTransition("kso_solutionlist_view")}))},
onDelete:function(a){if(a){var b=y.getInstance().getStore("kso_problem","kso_problem"),c={};c.id=a._item.id;c.active=0;c.hidden=1;c.rev=a._item.rev;b.put(c);k.publish("problem/list",a)}},onStartView:function(){}})})},"kso/views/SolutionCreate":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/_base/event dojo/string dojo/dom dojo/dom-class dijit/form/Form dojox/layout/TableContainer dojox/mobile/ScrollableView dojox/mobile/View dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/ExpandingTextArea dojox/mobile/Heading dojox/mobile/Button dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog dojo/domReady!".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I){return l([t],{id:"kso_solutioncreate_view",_form:null,_item:null,postCreate:function(){var a=new I;a.confirm("Hj\u00e6lp til ide","Her kan du oprette nye ideer til l\u00f8sninger, b\u00e5de dine egne og andres forslag.\x3cbr /\x3e\x3cbr /\x3eHusk at afpr\u00f8ve og evaluere ideerne efterf\u00f8lgende");this.addChild(a);sview=new r;var b=new u({label:"Opret ide","class":"headingProblem"}),c=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",
style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});b.addChild(c);b.addChild(new w({icon:"kso/images/btn_help.png","class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new u({id:"headingActionSolutionCreate",baseClass:"headingActionProblem"}),f=new w({label:"Annuller",moveTo:"kso_solutionlist_view"});b.addChild(f);b.addChild(new w({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(b);b=new e({orientation:"vert"});f=new v({label:"Ide tekst",
name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx Tag en middagslur...",maxLength:128});b.addChild(f);this._form=new q;this._form.domNode.appendChild(b.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new F);k.subscribe("solution/create",d.hitch(this,function(a,b){c.set("moveTo",a.id);a.performTransition("kso_solutioncreate_view");this._item=d.clone(b);this._form.reset()}))},onSubmit:function(a){f.stop(a);a=C.getInstance().getStore("kso_solution","kso_solution");var b=
this._form.get("value");b.problem_id=this._item.id;b.success=0;b.rev=this._item.rev;a.add(b);k.publish("solution/list",this,null)},onStartView:function(){}})})},"kso/views/SolutionEdit":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/topic dojo/_base/lang dojo/date/locale dojo/_base/event dojo/string dojo/dom dojo/dom-class dijit/form/Form dojox/layout/TableContainer dojox/mobile/ScrollableView dojox/mobile/View dojox/mobile/ListItem dojox/mobile/EdgeToEdgeCategory dojox/mobile/ExpandingTextArea dojox/mobile/Heading dojox/mobile/Button dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Slider dojox/mobile/Switch moch/app/mobile moch/app/util kso/BaseStoreList kso/TabBar kso/SimpleDialog dojo/domReady!".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s,n,v,u,y,w,x,z,B,A,C,E,G,F,I){return l([t],{id:"kso_solutionedit_view",_form:null,_item:null,postCreate:function(){var a=new I;a.confirm("Hj\u00e6lp til ideer","Giv din vurdering af, om du synes ideen lykkedes.");this.addChild(a);sview=new r;var b=new u({label:"Rediger ide","class":"headingProblem"}),c=new w({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_home_view"});b.addChild(c);b.addChild(new w({icon:"kso/images/btn_help.png",
"class":"toolBarButton",style:{"float":"right"},onClick:function(){a.show()}}));this.addChild(b);var b=new u({id:"headingActionSolutionEdit",baseClass:"headingActionProblem"}),f=new w({label:"Annuller",moveTo:"kso_solutionlist_view"});b.addChild(f);b.addChild(new w({label:"Gem",onClick:d.hitch(this,this.onSubmit)}));this.addChild(b);b=new e({orientation:"vert"});f=new v({label:"Ide tekst",name:"info","class":"mochTextArea",trim:!0,placeHolder:"fx Jeg blev for hurtig tr\u00e6t...",maxLength:128});
b.addChild(f);f=new A({label:"Fungerede l\u00f8sningen?",name:"success",leftLabel:"Ja",rightLabel:"Nej"});b.addChild(f);this._form=new q;this._form.domNode.appendChild(b.domNode);sview.addChild(this._form);this.addChild(sview);this.addChild(new F);k.subscribe("solution/edit",d.hitch(this,function(a,b){c.set("moveTo",a.id);a.performTransition("kso_solutionedit_view");this._item=d.clone(b);this._item.success&&(this._item.success="on");this._form.set("value",this._item)}))},onSubmit:function(a){f.stop(a);
a=C.getInstance().getStore("kso_solution","kso_solution");var b=this._form.get("value");b.success="on"==b.success?1:0;b.id=this._item.id;b.problem_id=this._item.problem_id;b.rev=this._item.rev;a.put(b);k.publish("solution/list",this,null)},onStartView:function(){}})})},"kso/views/About":function(){define("dojo/ready dojo/on dojo/_base/declare dojo/_base/lang dojo/dom-construct dojox/mobile/View dojox/mobile/ScrollableView dojox/mobile/ToolBarButton dojox/mobile/TabBar dojox/mobile/TabBarButton dojox/mobile/Heading dojox/mobile/Accordion dojox/mobile/ContentPane moch/app/mobile kso/TabBar".split(" "),
function(h,p,l,k,d,g,f,c,b,a,q,e,r,t,s){return l([g],{id:"kso_about_view",_item:null,postCreate:function(){sview=new f;var a=new q({label:"Om MIN HANDLEPLAN","class":"headingAbout"}),b=new c({icon:"kso/images/btn_back.png","class":"toolBarButton",style:{"float":"left"},transition:"none",moveTo:"kso_problemlist_view"});a.addChild(b);this.addChild(a);a=d.toDom('\x3cdiv style\x3d"color:black;padding:10px;"\x3e\x3cp\x3eMIN HANDLEPLAN er udviklet af Komiteen for Sundhedsoplysning i samarbejde med MOCH A/S\x3c/p\x3e\x3cimg src\x3d"kso/images/tf_logo.png" border\x3d"0" height\x3d"auto" width\x3d"160px" /\x3e\x3cbr /\x3e\x3cbr /\x3e\x3cp\x3e\x3cstrong\x3eOm Komiteen for Sundhedsoplysning:\x3c/strong\x3e\x3c/p\x3e\x3cp\x3eKomiteen for Sundhedsoplysning er en sygdomsbek\u00e6mpende, almennyttig forening, der bl.a. arbejder med at st\u00f8tte patienter og p\u00e5r\u00f8rende, s\u00e5vel individuelt som kollektivt, i deres problemer med sygdomme og handicap\x3cbr /\x3e\x3cbr /\x3eL\u00e6s mere p\u00e5 vores hjemmeside:\x3cbr /\x3e\x3ca href\x3d"#" onclick\x3d"window.open(\'http://sundhedsoplysning.dk\', \'_system\', \'location\x3dyes\');"\x3eSundhedsoplysning.dk\x3c/a\x3e\x3c/p\x3e\x3cbr /\x3e\x3cp\x3e\x3cstrong\x3eOm handleplaner:\x3c/strong\x3e\x3c/p\x3e\x3cp\x3eKomiteen for Sundhedsoplysning udbyder kurser til mennesker med kronisk/langvarig sygdom.\x3cbr /\x3e\x3cbr /\x3eDet centrale redskab p\u00e5 kurserne er at lave konkrete, realistiske handleplaner fra uge til uge.\x3cbr /\x3e\x3cbr /\x3eMIN HANDLEPLAN kan bruges i forbindelse med kurserne eller alene.\x3cbr /\x3e\x3cbr /\x3eL\u00e6s mere om kurserne p\u00e5:\x3cbr /\x3e\x3ca href\x3d"#" onclick\x3d"window.open(\'http://patientuddannelse.info\', \'_system\', \'location\x3dyes\');"\x3ePatientuddannelse.info\x3c/a\x3e\x3c/p\x3e\x3cbr /\x3e\x3cp\x3e\x3cstrong\x3eOm self-efficacy:\x3c/strong\x3e\x3c/p\x3e\x3cp\x3eKomiteens kurser til mennesker med kronisk/langvarig sygdom tager alle udgangspunkt i teorien om self-efficacy. Begrebet bygger p\u00e5 social, kognitiv teori og er udviklet af psykolog og professor Albert Bandura fra Stanford University.\x3cbr /\x3e\x3cbr /\x3eSelf-efficacy handler om at \u00f8ge troen p\u00e5 egne evner til at s\u00e6tte m\u00e5l, og identificere de handlinger der skal til for at n\u00e5 m\u00e5let. Du \u00f8ger din self-efficacy, n\u00e5r du l\u00e6gger en handleplan og oplever at lykkes med at f\u00f8re den ud i livet.\x3c/p\x3e\x3c/div\x3e');
sview.domNode.appendChild(a);this.addChild(sview);this.addChild(new s)},onStartView:function(){}})})},"dojox/mobile/ContentPane":function(){define(["dojo/_base/declare","./Container","./_ContentPaneMixin"],function(h,p,l){return h("dojox.mobile.ContentPane",[p,l],{baseClass:"mblContentPane"})})},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(h,p,l){return h("dojox.mobile.Container",[l,p],{baseClass:"mblContainer"})})},"dojox/mobile/_ContentPaneMixin":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/lang dojo/_base/window dojo/_base/xhr ./_ExecScriptMixin ./ProgressIndicator ./lazyLoadUtils".split(" "),
function(h,p,l,k,d,g,f,c){return h("dojox.mobile._ContentPaneMixin",g,{href:"",lazy:!1,content:"",parseOnLoad:!0,prog:!0,executeScripts:!0,constructor:function(){this.prog&&(this._p=f.getInstance())},loadHandler:function(b){this.set("content",b)},errorHandler:function(b){this._p&&this._p.stop()},load:function(){this.lazy=!1;this.set("href",this.href)},onLoad:function(){return!0},_setHrefAttr:function(b){if(this.lazy||!b||b===this._loaded)return this.lazy=!1,null;var a=this._p;a&&(k.body().appendChild(a.domNode),
a.start());this._set("href",b);this._loaded=b;return d.get({url:b,handleAs:"text",load:l.hitch(this,"loadHandler"),error:l.hitch(this,"errorHandler")})},_setContentAttr:function(b){this.destroyDescendants();"object"===typeof b?this.containerNode.appendChild(b):(this.executeScripts&&(b=this.execScript(b)),this.containerNode.innerHTML=b);if(this.parseOnLoad){var a=this;return p.when(c.instantiateLazyWidgets(a.containerNode),function(){a._p&&a._p.stop();return a.onLoad()})}this._p&&this._p.stop();return this.onLoad()}})})},
"dojox/mobile/_ExecScriptMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/window","dojo/dom-construct"],function(h,p,l,k){return p("dojox.mobile._ExecScriptMixin",null,{execScript:function(d){d=d.replace(/\f/g," ").replace(/<\/script>/g,"\f");d=d.replace(/<script [^>]*src=['"]([^'"]+)['"][^>]*>([^\f]*)\f/ig,function(d,f){k.create("script",{type:"text/javascript",src:f},l.doc.getElementsByTagName("head")[0]);return""});return d=d.replace(/<script>([^\f]*)\f/ig,function(d,
f){h.eval(f);return""})}})})},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(h,p){var l=h.getObject("dojox.mobile",!0);p("webkit")||10<=p("ie")||require(["dojox/mobile/_compat"]);return l})},"kso/deviceReady":function(){define(function(h){function p(d){l?d(1):k.push(d)}var l=!0,k=[];if(("undefined"==typeof cordova||"undefined"==typeof PhoneGap||"undefined"==typeof phonegap)&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent))l=
!1;document.addEventListener("deviceready",function(d){l=!0;for(d=0;d<k.length;d++)k[d](1)});p.load=function(d,g,f){p(f)};return p})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(h,p){var l=document.createElement("div"),k=l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,d=l.querySelectorAll,g=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;h.add("dom-matches-selector",!!k);h.add("dom-qsa",!!d);var f=function(g,
e){if(a&&-1<g.indexOf(","))return a(g,e);var h=e?e.ownerDocument||e:p.doc||document,k=(d?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(g);e=e||h;if(k){if(k[2]){var l=p.byId?p.byId(k[2],h):h.getElementById(k[2]);if(!l||k[1]&&k[1]!=l.tagName.toLowerCase())return[];if(e!=h)for(h=l;h!=e;)if(h=h.parentNode,!h)return[];return k[3]?f(k[3],l):[l]}if(k[3]&&e.getElementsByClassName)return e.getElementsByClassName(k[4]);if(k[5])if(l=
e.getElementsByTagName(k[5]),k[4]||k[6])g=(k[4]||"")+k[6];else return l}if(d)return 1===e.nodeType&&"object"!==e.nodeName.toLowerCase()?c(e,g,e.querySelectorAll):e.querySelectorAll(g);l||(l=e.getElementsByTagName("*"));for(var k=[],h=0,n=l.length;h<n;h++){var v=l[h];1==v.nodeType&&b(v,g,e)&&k.push(v)}return k},c=function(a,b,c){var d=a,f=a.getAttribute("id"),k=f||"__dojo__",h=a.parentNode,l=/^\s*[+~]/.test(b);if(l&&!h)return[];f?k=k.replace(/'/g,"\\$\x26"):a.setAttribute("id",k);l&&h&&(a=a.parentNode);
b=b.match(g);for(h=0;h<b.length;h++)b[h]="[id\x3d'"+k+"'] "+b[h];b=b.join(",");try{return c.call(a,b)}finally{f||d.removeAttribute("id")}};if(!h("dom-matches-selector"))var b=function(){function a(b,c,d){var e=c.charAt(0);if('"'==e||"'"==e)c=c.slice(1,-1);c=c.replace(/\\/g,"");var f=h[d||""];return function(a){return(a=a.getAttribute(b))&&f(a,c)}}function b(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):
b==c}}function d(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var f="div"==l.tagName?"toLowerCase":"toUpperCase",g={"":function(a){a=a[f]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},h={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-
b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},k={};return function(f,h,l){var p=k[h];if(!p){if(h.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(f,h,k,l,s,u,v){l?p=d(p,g[k||""](l.replace(/\\/g,""))):h?p=(" "==h?b:c)(p):s&&(p=d(p,a(s,v,u)));return""}))throw Error("Syntax error in query");
if(!p)return!0;k[h]=p}return p(f,l)}}();if(!h("dom-qsa"))var a=function(a,b){for(var c=a.match(g),d=[],h=0;h<c.length;h++){a=new String(c[h].replace(/\s*$/,""));a.indexOf=escape;for(var k=f(a,b),l=0,p=k.length;l<p;l++){var y=k[l];d[y.sourceIndex]=y}}c=[];for(h in d)c.push(d[h]);return c};f.match=k?function(a,b,d){return d&&9!=d.nodeType?c(d,b,function(b){return k.call(a,b)}):k.call(a,b)}:b;return f})},"dojox/main":function(){define(["dojo/_base/kernel"],function(h){return h.dojox})},"moch/main":function(){define(["dojo/_base/config"],
function(h){void 0==h.domain_name&&(h.domain_name=parent.dojoConfig?parent.dojoConfig.domain_name:"essens")})},"url:kso/kso.sql":"CREATE TABLE IF NOT EXISTS kso_plan (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    do_what         TEXT,\n    do_how_much     TEXT,\n    do_when         TEXT,\n    do_how_often    TEXT,\n    do_in_days      INTEGER,\n    do_success      INTEGER, -- success for the plan, scale 0-10\n    do_evaluate     INTEGER, -- evaluate the plan, scale 1-3,\n                             -- 1\x3dsuccess, 2\x3dpartial-success, 3\x3dunsuccessful\n    do_evaluate_txt TEXT, -- evaluate the plan in text\n    active          INTEGER DEFAULT 1,\n    public          INTEGER DEFAULT 0,\n    hidden          INTEGER DEFAULT 0,\n    use_at_start    TEXT,\n    use_at_end      TEXT\n);\n\nCREATE TABLE IF NOT EXISTS kso_diary (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    plan_id         INTEGER REFERENCES kso_plan( id ) NOT NULL,\n    info            TEXT,\n    success         INTEGER,\n    use_at          TEXT\n);\n\nCREATE TABLE IF NOT EXISTS kso_problem (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    do_what         TEXT,\n    do_prevent      TEXT,\n    do_evaluate     INTEGER, -- evaluate the problem, scale 1-3\n                             -- 1\x3dsuccess, 2\x3dpartial-success, 3\x3dunsuccessful\n    do_evaluate_txt TEXT, -- evaluate the problem in text\n    active          INTEGER DEFAULT 1,\n    public          INTEGER DEFAULT 0,\n    hidden          INTEGER DEFAULT 0\n);\n\nCREATE TABLE IF NOT EXISTS kso_solution (\n    id              INTEGER PRIMARY KEY AUTOINCREMENT,\n    problem_id      INTEGER REFERENCES kso_problem( id ) NOT NULL,\n    info            TEXT,\n    success         INTEGER\n);\n",
"*now":function(h){h(['dojo/i18n!*preload*kso/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var h=this.require;h({cache:{}});!h.async&&h(["dojo"]);h.boot&&h.apply(null,h.boot)})();
//@ sourceMappingURL=main.js.map